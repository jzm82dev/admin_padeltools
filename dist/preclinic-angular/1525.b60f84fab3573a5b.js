"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[1525],{1525:(C,c,e)=>{e.r(c),e.d(c,{LoginModule:()=>U});var l=e(6895),d=e(27),i=e(433),m=e(6382),o=e(4650),p=e(866);function _(t,v){1&t&&(o.TgZ(0,"div"),o._uU(1," Email is required. "),o.qZA())}function h(t,v){1&t&&(o.TgZ(0,"div"),o._uU(1," Please, enter valid email address. "),o.qZA())}function L(t,v){if(1&t&&(o.TgZ(0,"div",25),o.YNc(1,_,2,0,"div",26),o.YNc(2,h,2,0,"div",26),o.qZA()),2&t){const s=o.oxw();o.xp6(1),o.Q6J("ngIf",s.f.email.errors&&s.f.email.errors.required),o.xp6(1),o.Q6J("ngIf",s.f.email.errors&&s.f.email.errors.email)}}function u(t,v){1&t&&(o.TgZ(0,"div"),o._uU(1," Password is required. "),o.qZA())}function T(t,v){if(1&t&&(o.TgZ(0,"div",25),o.YNc(1,u,2,0,"div",26),o.qZA()),2&t){const s=o.oxw();o.xp6(1),o.Q6J("ngIf",s.f.password.errors&&s.f.password.errors.required)}}function r(t,v){1&t&&(o.TgZ(0,"div",27)(1,"strong"),o._uU(2,"Error!"),o.qZA(),o._uU(3," El usuario o contrase\xf1a es incorrecto. "),o.TgZ(4,"button",28),o._UZ(5,"span",29),o.qZA()())}const g=function(t){return{"is-invalid":t}},f=[{path:"",component:(()=>{class t{get f(){return this.form.controls}constructor(s,a){this.auth=s,this.router=a,this.routes=m._,this.passwordClass=!1,this.error=!1,this.form=new i.cw({email:new i.NI("admin@dreamguys.in",[i.kI.required,i.kI.email]),password:new i.NI("123456",[i.kI.required])})}ngOnInit(){localStorage.getItem("authenticated")&&this.router.navigate([m._.adminDashboard])}loginFormSubmit(){this.form.valid&&this.auth.login(this.form.value.email?this.form.value.email:"",this.form.value.password?this.form.value.password:"").subscribe(s=>{s?setTimeout(()=>{document.location.reload()},50):this.error=!0},s=>{console.log(s)})}togglePassword(){this.passwordClass=!this.passwordClass}static#o=this.\u0275fac=function(a){return new(a||t)(o.Y36(p.e),o.Y36(d.F0))};static#t=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:37,vars:14,consts:[[1,"main-wrapper","login-body"],[1,"container-fluid","px-0"],[1,"row"],[1,"col-lg-6","login-wrap"],[1,"login-sec","test"],[1,"log-img"],["src","assets/img/login-02.png","alt","Logo",1,"img-fluid","text-center"],[1,"col-lg-6","login-wrap-bg"],[1,"login-wrapper"],[1,"loginbox"],[1,"login-right"],[1,"login-right-wrap"],[1,"account-logo"],[3,"routerLink"],["src","assets/img/login-logo.png","alt",""],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"login-danger"],["formControlName","email","type","text",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","password",1,"form-control","pass-input",3,"type","ngClass"],[1,"profile-views","toggle-password",3,"ngClass","click"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],[1,"form-group","login-btn"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["aria-hidden","true"]],template:function(a,n){1&a&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),o._UZ(6,"img",6),o.qZA()()(),o.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"a",13),o._UZ(14,"img",14),o.qZA()(),o.TgZ(15,"h2"),o._uU(16,"Login"),o.qZA(),o.TgZ(17,"form",15),o.NdJ("ngSubmit",function(){return n.loginFormSubmit()}),o.TgZ(18,"div",16)(19,"label"),o._uU(20,"Email "),o.TgZ(21,"span",17),o._uU(22,"*"),o.qZA()(),o._UZ(23,"input",18),o.YNc(24,L,3,2,"div",19),o.qZA(),o.TgZ(25,"div",16)(26,"label"),o._uU(27,"Password "),o.TgZ(28,"span",17),o._uU(29,"*"),o.qZA()(),o._UZ(30,"input",20),o.YNc(31,T,2,1,"div",19),o.TgZ(32,"span",21),o.NdJ("click",function(){return n.togglePassword()}),o.qZA()(),o.YNc(33,r,6,0,"div",22),o.TgZ(34,"div",23)(35,"button",24),o._uU(36," Login "),o.qZA()()()()()()()()()()()),2&a&&(o.xp6(13),o.Q6J("routerLink",n.routes.adminDashboard),o.xp6(4),o.Q6J("formGroup",n.form),o.xp6(6),o.Q6J("ngClass",o.VKq(10,g,n.f.email.touched&&n.f.email.invalid)),o.xp6(1),o.Q6J("ngIf",n.f.email.touched&&n.f.email.invalid),o.xp6(6),o.Q6J("type",n.passwordClass?"text":"password")("ngClass",o.VKq(12,g,n.f.password.touched&&n.f.password.invalid)),o.xp6(1),o.Q6J("ngIf",n.f.password.touched&&n.f.password.invalid),o.xp6(1),o.Q6J("ngClass",n.passwordClass?"feather icon-eye":"feather icon-eye-off"),o.xp6(1),o.Q6J("ngIf",1==n.error),o.xp6(2),o.Q6J("disabled",n.form.invalid))},dependencies:[l.mk,l.O5,d.rH,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".test[_ngcontent-%COMP%]{width:100%;height:50%;align-items:center}"]})}return t})()}];let E=(()=>{class t{static#o=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275mod=o.oAB({type:t});static#e=this.\u0275inj=o.cJS({imports:[d.Bz.forChild(f),d.Bz]})}return t})();var Z=e(6943);let U=(()=>{class t{static#o=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275mod=o.oAB({type:t});static#e=this.\u0275inj=o.cJS({imports:[l.ez,E,Z.m]})}return t})()},5862:(C,c,e)=>{e.d(c,{$g:()=>i});const i="https://api.padeltools.net/api"},866:(C,c,e)=>{e.d(c,{e:()=>L});var l=e(6382),d=e(5862),i=e(4004),m=e(262),o=e(9646),p=e(4650),_=e(27),h=e(529);let L=(()=>{class u{constructor(r,g){this.router=r,this.http=g,this.getLocalStorage()}login(r,g){return console.log("entrmos en el login"),this.http.post(d.$g+"/auth/login",{email:r,password:g}).pipe((0,i.U)(f=>this.saveLocalStorage(f)),(0,m.K)(f=>(console.log(f),(0,o.of)(void 0))))}saveLocalStorage(r){return console.log("response login backend:",r),!(!r||!r.access_token||(console.log("entramos en el if"),localStorage.setItem("token",r.access_token),localStorage.setItem("user",JSON.stringify(r.user)),localStorage.setItem("authenticated","true"),0))}logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("authenticated"),this.router.navigate([l._.login])}getLocalStorage(){if(localStorage.getItem("token")&&localStorage.getItem("user")){let r=localStorage.getItem("user");this.user=JSON.parse(r||""),this.token=localStorage.getItem("token")}else this.user=null,this.token=null}static#o=this.\u0275fac=function(g){return new(g||u)(p.LFG(_.F0),p.LFG(h.eN))};static#t=this.\u0275prov=p.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()}}]);