"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[7717],{67717:(je,f,c)=>{c.r(f),c.d(f,{JorneyModule:()=>Ae});var u=c(36895),h=c(30027),M=c(20696),x=c(46382),e=c(94650),p=c(80529),m=c(75862),A=c(40866);let v=(()=>{const a=class{constructor(n,t){this.http=n,this.authSrv=t}listJorneys(n=1,t=""){let o=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(m.$g+"/journeys?page="+n+"&search="+t,{headers:o})}getJorney(n){let t=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(m.$g+"/journeys/"+n,{headers:t})}storeJorney(n){let t=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys",n,{headers:t})}editJorney(n,t){let o=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/update/"+n,t,{headers:o})}deleteJorney(n){let t=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.delete(m.$g+"/journeys/"+n,{headers:t})}getCategories(n){let t=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/categories",n,{headers:t})}createGameJourney(n){let t=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/create-game",n,{headers:t})}getGameJuorneyCategory(n){let t=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/get-game-category-journey",n,{headers:t})}getGameItems(n){let t=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/get-game-items",n,{headers:t})}saveGameBoard(n){let t=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/save-game-board",n,{headers:t})}deleteBoard(n){let t=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/remove_board",n,{headers:t})}};let r=a;return a.\u0275fac=function(t){return new(t||a)(e.LFG(p.eN),e.LFG(A.e))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),r})();var d=c(24006),y=c(3125),b=c(59549);function q(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",12)(1,"div",25)(2,"button",26),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.save())}),e._uU(3,"GUARDAR"),e.qZA(),e.TgZ(4,"button",27),e._uU(5,"Cancel"),e.qZA()()()}}function k(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"strong"),e._uU(3,"Error!"),e.qZA(),e._uU(4),e.TgZ(5,"button",30),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.cleanMessage())}),e._UZ(6,"span",31),e.qZA()()()}if(2&r){const i=e.oxw();e.xp6(4),e.hij(" ",i.error_message," ")}}function j(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",28)(1,"div",32)(2,"strong"),e._uU(3,"Bien!"),e.qZA(),e._uU(4),e.TgZ(5,"button",30),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.cleanMessage())}),e._UZ(6,"span",31),e.qZA()()()}if(2&r){const i=e.oxw();e.xp6(4),e.hij(" ",i.success_message," ")}}const U=function(r){return["/jorneys/list-jorney/edit/",r]};function w(r,a){if(1&r&&(e.TgZ(0,"div",12)(1,"div",25)(2,"button",33),e._uU(3,"CONFIGURAR"),e.qZA(),e.TgZ(4,"button",34),e._uU(5,"Listado"),e.qZA()()()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("routerLink",e.VKq(2,U,i.id_new_journey)),e.xp6(2),e.Q6J("routerLink",i.routes.jorneyList)}}let N=(()=>{const a=class{constructor(n){this.jorneySrv=n,this.routes=x._,this.name="",this.date_planned="",this.description="",this.success_message="",this.error_message="",this.save_ok=!1,this.id_new_journey=""}cleanMessage(){this.error_message="",this.success_message=""}save(){if(this.cleanMessage(),""==this.name||""==this.date_planned)return void(this.error_message="Los campos nombre y fecha prevista son obligatorios");let n=new FormData;n.append("name",this.name),n.append("description",this.description),n.append("date",this.date_planned),this.jorneySrv.storeJorney(n).subscribe(t=>{200!=t.message?this.error_message="Ha habido un error al guardar club. Consulte con su administrador.":(this.save_ok=!0,this.id_new_journey=t.id_journey,this.success_message="Jornada a\xf1adida correctamente.")})}};let r=a;return a.\u0275fac=function(t){return new(t||a)(e.Y36(v))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-jorney"]],decls:49,vars:10,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","text","matInput","","name","date_planned",1,"form-control","datetimepicker",3,"matDatepicker","ngModel","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],[1,"col-12","col-md-12","col-xl-12"],["name","description","type","text",1,"form-control",3,"ngModel","ngModelChange"],["class","col-12",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[1,"doctor-submit","text-end"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],["type","submit",1,"btn","btn-primary","cancel-form"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"routerLink"],["type","submit",1,"btn","btn-primary","cancel-form",3,"routerLink"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8,"Jornadas "),e.qZA()(),e.TgZ(9,"li",6),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"li",9),e._uU(12,"Nueva jornada"),e.qZA()()()()(),e.TgZ(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"form")(18,"div",3)(19,"div",12)(20,"div",13)(21,"h4"),e._uU(22,"Datos"),e.qZA()()(),e.TgZ(23,"div",14)(24,"div",15)(25,"label"),e._uU(26,"Nombre"),e.TgZ(27,"span",16),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"input",17),e.NdJ("ngModelChange",function(s){return o.name=s}),e.qZA()()(),e.TgZ(30,"div",14)(31,"div",15)(32,"label"),e._uU(33,"Fecha Prevista "),e.TgZ(34,"span",16),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"input",18),e.NdJ("ngModelChange",function(s){return o.date_planned=s}),e.qZA(),e._UZ(37,"mat-datepicker",null,19)(39,"mat-datepicker-toggle",20),e.qZA()(),e.TgZ(40,"div",21)(41,"div",15)(42,"label"),e._uU(43,"Descripci\xf3n "),e.qZA(),e.TgZ(44,"input",22),e.NdJ("ngModelChange",function(s){return o.description=s}),e.qZA()()(),e.YNc(45,q,6,0,"div",23),e.YNc(46,k,7,1,"div",24),e.YNc(47,j,7,1,"div",24),e.YNc(48,w,6,4,"div",23),e.qZA()()()()()()()()),2&t){const _=e.MAs(38);e.xp6(7),e.Q6J("routerLink",o.routes.jorneyList),e.xp6(22),e.Q6J("ngModel",o.name),e.xp6(7),e.Q6J("matDatepicker",_)("ngModel",o.date_planned),e.xp6(3),e.Q6J("for",_),e.xp6(5),e.Q6J("ngModel",o.description),e.xp6(1),e.Q6J("ngIf",!o.save_ok),e.xp6(1),e.Q6J("ngIf",""!=o.error_message),e.xp6(1),e.Q6J("ngIf",""!=o.success_message),e.xp6(1),e.Q6J("ngIf",o.save_ok)}},dependencies:[u.O5,h.rH,d._Y,d.Fj,d.JJ,d.JL,d.On,d.F,y.Mq,y.hl,y.nW,b.R9]}),r})();var C=c(30671),E=c(74742),Z=c(96308);const Q=["closebutton"],z=function(r){return["edit",r]};function O(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",59)(10,"div",60)(11,"a",61),e._UZ(12,"i",62),e.qZA(),e.TgZ(13,"div",63)(14,"a",64),e._UZ(15,"i",65),e._uU(16," Editar"),e.qZA(),e.TgZ(17,"a",66),e.NdJ("click",function(){const o=e.CHM(i).$implicit,_=e.oxw();return e.KtG(_.selectJorney(o))}),e._UZ(18,"i",67),e._uU(19," Borrar"),e.qZA()()()()()}if(2&r){const i=a.$implicit;e.xp6(2),e.Oqu(i.name),e.xp6(2),e.Oqu(i.date),e.xp6(2),e.Oqu(i.description),e.xp6(2),e.Oqu(i.craeted_at),e.xp6(6),e.Q6J("routerLink",e.VKq(5,z,i.id))}}function F(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"li",69),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.moveToPage(t.currentPage-2))}),e.TgZ(1,"a",70),e._uU(2," ... "),e.qZA()()}if(2&r){const i=e.oxw(2);e.Q6J("hidden",1===i.currentPage)}}function D(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"li",69),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.moveToPage(t.currentPage+2))}),e.TgZ(1,"a",70),e._uU(2," ... "),e.qZA()()}if(2&r){const i=e.oxw(2);e.Q6J("hidden",i.currentPage>=i.pageNumberArray[i.pageNumberArray.length-2]||i.totalData<i.serialNumberArray[i.serialNumberArray.length-1])}}function G(r,a){if(1&r){const i=e.EpF();e.ynx(0),e.TgZ(1,"li",46)(2,"a",48),e.NdJ("click",function(){const o=e.CHM(i).$implicit,_=e.oxw();return e.KtG(_.moveToPage(o))}),e._uU(3),e.qZA()(),e.YNc(4,F,3,1,"li",68),e.YNc(5,D,3,1,"li",68),e.BQk()}if(2&r){const i=a.$implicit,n=a.index,t=e.oxw();e.xp6(1),e.ekj("active",i===t.currentPage),e.Q6J("ngClass",t.pageNumberArray[t.currentPage-2]>i&&1!==i&&t.pageNumberArray.length>6||t.pageNumberArray[t.currentPage]<i&&1!==i&&t.pageNumberArray.length>6&&t.pageNumberArray.length!==i?"hide-page-no":"show-page-no"),e.xp6(2),e.hij(" ",i," "),e.xp6(1),e.Q6J("ngIf",0===n&&t.pageNumberArray.length>6&&t.currentPage>2),e.xp6(1),e.Q6J("ngIf",n===t.pageNumberArray.length-2&&t.pageNumberArray.length>6)}}function S(r,a){if(1&r&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("Est\xe1s seguro de borrar la categor\xeda ",i.jorney_selected.name," ?")}}const J=function(r){return{disabled:r}};let H=(()=>{const a=class{constructor(n,t){this.data=n,this.jorneySrv=t,this.jorneysList=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=20,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.jorneys_general=[],this.statusText=""}ngOnInit(){this.user=this.jorneySrv.authSrv.user,this.getTableData()}getTableData(n=1,t=""){this.jorneysList=[],this.serialNumberArray=[],this.jorneySrv.listJorneys(n,this.searchDataValue).subscribe(o=>{this.totalData=o.total,this.jorneysList=o.journeys,this.dataSource=new C.by(this.jorneysList),this.calculateTotalPages(this.totalData,this.pageSize)})}hasPermission(n){return!(!this.user.role.includes("Super-Admin")&&!this.user.permissions.includes(n))}getTableDataGeneral(){new u.uU("en-US"),this.jorneysList=[],this.serialNumberArray=[],this.jorneys_general.map((t,o)=>{const _=o+1;o>=this.skip&&_<=this.limit&&(this.jorneysList.push(t),this.serialNumberArray.push(_))}),this.dataSource=new C.by(this.jorneysList),this.calculateTotalPages(this.totalData,this.pageSize)}searchData(n){this.dataSource.filter=n.trim().toLowerCase(),this.getTableData(this.currentPage,this.searchDataValue)}sortData(n){const t=this.jorneysList.slice();this.jorneysList=n.active&&""!==n.direction?t.sort((o,_)=>(o[n.active]<_[n.active]?-1:1)*("asc"===n.direction?1:-1)):t}getMoreData(n){"next"==n?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData(this.currentPage)):"previous"==n&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData(this.currentPage))}moveToPage(n){this.currentPage=n,this.skip=this.pageSelection[n-1].skip,this.limit=this.pageSelection[n-1].limit,n>this.currentPage?this.pageIndex=n-1:n<this.currentPage&&(this.pageIndex=n+1),this.getTableData(this.currentPage)}refresh(){this.pageSelection=[],this.searchDataValue="",this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableData()}calculateTotalPages(n,t){this.pageNumberArray=[],this.totalPages=n/t,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(var o=1;o<=this.totalPages;o++){const _=t*o,s=_-t;this.pageNumberArray.push(o),this.pageSelection.push({skip:s,limit:_})}}selectJorney(n){this.jorney_selected=n}removeClub(){this.jorneySrv.deleteJorney(this.jorney_selected.id).subscribe(n=>{if(200==n.message){let t=this.jorneysList.findIndex(o=>o.id==this.jorney_selected.id);-1!=t&&(this.jorneysList.splice(t,1),this.closebutton.nativeElement.click(),this.jorney_selected=null)}else console.log(n)})}};let r=a;return a.\u0275fac=function(t){return new(t||a)(e.Y36(E.D),e.Y36(v))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-list-jorney"]],viewQuery:function(t,o){if(1&t&&e.Gf(Q,5),2&t){let _;e.iGM(_=e.CRH())&&(o.closebutton=_.first)}},decls:83,vars:13,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],["placeholder","Search here",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"add-group"],["routerLink","/roles/register","routerLinkActive","router-link-active",1,"btn","btn-primary","add-pluss","ms-2"],["src","assets/img/icons/plus.svg","alt",""],["href","javascript:;",1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],["href","javascript:;",1,"me-2"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["src","assets/img/icons/pdf-icon-02.svg","alt",""],["src","assets/img/icons/pdf-icon-03.svg","alt",""],["href","javascript:;"],["src","assets/img/icons/pdf-icon-04.svg","alt",""],[1,"table-responsive"],["matSort","",1,"table","border-0","custom-table","comman-table","datatable","mb-0",3,"matSortChange"],["mat-sort-header","name"],["mat-sort-header","surname"],["mat-sort-header","descripcion"],["mat-sort-header","joining_date"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click"],["href","javascript:void(0);",1,"page-link",3,"click"],["id","delete_staff_modal","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],["href","#",1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_staff_modal",1,"dropdown-item",3,"click"],[1,"fa","fa-trash-alt","m-r-5"],["class","page-item",3,"hidden","click",4,"ngIf"],[1,"page-item",3,"hidden","click"],["href","javascript:void(0);",1,"page-link"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8,"Clubs "),e.qZA()(),e.TgZ(9,"li",6),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"li",9),e._uU(12,"Listado"),e.qZA()()()()(),e.TgZ(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h3"),e._uU(22,"Listado de jornadas"),e.qZA(),e.TgZ(23,"div",16)(24,"div",17)(25,"input",18),e.NdJ("ngModelChange",function(s){return o.searchDataValue=s})("ngModelChange",function(){return o.searchData(o.searchDataValue)}),e.qZA(),e.TgZ(26,"a",19),e._UZ(27,"img",20),e.qZA()(),e.TgZ(28,"div",21)(29,"a",22),e._UZ(30,"img",23),e.qZA(),e.TgZ(31,"a",24),e.NdJ("click",function(){return o.refresh()}),e._UZ(32,"img",25),e.qZA()()()()(),e.TgZ(33,"div",26)(34,"a",27),e._UZ(35,"img",28),e.qZA(),e.TgZ(36,"a",27),e._UZ(37,"img",29),e.qZA(),e.TgZ(38,"a",27),e._UZ(39,"img",30),e.qZA(),e.TgZ(40,"a",31),e._UZ(41,"img",32),e.qZA()()()(),e.TgZ(42,"div",33)(43,"table",34),e.NdJ("matSortChange",function(s){return o.sortData(s)}),e.TgZ(44,"thead")(45,"tr")(46,"th",35),e._uU(47,"Nombre"),e.qZA(),e.TgZ(48,"th",36),e._uU(49,"Fecha prevista"),e.qZA(),e.TgZ(50,"th",37),e._uU(51,"Descripcion"),e.qZA(),e.TgZ(52,"th",38),e._uU(53,"Fecha Creaci\xf3n"),e.qZA(),e._UZ(54,"th"),e.qZA()(),e.TgZ(55,"tbody"),e.YNc(56,O,20,7,"tr",39),e.qZA()(),e.TgZ(57,"div",40)(58,"div",41)(59,"div",42),e._uU(60),e.qZA()(),e.TgZ(61,"div",43)(62,"div",44)(63,"ul",45)(64,"li",46)(65,"a",47),e.NdJ("click",function(){return o.getMoreData("previous")}),e._uU(66,"Previous"),e.qZA()(),e.YNc(67,G,6,6,"ng-container",39),e.TgZ(68,"li",46)(69,"a",48),e.NdJ("click",function(){return o.getMoreData("next")}),e._uU(70,"Next "),e.qZA()()()()()()()()()()()()(),e.TgZ(71,"div",49)(72,"div",50)(73,"div",51)(74,"div",52),e._UZ(75,"img",53),e.YNc(76,S,2,1,"h3",54),e.TgZ(77,"div",55)(78,"a",56,57),e._uU(80,"Close"),e.qZA(),e.TgZ(81,"button",58),e.NdJ("click",function(){return o.removeClub()}),e._uU(82,"Delete"),e.qZA()()()()()()),2&t&&(e.xp6(25),e.Q6J("ngModel",o.searchDataValue),e.xp6(31),e.Q6J("ngForOf",o.jorneysList),e.xp6(4),e.lnq(" Showing ",o.serialNumberArray[0]," to ",o.serialNumberArray[o.serialNumberArray.length-1]," of ",o.totalData," entries "),e.xp6(4),e.Q6J("ngClass",e.VKq(9,J,1===o.currentPage)),e.xp6(3),e.Q6J("ngForOf",o.pageNumberArray),e.xp6(1),e.Q6J("ngClass",e.VKq(11,J,o.currentPage===o.pageNumberArray[o.pageNumberArray.length-1]||0===o.jorneysList.length)),e.xp6(8),e.Q6J("ngIf",o.jorney_selected))},dependencies:[u.mk,u.sg,u.O5,h.rH,h.Od,d.Fj,d.JJ,d.On,Z.YE,Z.nU]}),r})();var L=c(84385),I=c(3238);const K=["closebutton"];function P(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",12)(1,"div",46)(2,"button",47),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.save())}),e._uU(3,"GUARDAR"),e.qZA(),e.TgZ(4,"button",48),e._uU(5,"Cancel"),e.qZA()()()}}function Y(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"strong"),e._uU(3,"Error!"),e.qZA(),e._uU(4),e.TgZ(5,"button",51),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.cleanMessage())}),e._UZ(6,"span",52),e.qZA()()()}if(2&r){const i=e.oxw();e.xp6(4),e.hij(" ",i.error_message," ")}}function B(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",49)(1,"div",53)(2,"strong"),e._uU(3,"Bien!"),e.qZA(),e._uU(4),e.TgZ(5,"button",51),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.cleanMessage())}),e._UZ(6,"span",52),e.qZA()()()}if(2&r){const i=e.oxw();e.xp6(4),e.hij(" ",i.success_message," ")}}const $=function(r){return{active:r}};function V(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"li")(1,"a",54),e.NdJ("click",function(){const t=e.CHM(i),o=t.$implicit,_=t.index,s=e.oxw();return e.KtG(s.tabSeleted(o.category_id,_))}),e.TgZ(2,"span",55),e._UZ(3,"img",56),e.qZA(),e._uU(4),e.qZA()()}if(2&r){const i=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(2,$,n.tab_selected==i.category_id)),e.xp6(3),e.Oqu(i.name)}}function R(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function W(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function X(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function ee(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function te(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function ne(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function ie(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function oe(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function re(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function ae(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function _e(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function se(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function le(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",64)(1,"button",76),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(),o=t.$implicit,_=t.index,s=e.oxw(4);return e.KtG(s.saveBoard(o,_))}),e._uU(2,"GUARDAR "),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"button",77),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(),o=t.$implicit,_=t.index,s=e.oxw(4);return e.KtG(s.seletedBoard(o,_))}),e._uU(5,"BORRAR "),e.qZA()()}}function ce(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"strong"),e._uU(3,"Error!"),e.qZA(),e._uU(4),e.TgZ(5,"button",51),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(5);return e.KtG(t.cleanMessage())}),e._UZ(6,"span",52),e.qZA()()()}if(2&r){const i=e.oxw(5);e.xp6(4),e.hij(" ",i.error_table_message," ")}}function de(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",49)(1,"div",53)(2,"strong"),e._uU(3,"Bien!"),e.qZA(),e._uU(4),e.TgZ(5,"button",51),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(5);return e.KtG(t.cleanMessage())}),e._UZ(6,"span",52),e.qZA()()()}if(2&r){const i=e.oxw(5);e.xp6(4),e.hij(" ",i.success_table_message," ")}}const l=function(){return{standalone:!0}};function ge(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",3)(1,"div",59)(2,"div",60)(3,"div",61)(4,"div",62)(5,"table",63)(6,"thead")(7,"tr")(8,"th",64),e._uU(9),e.qZA(),e.TgZ(10,"th",64),e._uU(11),e.qZA(),e.TgZ(12,"th",64),e._uU(13,"Set 1"),e.qZA(),e.TgZ(14,"th",64),e._uU(15,"Set 2"),e.qZA(),e.TgZ(16,"th",64),e._uU(17,"Set 3"),e.qZA()()(),e.TgZ(18,"tbody")(19,"tr",65)(20,"td")(21,"mat-select",66),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+1].local_player_1=t)}),e.YNc(22,R,2,2,"mat-option",67),e.qZA(),e.TgZ(23,"mat-select",68),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+1].local_player_2=t)}),e.YNc(24,W,2,2,"mat-option",67),e.qZA()(),e.TgZ(25,"td")(26,"mat-select",66),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+1].visiting_player_1=t)}),e.YNc(27,X,2,2,"mat-option",67),e.qZA(),e.TgZ(28,"mat-select",68),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+1].visiting_player_2=t)}),e.YNc(29,ee,2,2,"mat-option",67),e.qZA()(),e.TgZ(30,"td")(31,"input",69),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+1].result_set_1=t)})("keypress",function(t){e.CHM(i);const o=e.oxw(4);return e.KtG(o.setValue(t))}),e.qZA()(),e.TgZ(32,"td")(33,"input",70),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+1].result_set_2=t)})("keypress",function(t){e.CHM(i);const o=e.oxw(4);return e.KtG(o.setValue(t))}),e.qZA()(),e.TgZ(34,"td")(35,"input",71),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+1].result_set_3=t)})("keypress",function(t){e.CHM(i);const o=e.oxw(4);return e.KtG(o.setValue(t))}),e.qZA()()(),e.TgZ(36,"tr",72)(37,"td")(38,"mat-select",66),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+2].local_player_1=t)}),e.YNc(39,te,2,2,"mat-option",67),e.qZA(),e.TgZ(40,"mat-select",68),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+2].local_player_2=t)}),e.YNc(41,ne,2,2,"mat-option",67),e.qZA()(),e.TgZ(42,"td")(43,"mat-select",66),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+2].visiting_player_1=t)}),e.YNc(44,ie,2,2,"mat-option",67),e.qZA(),e.TgZ(45,"mat-select",68),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+2].visiting_player_2=t)}),e.YNc(46,oe,2,2,"mat-option",67),e.qZA()(),e.TgZ(47,"td")(48,"input",69),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+2].result_set_1=t)})("keypress",function(t){e.CHM(i);const o=e.oxw(4);return e.KtG(o.setValue(t))}),e.qZA()(),e.TgZ(49,"td")(50,"input",70),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+2].result_set_2=t)})("keypress",function(t){e.CHM(i);const o=e.oxw(4);return e.KtG(o.setValue(t))}),e.qZA()(),e.TgZ(51,"td")(52,"input",71),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+2].result_set_3=t)})("keypress",function(t){e.CHM(i);const o=e.oxw(4);return e.KtG(o.setValue(t))}),e.qZA()()(),e.TgZ(53,"tr",73)(54,"td")(55,"mat-select",66),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+3].local_player_1=t)}),e.YNc(56,re,2,2,"mat-option",67),e.qZA(),e.TgZ(57,"mat-select",68),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+3].local_player_2=t)}),e.YNc(58,ae,2,2,"mat-option",67),e.qZA()(),e.TgZ(59,"td")(60,"mat-select",66),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+3].visiting_player_1=t)}),e.YNc(61,_e,2,2,"mat-option",67),e.qZA(),e.TgZ(62,"mat-select",68),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+3].visiting_player_2=t)}),e.YNc(63,se,2,2,"mat-option",67),e.qZA()(),e.TgZ(64,"td")(65,"input",69),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+3].result_set_1=t)})("keypress",function(t){e.CHM(i);const o=e.oxw(4);return e.KtG(o.setValue(t))}),e.qZA()(),e.TgZ(66,"td")(67,"input",70),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+3].result_set_2=t)})("keypress",function(t){e.CHM(i);const o=e.oxw(4);return e.KtG(o.setValue(t))}),e.qZA()(),e.TgZ(68,"td")(69,"input",71),e.NdJ("ngModelChange",function(t){const _=e.CHM(i).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*_+3].result_set_3=t)})("keypress",function(t){e.CHM(i);const o=e.oxw(4);return e.KtG(o.setValue(t))}),e.qZA()()()()()(),e.YNc(70,le,6,0,"div",74),e.YNc(71,ce,7,1,"div",30),e.YNc(72,de,7,1,"div",30),e.qZA()()()()}if(2&r){const i=a.$implicit,n=a.index,t=e.oxw(4);e.xp6(9),e.Oqu(i.local_team_name),e.xp6(2),e.Oqu(i.visiting_team_name),e.xp6(10),e.Q6J("ngModel",t.player_by_team_matriz[3*n+1].local_player_1)("ngModelOptions",e.DdM(68,l)),e.xp6(1),e.Q6J("ngForOf",i.local_players),e.xp6(1),e.Q6J("ngModel",t.player_by_team_matriz[3*n+1].local_player_2)("ngModelOptions",e.DdM(69,l)),e.xp6(1),e.Q6J("ngForOf",i.local_players),e.xp6(2),e.Q6J("ngModel",t.player_by_team_matriz[3*n+1].visiting_player_1)("ngModelOptions",e.DdM(70,l)),e.xp6(1),e.Q6J("ngForOf",i.visiting_players),e.xp6(1),e.Q6J("ngModel",t.player_by_team_matriz[3*n+1].visiting_player_2)("ngModelOptions",e.DdM(71,l)),e.xp6(1),e.Q6J("ngForOf",i.visiting_players),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(72,l))("ngModel",t.player_by_team_matriz[3*n+1].result_set_1)("name",t.player_by_team_matriz[3*n+1].result_set_1),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(73,l))("ngModel",t.player_by_team_matriz[3*n+1].result_set_2)("name",t.player_by_team_matriz[3*n+1].result_set_2),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(74,l))("ngModel",t.player_by_team_matriz[3*n+1].result_set_3)("name",t.player_by_team_matriz[3*n+1].result_set_3),e.xp6(3),e.Q6J("ngModel",t.player_by_team_matriz[3*n+2].local_player_1)("ngModelOptions",e.DdM(75,l)),e.xp6(1),e.Q6J("ngForOf",i.local_players),e.xp6(1),e.Q6J("ngModel",t.player_by_team_matriz[3*n+2].local_player_2)("ngModelOptions",e.DdM(76,l)),e.xp6(1),e.Q6J("ngForOf",i.local_players),e.xp6(2),e.Q6J("ngModel",t.player_by_team_matriz[3*n+2].visiting_player_1)("ngModelOptions",e.DdM(77,l)),e.xp6(1),e.Q6J("ngForOf",i.visiting_players),e.xp6(1),e.Q6J("ngModel",t.player_by_team_matriz[3*n+2].visiting_player_2)("ngModelOptions",e.DdM(78,l)),e.xp6(1),e.Q6J("ngForOf",i.visiting_players),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(79,l))("ngModel",t.player_by_team_matriz[3*n+2].result_set_1)("name",t.player_by_team_matriz[3*n+2].result_set_1),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(80,l))("ngModel",t.player_by_team_matriz[3*n+2].result_set_2)("name",t.player_by_team_matriz[3*n+2].result_set_2),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(81,l))("ngModel",t.player_by_team_matriz[3*n+2].result_set_3)("name",t.player_by_team_matriz[3*n+2].result_set_3),e.xp6(3),e.Q6J("ngModel",t.player_by_team_matriz[3*n+3].local_player_1)("ngModelOptions",e.DdM(82,l)),e.xp6(1),e.Q6J("ngForOf",i.local_players),e.xp6(1),e.Q6J("ngModel",t.player_by_team_matriz[3*n+3].local_player_2)("ngModelOptions",e.DdM(83,l)),e.xp6(1),e.Q6J("ngForOf",i.local_players),e.xp6(2),e.Q6J("ngModel",t.player_by_team_matriz[3*n+3].visiting_player_1)("ngModelOptions",e.DdM(84,l)),e.xp6(1),e.Q6J("ngForOf",i.visiting_players),e.xp6(1),e.Q6J("ngModel",t.player_by_team_matriz[3*n+3].visiting_player_2)("ngModelOptions",e.DdM(85,l)),e.xp6(1),e.Q6J("ngForOf",i.visiting_players),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(86,l))("ngModel",t.player_by_team_matriz[3*n+3].result_set_1)("name",t.player_by_team_matriz[3*n+3].result_set_1),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(87,l))("ngModel",t.player_by_team_matriz[3*n+3].result_set_2)("name",t.player_by_team_matriz[3*n+3].result_set_2),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(88,l))("ngModel",t.player_by_team_matriz[3*n+3].result_set_3)("name",t.player_by_team_matriz[3*n+3].result_set_3),e.xp6(1),e.Q6J("ngIf",null==t.cron_executed_at),e.xp6(1),e.Q6J("ngIf",""!=t.error_table_message),e.xp6(1),e.Q6J("ngIf",""!=t.success_table_message)}}function pe(r,a){if(1&r&&(e.ynx(0),e.YNc(1,ge,73,89,"div",58),e.BQk()),2&r){const i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",i.matches_category)}}function me(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",78)(1,"td")(2,"button",79),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(3);return e.KtG(t.openPopup())}),e._uU(3,"A\xf1adir partido"),e.qZA()()()}}function ue(r,a){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,pe,2,1,"ng-container",40),e.YNc(2,me,4,0,"div",57),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1==i.flag2),e.xp6(1),e.Q6J("ngIf",null==i.cron_executed_at)}}function he(r,a){if(1&r&&(e.ynx(0),e.YNc(1,ue,3,2,"div",40),e.BQk()),2&r){const i=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.tab_selected==i.category_id)}}function ye(r,a){1&r&&(e.TgZ(0,"h3"),e._uU(1,"\xbfEst\xe1s seguro de querer borrar los partidos?"),e.qZA())}function ve(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.AsE(" ",i.name," - ",i.club_name," ")}}function fe(r,a){if(1&r&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.AsE(" ",i.name," - ",i.club_name," ")}}function xe(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"strong"),e._uU(3,"Error!"),e.qZA(),e._uU(4),e.TgZ(5,"button",51),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.cleanMessage())}),e._UZ(6,"span",52),e.qZA()()()}if(2&r){const i=e.oxw(2);e.xp6(4),e.hij(" ",i.error_message_popup," ")}}function be(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.addMatchJourney())}),e._uU(1,"A\xf1adir"),e.qZA()}}function Ce(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"div",80)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",3)(5,"div",21)(6,"h3"),e._uU(7,"Crear partido"),e.qZA()()()(),e.TgZ(8,"div",81)(9,"div",82)(10,"div",15)(11,"div",15)(12,"label"),e._uU(13,"Equipo local "),e.TgZ(14,"span",16),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"mat-select",83),e.NdJ("ngModelChange",function(t){e.CHM(i);const o=e.oxw();return e.KtG(o.local_team=t)}),e.YNc(17,ve,2,3,"mat-option",67),e.qZA()()()(),e.TgZ(18,"div",81)(19,"div",82)(20,"div",15)(21,"div",15)(22,"label"),e._uU(23,"Equipo visitante "),e.TgZ(24,"span",16),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"mat-select",83),e.NdJ("ngModelChange",function(t){e.CHM(i);const o=e.oxw();return e.KtG(o.visiting_team=t)}),e.YNc(27,fe,2,3,"mat-option",67),e.qZA()()()()(),e.TgZ(28,"div",3),e.YNc(29,xe,7,1,"div",30),e.qZA(),e.TgZ(30,"div",84)(31,"a",42,85),e._uU(33,"Cerrar"),e.qZA(),e.YNc(34,be,2,0,"button",86),e.qZA()()()()()}if(2&r){const i=e.oxw();e.xp6(16),e.Q6J("ngModel",i.local_team)("ngModelOptions",e.DdM(8,l)),e.xp6(1),e.Q6J("ngForOf",i.list_categories[i.category_selected_id].teams),e.xp6(9),e.Q6J("ngModel",i.visiting_team)("ngModelOptions",e.DdM(9,l)),e.xp6(1),e.Q6J("ngForOf",i.list_categories[i.category_selected_id].teams),e.xp6(2),e.Q6J("ngIf",""!=i.error_message_popup),e.xp6(5),e.Q6J("ngIf",""==i.text_modal_success)}}const Je=[{path:"",component:M.H,children:[{path:"add-jorney",component:N},{path:"list-jorney",component:H},{path:"list-jorney/edit/:id",component:(()=>{const a=class{constructor(n,t){this.jorneySrv=n,this.activateRoute=t,this.routes=x._,this.name="",this.date_planned="",this.description="",this.jorney_id="",this.category_selected_id=0,this.success_message="",this.error_message="",this.tab_selected=1,this.list_categories=[],this.text_modal_success="",this.local_team="",this.visiting_team="",this.flag=!1,this.error_message_popup="",this.matches_category=[],this.game_items_data=[],this.index_array=0,this.resul_set_1_local="",this.resul_set_1_visiting="",this.resul_set_2_local="",this.resul_set_2_visiting="",this.resul_set_3_local="",this.resul_set_3_visiting="",this.player_by_team_matriz=[],this.flag2=!1,this.text_game_success="",this.text_game_fail="",this.error_table_message="",this.success_table_message=""}ngOnInit(){this.activateRoute.params.subscribe(n=>{this.jorney_id=n.id,this.getJorneySelected(),this.getCategories(),this.defaultPlayer()})}getGameItems(n=""){let t;t=""!=n?n:{journey_id:this.jorney_id,category_id:this.list_categories[0].category_id},this.jorneySrv.getGameItems(t).subscribe(o=>{this.game_items_data=o.game_items,this.fillPlayers()})}getJorneySelected(){this.jorneySrv.getJorney(this.jorney_id).subscribe(n=>{this.jorney_selected=n.jorney,this.name=this.jorney_selected.name,this.description=this.jorney_selected.description,this.status=1==n.jorney.status,this.cron_executed_at=n.jorney.cron_executed_at,this.date_planned=new Date(this.jorney_selected.date).toISOString()})}cleanMessage(){this.error_message="",this.success_message="",this.error_message_popup="",this.text_game_success="",this.text_game_fail="",this.error_table_message="",this.success_table_message=""}save(){if(this.cleanMessage(),""==this.name||""==this.date_planned)return void(this.error_message="Los campos nombre y fecha prevista son obligatorios");let n=new FormData;n.append("name",this.name),n.append("description",this.description),n.append("date",this.date_planned),n.append("status",this.status?"1":"0"),this.jorneySrv.editJorney(this.jorney_id,n).subscribe(t=>{200!=t.message?this.error_message="Ha habido un error al actualizar la jornada. Consulte con su administrador.":this.success_message="Jornada actualizada correctamente."})}getCategories(){this.flag=!1,this.jorneySrv.getCategories({journey_id:this.jorney_id}).subscribe(t=>{this.list_categories=t.categories,this.flag=!0,this.tabSeleted(this.list_categories[0].category_id,0),this.getGameItems()})}tabSeleted(n,t){this.tab_selected=n,this.category_selected_id=t;let o={journey_id:this.jorney_id,category_id:n};this.getGameItems(o),this.jorneySrv.getGameJuorneyCategory(o).subscribe(_=>{this.matches_category=_.games})}fillPlayers(){0==this.game_items_data.length?this.defaultPlayer():(this.flag2=!0,this.game_items_data.forEach(n=>{this.player_by_team_matriz[n.game_number]=n}))}addMatchJourney(){""!=this.local_team&&""!=this.visiting_team?this.local_team!=this.visiting_team?this.jorneySrv.createGameJourney({journey_id:this.jorney_id,category_id:this.tab_selected,local_team_id:this.local_team,visiting_team_id:this.visiting_team}).subscribe(t=>{window.location.reload()}):this.error_message_popup="El equipo local y visitante no puede ser el mismo":this.error_message_popup="Tienes que seleccionar ambos equipos"}openPopup(){this.local_team="",this.visiting_team=""}saveBoard(n,t){let o=1;1==t&&(o=4);let s=o+3;for(let g=o;g<s;g++)this.jorneySrv.saveGameBoard({journey_id:this.jorney_id,category_id:this.list_categories[this.tab_selected-1].category_id,game_id:n.id,game_number:o,local_player_1:this.player_by_team_matriz[g].local_player_1?this.player_by_team_matriz[g].local_player_1:0,local_player_2:this.player_by_team_matriz[g].local_player_2?this.player_by_team_matriz[g].local_player_2:0,visiting_player_1:this.player_by_team_matriz[g].visiting_player_1?this.player_by_team_matriz[g].visiting_player_1:0,visiting_player_2:this.player_by_team_matriz[g].visiting_player_2?this.player_by_team_matriz[g].visiting_player_2:0,result_set_1:this.player_by_team_matriz[g].result_set_1?this.player_by_team_matriz[g].result_set_1:"",result_set_2:this.player_by_team_matriz[g].result_set_2?this.player_by_team_matriz[g].result_set_2:"",result_set_3:this.player_by_team_matriz[g].result_set_3?this.player_by_team_matriz[g].result_set_3:""}).subscribe(ke=>{(ke.message=200)&&(this.success_table_message="Jugadores a\xf1adidos a los equipos correctamente")}),o++}seletedBoard(n,t){this.board_to_delete=n}deleteBoard(){this.jorneySrv.deleteBoard({board_id:this.board_to_delete.id}).subscribe(t=>{if(200==t.message){let o=this.matches_category.findIndex(_=>_.id==this.board_to_delete.id);-1!=o&&(this.matches_category.splice(o,1),this.closebutton.nativeElement.click(),this.board_to_delete=null,this.success_table_message="Partidos borrados correctamente")}else console.log(t)})}defaultPlayer(){let n=1;for(let t=1;t<7;t++){let o={journey_id:0,category_id:0,game_id:0,game_number:n,local_player_1:0,local_player_2:0,visiting_player_1:0,visiting_player_2:0,result_set_1:"",result_set_2:"",result_set_3:""};n++,this.player_by_team_matriz[t]=o}this.flag2=!0}setValue(n){const o=String.fromCharCode(n.charCode);/[0-7-]/.test(o)||n.preventDefault()}};let r=a;return a.\u0275fac=function(t){return new(t||a)(e.Y36(v),e.Y36(h.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-edit-jorney"]],viewQuery:function(t,o){if(1&t&&e.Gf(K,5),2&t){let _;e.iGM(_=e.CRH())&&(o.closebutton=_.first)}},decls:77,vars:14,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","text","matInput","","name","date_planned",1,"form-control","datetimepicker",3,"matDatepicker","ngModel","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],[1,"col-12","col-md-12","col-xl-12"],["name","description","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-3","col-xl-3"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"status-toggle","d-flex","justify-content-between","align-items-center"],["type","checkbox","name","status","id","status",1,"check",3,"ngModel","ngModelChange"],["for","status",1,"checktoggle"],["class","col-12",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[1,"doctor-personals-grp"],[1,"tab-content-set"],[1,"nav"],[4,"ngFor","ngForOf"],["id","delete_board","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],["id","add_player_modal","class","modal fade delete-modal","role","dialog",4,"ngIf"],[1,"doctor-submit","text-end"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],["type","submit",1,"btn","btn-primary","cancel-form"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["href","#","onclick","return false;",3,"ngClass","click"],[1,"set-about-icon","me-2"],["src","assets/img/icons/menu-icon-16.svg","alt",""],["class","row my-4",4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"col-lg-12"],[1,"card-box"],[1,"card-block"],[1,"table-responsive"],[1,"table","mb-0"],[1,"text-center"],[1,"table-primary"],["placeholder","Selecciona jugador 1",1,"form-control","select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Selecciona jugador 2",1,"form-control","select",3,"ngModel","ngModelOptions","ngModelChange"],["placeholder","3-6","type","text",1,"form-control","text-center",3,"ngModelOptions","ngModel","name","ngModelChange","keypress"],["placeholder","6-7","type","text",1,"form-control","text-center",3,"ngModelOptions","ngModel","name","ngModelChange","keypress"],["placeholder","1-6","type","text",1,"form-control","text-center",3,"ngModelOptions","ngModel","name","ngModelChange","keypress"],[1,"table-secondary"],[1,"table-info"],["class","text-center",4,"ngIf"],[3,"value"],[1,"btn","btn-sm","btn-primary","my-3",3,"click"],["data-bs-toggle","modal","data-bs-target","#delete_board",1,"btn","btn-sm","btn-danger","my-3",3,"click"],[1,"row","my-4"],["data-bs-toggle","modal","data-bs-target","#add_player_modal",1,"btn","btn-sm","btn-success",3,"click"],["id","add_player_modal","role","dialog",1,"modal","fade","delete-modal"],[1,"row","my-4","center"],[1,"col-8","col-md-8","col-xl-8"],["placeholder","Seleciona equipo",1,"form-control","select",3,"ngModel","ngModelOptions","ngModelChange"],[1,"m-t-20","text-center"],["closebuttonAddPLayer",""],["type","submit","style","width: auto;","class","btn btn-primary text-white",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","text-white",2,"width","auto",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8,"Jornadas "),e.qZA()(),e.TgZ(9,"li",6),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"li",9),e._uU(12,"Nueva jornada"),e.qZA()()()()(),e.TgZ(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"form")(18,"div",3)(19,"div",12)(20,"div",13)(21,"h4"),e._uU(22,"Datos"),e.qZA()()(),e.TgZ(23,"div",14)(24,"div",15)(25,"label"),e._uU(26,"Nombre"),e.TgZ(27,"span",16),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"input",17),e.NdJ("ngModelChange",function(s){return o.name=s}),e.qZA()()(),e.TgZ(30,"div",14)(31,"div",15)(32,"label"),e._uU(33,"Fecha Prevista "),e.TgZ(34,"span",16),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"input",18),e.NdJ("ngModelChange",function(s){return o.date_planned=s}),e.qZA(),e._UZ(37,"mat-datepicker",null,19)(39,"mat-datepicker-toggle",20),e.qZA()(),e.TgZ(40,"div",21)(41,"div",15)(42,"label"),e._uU(43,"Descripci\xf3n "),e.qZA(),e.TgZ(44,"input",22),e.NdJ("ngModelChange",function(s){return o.description=s}),e.qZA()()(),e.TgZ(45,"div",23)(46,"div",24)(47,"h5",25),e._uU(48,"Jornada Acabada"),e.qZA(),e.TgZ(49,"div",26)(50,"input",27),e.NdJ("ngModelChange",function(s){return o.status=s}),e.qZA(),e.TgZ(51,"label",28),e._uU(52,"checkbox"),e.qZA()()()(),e.YNc(53,P,6,0,"div",29),e.YNc(54,Y,7,1,"div",30),e.YNc(55,B,7,1,"div",30),e.qZA(),e.TgZ(56,"div",12)(57,"div",31)(58,"div",10)(59,"div",11)(60,"div",32)(61,"ul",33),e.YNc(62,V,5,4,"li",34),e.qZA()(),e.YNc(63,he,2,1,"ng-container",34),e.qZA()()()()()()(),e.TgZ(64,"div",35)(65,"div",36)(66,"div",37)(67,"div",38),e._UZ(68,"img",39),e.YNc(69,ye,2,0,"h3",40),e.TgZ(70,"div",41)(71,"a",42,43),e._uU(73,"Close"),e.qZA(),e.TgZ(74,"button",44),e.NdJ("click",function(){return o.deleteBoard()}),e._uU(75,"Borrar"),e.qZA()()()()()(),e.YNc(76,Ce,35,10,"div",45),e.qZA()()()()),2&t){const _=e.MAs(38);e.xp6(7),e.Q6J("routerLink",o.routes.jorneyList),e.xp6(22),e.Q6J("ngModel",o.name),e.xp6(7),e.Q6J("matDatepicker",_)("ngModel",o.date_planned),e.xp6(3),e.Q6J("for",_),e.xp6(5),e.Q6J("ngModel",o.description),e.xp6(6),e.Q6J("ngModel",o.status),e.xp6(3),e.Q6J("ngIf",null==o.cron_executed_at),e.xp6(1),e.Q6J("ngIf",""!=o.error_message),e.xp6(1),e.Q6J("ngIf",""!=o.success_message),e.xp6(7),e.Q6J("ngForOf",o.list_categories),e.xp6(1),e.Q6J("ngForOf",o.list_categories),e.xp6(6),e.Q6J("ngIf",o.board_to_delete),e.xp6(7),e.Q6J("ngIf",o.flag)}},dependencies:[u.mk,u.sg,u.O5,h.rH,d._Y,d.Fj,d.Wl,d.JJ,d.JL,d.On,d.F,y.Mq,y.hl,y.nW,b.R9,L.gD,I.ey],styles:[".center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center!important;vertical-align:middle!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center!important}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.3}"]}),r})()}]}];let Te=(()=>{const a=class{};let r=a;return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.Bz.forChild(Je),h.Bz]}),r})();var Me=c(25108);let Ae=(()=>{const a=class{};let r=a;return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Te,d.u5,d.UX,p.JF,h.Bz,Me.m]}),r})()}}]);