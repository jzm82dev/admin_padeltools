"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[249],{249:(E,u,a)=>{a.r(u),a.d(u,{EmailModule:()=>F});var m=a(6895),c=a(27),p=a(426),h=a(6382),e=a(4650),d=a(529),g=a(5862),f=a(866);let v=(()=>{const t=class{constructor(s,i){this.http=s,this.authSrv=i}sendEmail(s){let i=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(g.$g+"/emails/send-email",s,{headers:i})}};let n=t;return t.\u0275fac=function(i){return new(i||t)(e.LFG(d.eN),e.LFG(f.e))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();var l=a(4006),Z=a(2466);function _(n,t){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const r=t.$implicit;e.xp6(1),e.Oqu(r)}}function T(n,t){if(1&n&&(e.TgZ(0,"ul"),e.YNc(1,_,2,1,"li",27),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.message_errors_member)}}function x(n,t){if(1&n){const r=e.EpF();e.TgZ(0,"div",22)(1,"div",23)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",24),e.NdJ("click",function(){e.CHM(r);const i=e.oxw();return e.KtG(i.cleanMessage())}),e._UZ(7,"span",25),e.qZA(),e.YNc(8,T,2,1,"ul",26),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"commun_translations.error")),e.xp6(2),e.hij(" ",r.error_send_email," "),e.xp6(3),e.Q6J("ngIf",r.message_errors_member.length>0)}}function b(n,t){if(1&n){const r=e.EpF();e.TgZ(0,"div",22)(1,"div",28)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",24),e.NdJ("click",function(){e.CHM(r);const i=e.oxw();return e.KtG(i.cleanMessage())}),e._UZ(7,"span",25),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,"commun_translations.success")),e.xp6(2),e.hij(" ",r.success_send_email," ")}}const y=[{path:"",component:p.X,children:[{path:"new",component:(()=>{const t=class{constructor(s){this.emailSrv=s,this.routes=h._,this.email="",this.message_errors_member=[],this.error_send_email="",this.success_send_email=""}cleanMessage(){}sendEmail(){let s=new FormData;s.append("email",this.email),s.append("email_type","1"),this.emailSrv.sendEmail(s).subscribe(i=>{200==i.message?this.success_send_email="Email enviado correctamente":422==i.message?(this.error_send_email="Ha pasado algo en el envio del email",this.message_errors_member=i.errors_text):403==i.message&&(this.error_send_email="Ha pasado algo en el envio del email 2",this.message_errors_member=i.errors_text)})}};let n=t;return t.\u0275fac=function(i){return new(i||t)(e.Y36(v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-new-email"]],decls:37,vars:4,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["name","email","type","text","placeholder","Introduce el email del club",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","my-4"],[1,"doctor-submit","text-end"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],["class","col-md-12 my-4",4,"ngIf"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngIf"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8,"Email "),e.qZA()(),e.TgZ(9,"li",6),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"li",9),e._uU(12,">New email marketing"),e.qZA()()()()(),e.TgZ(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"form")(18,"div",3)(19,"div",12)(20,"div",13)(21,"h4"),e._uU(22,"Send Email"),e.qZA()()(),e.TgZ(23,"div",14)(24,"div",15)(25,"label"),e._uU(26,"Email "),e.TgZ(27,"span",16),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"input",17),e.NdJ("ngModelChange",function(U){return o.email=U}),e.qZA()()(),e.TgZ(30,"div",18)(31,"div",19)(32,"button",20),e.NdJ("click",function(){return o.sendEmail()}),e._uU(33,"Send"),e.qZA()()(),e.TgZ(34,"div",3),e.YNc(35,x,9,5,"div",21),e.YNc(36,b,8,4,"div",21),e.qZA()()()()()()()()()),2&i&&(e.xp6(7),e.Q6J("routerLink",o.routes.memberList),e.xp6(22),e.Q6J("ngModel",o.email),e.xp6(6),e.Q6J("ngIf",""!=o.error_send_email),e.xp6(1),e.Q6J("ngIf",""!=o.success_send_email))},dependencies:[m.sg,m.O5,c.rH,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,Z.X$]}),n})()},{path:"sent",component:(()=>{const t=class{};let n=t;return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sent-email"]],decls:2,vars:0,template:function(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1,"sent-email works!"),e.qZA())}}),n})()}]}];let N=(()=>{const t=class{};let n=t;return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(y),c.Bz]}),n})();var C=a(5108);let F=(()=>{const t=class{};let n=t;return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,N,l.u5,l.UX,d.JF,c.Bz,C.m]}),n})()}}]);