"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[7939],{7939:(B,u,r)=>{r.r(u),r.d(u,{AdminDashboardModule:()=>V});var p=r(6895),d=r(27),v=r(6382),t=r(4650),Z=r(7945),f=r(5117),x=r(866),A=r(1089),b=r(6205),T=r(4385),U=r(3238),_=r(6308),g=r(433);const O=["chart"];function q(n,s){if(1&n&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",28),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",e.percent_appointment,"%")}}function w(n,s){if(1&n&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",e.percent_appointment,"%")}}function y(n,s){if(1&n&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",28),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",e.percent_patients,"%")}}function D(n,s){if(1&n&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",e.percent_patients,"%")}}function C(n,s){if(1&n&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",28),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",e.percent_attention,"%")}}function J(n,s){if(1&n&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",e.percent_attention,"%")}}function Q(n,s){if(1&n&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",28),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",e.percent_earning,"%")}}function S(n,s){if(1&n&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",e.percent_earning,"%")}}const c=function(){return{duration:10}};function M(n,s){if(1&n&&(t.TgZ(0,"div",3)(1,"div",17)(2,"div",18)(3,"div",19),t._UZ(4,"img",20),t.qZA(),t.TgZ(5,"div",21)(6,"h4"),t._uU(7,"Appointments"),t.qZA(),t.TgZ(8,"h2")(9,"span",22),t._uU(10),t.qZA()(),t.YNc(11,q,5,1,"p",23),t.YNc(12,w,5,1,"p",23),t.qZA()()(),t.TgZ(13,"div",17)(14,"div",18)(15,"div",19),t._UZ(16,"img",24),t.qZA(),t.TgZ(17,"div",21)(18,"h4"),t._uU(19,"New Patients"),t.qZA(),t.TgZ(20,"h2")(21,"span",22),t._uU(22),t.qZA()(),t.YNc(23,y,5,1,"p",23),t.YNc(24,D,5,1,"p",23),t.qZA()()(),t.TgZ(25,"div",17)(26,"div",18)(27,"div",19),t._UZ(28,"img",25),t.qZA(),t.TgZ(29,"div",21)(30,"h4"),t._uU(31,"Operations"),t.qZA(),t.TgZ(32,"h2")(33,"span",22),t._uU(34),t.qZA()(),t.YNc(35,C,5,1,"p",23),t.YNc(36,J,5,1,"p",23),t.qZA()()(),t.TgZ(37,"div",17)(38,"div",18)(39,"div",19),t._UZ(40,"img",26),t.qZA(),t.TgZ(41,"div",21)(42,"h4"),t._uU(43,"Earnings"),t.qZA(),t.TgZ(44,"h2")(45,"span",22),t._uU(46),t.qZA(),t._uU(47," \u20ac"),t.qZA(),t.YNc(48,Q,5,1,"p",23),t.YNc(49,S,5,1,"p",23),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(9),t.Q6J("countUp",e.total_appoinment_month)("options",t.DdM(20,c)),t.xp6(1),t.Oqu(e.total_appoinment_month),t.xp6(1),t.Q6J("ngIf",e.percent_appointment>0),t.xp6(1),t.Q6J("ngIf",e.percent_appointment<0),t.xp6(9),t.Q6J("countUp",e.total_patients)("options",t.DdM(21,c)),t.xp6(1),t.Oqu(e.total_patients),t.xp6(1),t.Q6J("ngIf",e.percent_patients>0),t.xp6(1),t.Q6J("ngIf",e.percent_patients<0),t.xp6(9),t.Q6J("countUp",e.total_attentions)("options",t.DdM(22,c)),t.xp6(1),t.Oqu(e.total_attentions),t.xp6(1),t.Q6J("ngIf",e.percent_attention>0),t.xp6(1),t.Q6J("ngIf",e.percent_attention<0),t.xp6(9),t.Q6J("countUp",e.total_earning)("options",t.DdM(23,c)),t.xp6(1),t.Oqu(e.total_earning),t.xp6(2),t.Q6J("ngIf",e.percent_earning>0),t.xp6(1),t.Q6J("ngIf",e.percent_earning<0)}}function Y(n,s){if(1&n&&(t.TgZ(0,"mat-option",50),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function N(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",34)(5,"h4"),t._uU(6,"Patient Visit by Gender"),t.qZA(),t.TgZ(7,"div")(8,"ul",35)(9,"li"),t._UZ(10,"i",36),t._uU(11,"Male 75%"),t.qZA(),t.TgZ(12,"li"),t._UZ(13,"i",37),t._uU(14," Female 25%"),t.qZA()()(),t.TgZ(15,"div",38)(16,"mat-select",39),t.NdJ("ngModelChange",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.selectedValue=a)})("selectionChange",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.changeYear(a.value))}),t.YNc(17,Y,2,2,"mat-option",40),t.qZA()()(),t.TgZ(18,"div",41),t._UZ(19,"apx-chart",42),t.qZA(),t.TgZ(20,"div",43),t._UZ(21,"apx-chart",44),t.qZA()()()(),t.TgZ(22,"div",45)(23,"div",32)(24,"div",33)(25,"div",46)(26,"h4"),t._uU(27,"Patient by Department"),t.qZA()(),t.TgZ(28,"div",47),t._UZ(29,"apx-chart",48)(30,"img",49),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(16),t.s9C("placeholder",e.current_year),t.Q6J("ngModel",e.selectedValue),t.xp6(1),t.Q6J("ngForOf",e.years),t.xp6(2),t.Q6J("series",e.chartOptionsOne.series)("chart",e.chartOptionsOne.chart)("dataLabels",e.chartOptionsOne.dataLabels)("plotOptions",e.chartOptionsOne.plotOptions)("responsive",e.chartOptionsOne.responsive)("xaxis",e.chartOptionsOne.xaxis)("legend",e.chartOptionsOne.legend)("fill",e.chartOptionsOne.fill)("grid",e.chartOptionsOne.grid)("xaxis",e.chartOptionsOne.xaxis),t.xp6(2),t.Q6J("series",e.chartOptionsThree.series)("chart",e.chartOptionsThree.chart)("xaxis",e.chartOptionsThree.xaxis)("dataLabels",e.chartOptionsThree.dataLabels)("grid",e.chartOptionsThree.grid)("stroke",e.chartOptionsThree.stroke)("title",e.chartOptionsThree.title)("markers",e.chartOptionsThree.markers)("yaxis",e.chartOptionsThree.yaxis)("fill",e.chartOptionsThree.fill),t.xp6(8),t.Q6J("series",e.chartOptionsTwo.series)("chart",e.chartOptionsTwo.chart)("labels",e.chartOptionsTwo.labels)("responsive",e.chartOptionsTwo.responsive)("dataLabels",e.chartOptionsTwo.dataLabels)("legend",e.chartOptionsTwo.legend)}}function G(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",66)(2,"div",67),t._UZ(3,"img",68),t.qZA(),t.TgZ(4,"div",69)(5,"h4"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA()()(),t.BQk()),2&n){const e=s.$implicit;t.xp6(6),t.Oqu(e.name),t.xp6(2),t.hij("",e.percent,"%")}}const L=function(n){return["/appointments/list-appointments/edit/",n]};function E(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",70)(4,"h2"),t._uU(5),t.qZA()(),t.TgZ(6,"td",71)(7,"span"),t._uU(8),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"button",72),t._uU(12),t.qZA()(),t.TgZ(13,"td",73)(14,"div",74)(15,"a",75),t._UZ(16,"i",76),t.qZA(),t.TgZ(17,"div",77)(18,"a",78),t._UZ(19,"i",79),t._uU(20," Edit"),t.qZA(),t.TgZ(21,"a",80),t._UZ(22,"i",81),t._uU(23," Delete"),t.qZA()()()()()),2&n){const e=s.$implicit;t.xp6(2),t.AsE("",e.patient.name," ",e.patient.surname,""),t.xp6(3),t.AsE("",e.doctor.name," ",e.doctor.surname,""),t.xp6(3),t.hij("",e.date_appointment_format," "),t.xp6(1),t.Oqu(e.segment_hour.format_segment.format_hour_start),t.xp6(3),t.Oqu(e.specialitie.name),t.xp6(6),t.Q6J("routerLink",t.VKq(8,L,e.id))}}function F(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,E,24,10,"tr",55),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.upcomingAppointments.data)}}function I(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",51)(2,"div",52)(3,"div",53)(4,"h4",54),t._uU(5,"Top Speciality"),t.qZA()(),t.TgZ(6,"div",33),t.YNc(7,G,9,2,"ng-container",55),t.qZA()()(),t.TgZ(8,"div",56)(9,"div",32)(10,"div",53)(11,"h4",57),t._uU(12,"Upcoming Appointments"),t.qZA(),t.TgZ(13,"a",58),t._uU(14,"Show all"),t.qZA()(),t.TgZ(15,"div",59)(16,"div",60)(17,"table",61),t.NdJ("matSortChange",function(a){t.CHM(e);const o=t.oxw();return t.KtG(o.sortData(a))}),t.TgZ(18,"thead")(19,"tr")(20,"th",62),t._uU(21,"Patient name"),t.qZA(),t.TgZ(22,"th",63),t._uU(23,"Doctor"),t.qZA(),t.TgZ(24,"th",64),t._uU(25,"Time"),t.qZA(),t.TgZ(26,"th",65),t._uU(27,"Specialitie"),t.qZA(),t._UZ(28,"th"),t.qZA()(),t.YNc(29,F,2,1,"tbody",23),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.top_specialities),t.xp6(6),t.Q6J("routerLink",e.routes.appointmentList),t.xp6(16),t.Q6J("ngIf",e.upcomingAppointments)}}const j=[{path:"",component:(()=>{class n{ngOnInit(){if(this.user=this.dashboardSrv.authSrv.user,this.user.role.includes("Super-Admin")||this.user.permissions.includes("admin_dashboard")){let e={year:this.current_year};this.user_name=this.authSrv.user.name,this.user_surname=this.authSrv.user.surname,this.dashboardSrv.getDataAdmin().subscribe(i=>{this.total_appoinment_month=i.total_appopientments_current_month,this.percent_appointment=i.percent_appointments,this.total_patients=i.total_patients_current_month,this.percent_patients=i.percent_patients,this.total_attentions=i.total_attentions_current_month,this.percent_attention=i.percent_attentions,this.total_earning=i.total_earning_current_month,this.percent_earning=i.percent_earning,this.upcomingAppointments=i.upcoming_appointments});for(let i=0;i<5;i++)this.years.push(this.current_year-i);this.dashboardSrv.getDataAdminYear(e).subscribe(i=>{console.log(i),this.fillGenderGraphic(i.patient_by_gender),this.fillSpecialitiesGraphic(i.patient_by_speciality),this.fillEarningGraphic(i.total_earnng_by_mont),this.top_specialities=i.patient_percent_by_speciality})}}changeYear(e){this.dashboardSrv.getDataAdminYear({year:e}).subscribe(a=>{this.fillGenderGraphic(a.patient_by_gender),this.fillSpecialitiesGraphic(a.patient_by_speciality),this.fillEarningGraphic(a.total_earnng_by_mont)})}fillGenderGraphic(e){this.men_number=[],this.women_number=[],e.forEach(a=>{this.men_number.push(a.man),this.women_number.push(a.woman)}),this.chartOptionsOne.series=[{name:"Male",color:"#2E37A4",data:this.men_number},{name:"Female",color:"#00D3C7",data:this.women_number}]}fillSpecialitiesGraphic(e){let i=[],a=[];e.forEach(o=>{i.push(o.count),a.push(o.name)}),this.chartOptionsTwo.series=i,this.chartOptionsTwo.labels=a}fillEarningGraphic(e){let i=[];e.forEach(o=>{i.push(o.total)}),this.chartOptionsThree.series=[{name:"Income",color:"#2E37A4",data:i}]}constructor(e,i,a){this.data=e,this.dashboardSrv=i,this.authSrv=a,this.routes=v._,this.chartOptionsOne=[],this.recentPatients=[],this.user_name="",this.user_surname="",this.total_appoinment_month=0,this.percent_appointment=0,this.total_patients=0,this.percent_patients=0,this.total_attentions=0,this.percent_attention=0,this.total_earning=0,this.percent_earning=0,this.upcomingAppointments=[],this.current_year=(new Date).getFullYear(),this.years=[],this.men_number=[],this.women_number=[],this.top_specialities=[],this.chartOptionsOne={chart:{height:230,type:"bar",stacked:!0,toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"15%"}},dataLabels:{enabled:!1},series:[{name:"Male",color:"#2E37A4",data:[]},{name:"Female",color:"#00D3C7",data:[]}],xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1}}},this.chartOptionsTwo={series:[],labels:[],chart:{type:"donut",height:200,width:200,toolbar:{show:!1}},legend:{show:!1},plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},dataLabels:{enabled:!1},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{show:!1}}}]},this.chartOptionsThree={chart:{height:200,type:"line",toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},series:[{name:"Income",color:"#2E37A4",data:[]}],xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Agu","Oct","Nov","Dec"]}},this.recentPatients=this.data.recentPatients,this.upcomingAppointments=this.data.upcomingAppointments}sortData(e){const i=this.recentPatients.slice(),a=this.upcomingAppointments.slice();e.active&&""!==e.direction?(this.recentPatients=i.sort((o,l)=>(o[e.active]<l[e.active]?-1:1)*("asc"===e.direction?1:-1)),this.upcomingAppointments=a.sort((o,l)=>(o[e.active]<l[e.active]?-1:1)*("asc"===e.direction?1:-1))):(this.recentPatients=i,this.upcomingAppointments=a)}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Z.D),t.Y36(f.s),t.Y36(x.e))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-dashboard"]],viewQuery:function(i,a){if(1&i&&t.Gf(O,5),2&i){let o;t.iGM(o=t.CRH())&&(a.chart=o.first)}},decls:29,vars:6,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"good-morning-blk"],[1,"col-md-6"],[1,"morning-user"],[1,"col-md-6","position-blk"],[1,"morning-img"],["src","assets/img/morning-img-01.png","alt",""],["class","row",4,"ngIf"],[1,"col-md-6","col-sm-6","col-lg-6","col-xl-3"],[1,"dash-widget"],[1,"dash-boxs","comman-flex-center"],["src","assets/img/icons/calendar.svg","alt",""],[1,"dash-content","dash-count"],[1,"counter-up",3,"countUp","options"],[4,"ngIf"],["src","assets/img/icons/profile-add.svg","alt",""],["src","assets/img/icons/scissor.svg","alt",""],["src","assets/img/icons/empty-wallet.svg","alt",""],[1,"passive-view"],[1,"feather","icon-arrow-up-right","me-1"],[1,"negative-view"],[1,"feather","icon-arrow-down-right","me-1"],[1,"col-12","col-md-12","col-lg-6","col-xl-9"],[1,"card"],[1,"card-body"],[1,"chart-title","patient-visit"],[1,"nav","chat-user-total"],["aria-hidden","true",1,"fa","fa-circle","current-users"],["aria-hidden","true",1,"fa","fa-circle","old-users"],[1,"form-group","mb-0"],[1,"form-control","select",3,"ngModel","placeholder","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","patient-chart"],[3,"series","chart","dataLabels","plotOptions","responsive","xaxis","legend","fill","grid"],["id","apexcharts-area"],[3,"series","chart","xaxis","dataLabels","grid","stroke","title","markers","yaxis","fill"],[1,"col-12","col-md-12","col-lg-6","col-xl-3","d-flex"],[1,"chart-title"],["id","donut-chart-dash",1,"chart-user-icon"],[1,"donut-chart-custom",3,"series","chart","labels","responsive","dataLabels","legend"],["src","assets/img/icons/user-icon.svg","alt",""],[3,"value"],[1,"col-12","col-md-12","col-xl-4"],[1,"card","top-departments"],[1,"card-header"],[1,"card-title","mb-0"],[4,"ngFor","ngForOf"],[1,"col-12","col-md-12","col-xl-8"],[1,"card-title","d-inline-block"],[1,"patient-views","float-end",3,"routerLink"],[1,"card-body","p-0","table-dash"],[1,"table-responsive"],["matSort","",1,"table","mb-0","border-0","datatable","custom-table",3,"matSortChange"],["mat-sort-header","patientName"],["mat-sort-header","doctor"],["mat-sort-header","time"],["mat-sort-header","disease"],[1,"activity-top"],[1,"activity-boxs","comman-flex-center"],["src","assets/img/icons/dep-icon-01.svg","alt",""],[1,"departments-list"],[1,"table-image","appoint-doctor"],[1,"appoint-time"],[1,"custom-badge","status-green"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],["href","#",1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#delete_appointment",1,"dropdown-item"],[1,"fa","fa-trash-alt","m-r-5"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t._uU(8,"Dashboard "),t.qZA()(),t.TgZ(9,"li",6),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"li",9),t._uU(12,"Admin Dashboard"),t.qZA()()()()(),t.TgZ(13,"div",10)(14,"div",3)(15,"div",11)(16,"div",12)(17,"h2"),t._uU(18,"Good Morning, "),t.TgZ(19,"span"),t._uU(20),t.qZA()(),t.TgZ(21,"p"),t._uU(22,"Have a nice day at work"),t.qZA()()(),t.TgZ(23,"div",13)(24,"div",14),t._UZ(25,"img",15),t.qZA()()()(),t.YNc(26,M,50,24,"div",16),t.YNc(27,N,31,29,"div",16),t.YNc(28,I,30,3,"div",16),t.qZA()()),2&i&&(t.xp6(7),t.Q6J("routerLink",a.routes.adminDashboard),t.xp6(13),t.AsE("",a.user.name," ",a.user.surname,""),t.xp6(6),t.Q6J("ngIf",a.user.role.includes("Super-Admin")||a.user.permissions.includes("admin_dashboard")),t.xp6(1),t.Q6J("ngIf",a.user.role.includes("Super-Admin")||a.user.permissions.includes("admin_dashboard")),t.xp6(1),t.Q6J("ngIf",a.user.role.includes("Super-Admin")||a.user.permissions.includes("admin_dashboard")))},dependencies:[p.sg,p.O5,d.rH,A.P,b.x,T.gD,U.ey,_.YE,_.nU,g.JJ,g.On],styles:[".donut-chart-custom[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return n})()}];let P=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(j),d.Bz]})}return n})();var k=r(6943);let V=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.ez,P,k.m]})}return n})()}}]);