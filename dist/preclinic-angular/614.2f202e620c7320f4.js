"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[614],{614:(T,d,n)=>{n.r(d),n.d(d,{DescriptionModule:()=>L});var m=n(6895),c=n(27),u=n(2728),p=n(6382),o=n(4006),t=n(4650),g=n(7191),h=n(2466);function v(e,s){if(1&e){const l=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"button",27),t.NdJ("click",function(){t.CHM(l);const i=t.oxw();return t.KtG(i.saveDescription())}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\xa0\xa0 "),t.qZA()()}2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"commun_translations.save")))}function b(e,s){if(1&e){const l=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",30),t.NdJ("click",function(){t.CHM(l);const i=t.oxw();return t.KtG(i.cleanMessage())}),t._UZ(7,"span",31),t.qZA()()()}if(2&e){const l=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,"commun_translations.error")),t.xp6(2),t.hij(" ",l.error_message," ")}}function _(e,s){if(1&e){const l=t.EpF();t.TgZ(0,"div",28)(1,"div",32)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",30),t.NdJ("click",function(){t.CHM(l);const i=t.oxw();return t.KtG(i.cleanMessage())}),t._UZ(7,"span",31),t.qZA()()()}if(2&e){const l=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,2,"commun_translations.success")," "),t.xp6(2),t.hij("",l.success_message," ")}}const f=[{path:"",component:(()=>{const s=class{constructor(r,i){this.clubSrv=r,this.translate=i,this.routes=p._,this.html="",this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.can_edit=!1,this.language="en",this.translations=[],this.description="",this.success_message="",this.error_message="",this.message_errors=[],this.form=new o.cw({description:new o.NI({value:this.description,disabled:!1},u.kI.required())})}ngOnInit(){this.editor=new u.ML,this.initializeLanguage(),this.user=this.clubSrv.authSrv.user,this.hasPermission(),this.clubSrv.getClubDescriptionData().subscribe(r=>{200==r.message&&this.form.reset({description:r.description})})}initializeLanguage(){this.translate.use(this.clubSrv.authSrv.language),this.translate.setDefaultLang(this.clubSrv.authSrv.language),this.translate.get(["commun_translations","club_translations.club_information_messages"]).subscribe(r=>{this.translations=r})}hasPermission(r=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes("edit_club"))&&(this.can_edit=!0,!0)}ngOnDestroy(){this.editor.destroy()}cleanMessage(){this.error_message="",this.success_message="",this.message_errors=[]}saveDescription(){let r=new FormData;r.append("description",this.form.value.description?this.form.value.description:""),console.log(this.form.value.description),this.clubSrv.updateDescriptionClub(r).subscribe(i=>{200==i.message?this.success_message=this.translations.commun_translations.data_save_correctly:422==i.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=i.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}};let e=s;return s.\u0275fac=function(i){return new(i||s)(t.Y36(g.I),t.Y36(h.sK))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-description"]],decls:51,vars:36,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"],[1,"feather","icon-chevron-right"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-item","active"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body","pt-0"],[3,"formGroup"],[1,"editor"],[3,"editor","toolbar"],["formControlName","description",3,"editor"],["class","form-group mb-0 text-end my-3",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[1,"form-group","mb-0","text-end","my-3"],[1,"settings-btns"],["type","submit",1,"border-0","btn","btn-primary","btn-gradient-primary","btn-rounded",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"li",7),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"li",6),t._uU(12),t.ALo(13,"translate"),t.qZA()()()()(),t.TgZ(14,"div",9)(15,"ul",10)(16,"li",11)(17,"a",12),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"li",13)(21,"a",12),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"li",11)(25,"a",12),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"li",11)(29,"a",12),t._uU(30),t.ALo(31,"translate"),t.qZA()(),t.TgZ(32,"li",11)(33,"a",12),t._uU(34),t.ALo(35,"translate"),t.qZA()()()(),t.TgZ(36,"div",3)(37,"div",14)(38,"div",15)(39,"div",16)(40,"h5",17),t._uU(41),t.ALo(42,"translate"),t.qZA()(),t.TgZ(43,"div",18)(44,"form",19)(45,"div",20),t._UZ(46,"ngx-editor-menu",21)(47,"ngx-editor",22),t.qZA(),t.YNc(48,v,6,3,"div",23),t.YNc(49,b,8,4,"div",24),t.YNc(50,_,8,4,"div",24),t.qZA()()()()()()()),2&i&&(t.xp6(7),t.Oqu(t.lcZ(8,20,"club_translations.dashboard")),t.xp6(5),t.Oqu(t.lcZ(13,22,"club_translations.club")),t.xp6(5),t.Q6J("routerLink",a.routes.club),t.xp6(1),t.Oqu(t.lcZ(19,24,"club_translations.tabs.general_data")),t.xp6(3),t.Q6J("routerLink",a.routes.description),t.xp6(1),t.Oqu(t.lcZ(23,26,"club_translations.tabs.description")),t.xp6(3),t.Q6J("routerLink",a.routes.clubSchedule),t.xp6(1),t.Oqu(t.lcZ(27,28,"club_translations.tabs.schedule")),t.xp6(3),t.Q6J("routerLink",a.routes.clubCourts),t.xp6(1),t.Oqu(t.lcZ(31,30,"club_translations.tabs.courts")),t.xp6(3),t.Q6J("routerLink",a.routes.clubServices),t.xp6(1),t.Oqu(t.lcZ(35,32,"club_translations.tabs.services")),t.xp6(7),t.Oqu(t.lcZ(42,34,"club_translations.club_information.title")),t.xp6(3),t.Q6J("formGroup",a.form),t.xp6(2),t.Q6J("editor",a.editor)("toolbar",a.toolbar),t.xp6(1),t.Q6J("editor",a.editor),t.xp6(1),t.Q6J("ngIf",1==a.can_edit),t.xp6(1),t.Q6J("ngIf",""!=a.error_message),t.xp6(1),t.Q6J("ngIf",""!=a.success_message))},dependencies:[m.O5,c.rH,o._Y,o.JJ,o.JL,o.sg,o.u,u.tP,u.Mn,h.X$]}),e})()}];let Z=(()=>{const s=class{};let e=s;return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[c.Bz.forChild(f),c.Bz]}),e})();var x=n(5108),A=n(529);let L=(()=>{const s=class{};let e=s;return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[m.ez,Z,o.u5,o.UX,A.JF,c.Bz,x.m]}),e})()}}]);