"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[249],{249:(O,p,s)=>{s.r(p),s.d(p,{EmailModule:()=>q});var c=s(6895),m=s(27),h=s(426),v=s(6382),e=s(4650),d=s(529),f=s(5862),_=s(866);let Z=(()=>{const t=class{constructor(a,i){this.http=a,this.authSrv=i}sendEmail(a){let i=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(f.$g+"/emails/send-email",a,{headers:i})}};let n=t;return t.\u0275fac=function(i){return new(i||t)(e.LFG(d.eN),e.LFG(_.e))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();var r=s(4006),T=s(4385),x=s(3238),y=s(2466);function A(n,t){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const l=t.$implicit;e.xp6(1),e.Oqu(l)}}function b(n,t){if(1&n&&(e.TgZ(0,"ul"),e.YNc(1,A,2,1,"li",32),e.qZA()),2&n){const l=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",l.message_errors_member)}}function C(n,t){if(1&n){const l=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",29),e.NdJ("click",function(){e.CHM(l);const i=e.oxw();return e.KtG(i.cleanMessage())}),e._UZ(7,"span",30),e.qZA(),e.YNc(8,b,2,1,"ul",31),e.qZA()()}if(2&n){const l=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"commun_translations.error")),e.xp6(2),e.hij(" ",l.error_send_email," "),e.xp6(3),e.Q6J("ngIf",l.message_errors_member.length>0)}}function U(n,t){if(1&n){const l=e.EpF();e.TgZ(0,"div",27)(1,"div",33)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",29),e.NdJ("click",function(){e.CHM(l);const i=e.oxw();return e.KtG(i.cleanMessage())}),e._UZ(7,"span",30),e.qZA()()()}if(2&n){const l=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,"commun_translations.success")),e.xp6(2),e.hij(" ",l.success_send_email," ")}}const N=function(){return{standalone:!0}},E=[{path:"",component:h.X,children:[{path:"new",component:(()=>{const t=class{constructor(a){this.emailSrv=a,this.routes=v._,this.email="",this.type_email="0",this.message_errors_member=[],this.error_send_email="",this.success_send_email=""}cleanMessage(){this.error_send_email="",this.success_send_email="",this.message_errors_member=[]}sendEmail(){if(this.cleanMessage(),""==this.email)return void(this.error_send_email="Introduzca una cuenta de correo v\xe1lida");if("0"==this.type_email)return void(this.error_send_email="Seleccione el email a enviar");let a=new FormData;a.append("email",this.email),a.append("email_type",this.type_email),this.emailSrv.sendEmail(a).subscribe(i=>{200==i.message?this.success_send_email="Email enviado correctamente":422==i.message?(this.error_send_email="Ha pasado algo en el envio del email",this.message_errors_member=i.errors_text):403==i.message&&(this.error_send_email="Ha pasado algo en el envio del email 2",this.message_errors_member=i.errors_text)})}};let n=t;return t.\u0275fac=function(i){return new(i||t)(e.Y36(Z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-new-email"]],decls:50,vars:7,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["name","email","type","text","placeholder","Introduce el email del club",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-4","col-xl-4"],["placeholder","Selecciona el email a enviar",1,"form-control","select",3,"ngModel","ngModelOptions","ngModelChange"],["value","0"],["value","email_1"],["value","email_2"],[1,"col-12","my-4"],[1,"doctor-submit","text-end"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],["class","col-md-12 my-4",4,"ngIf"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngIf"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8,"Email "),e.qZA()(),e.TgZ(9,"li",6),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"li",9),e._uU(12,">New email marketing"),e.qZA()()()()(),e.TgZ(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"form")(18,"div",3)(19,"div",12)(20,"div",13)(21,"h4"),e._uU(22,"Send Email"),e.qZA()()(),e.TgZ(23,"div",14)(24,"div",15)(25,"label"),e._uU(26,"Email "),e.TgZ(27,"span",16),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"input",17),e.NdJ("ngModelChange",function(u){return o.email=u}),e.qZA()()(),e.TgZ(30,"div",18)(31,"div",15)(32,"label"),e._uU(33,"Email a mandar "),e.TgZ(34,"span",16),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"mat-select",19),e.NdJ("ngModelChange",function(u){return o.type_email=u}),e.TgZ(37,"mat-option",20),e._uU(38," ... "),e.qZA(),e.TgZ(39,"mat-option",21),e._uU(40," Marketing Email 1 "),e.qZA(),e.TgZ(41,"mat-option",22),e._uU(42," Marketing Email 2 "),e.qZA()()()(),e.TgZ(43,"div",23)(44,"div",24)(45,"button",25),e.NdJ("click",function(){return o.sendEmail()}),e._uU(46,"Send"),e.qZA()()(),e.TgZ(47,"div",3),e.YNc(48,C,9,5,"div",26),e.YNc(49,U,8,4,"div",26),e.qZA()()()()()()()()()),2&i&&(e.xp6(7),e.Q6J("routerLink",o.routes.memberList),e.xp6(22),e.Q6J("ngModel",o.email),e.xp6(7),e.Q6J("ngModel",o.type_email)("ngModelOptions",e.DdM(6,N)),e.xp6(12),e.Q6J("ngIf",""!=o.error_send_email),e.xp6(1),e.Q6J("ngIf",""!=o.success_send_email))},dependencies:[c.sg,c.O5,m.rH,r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,T.gD,x.ey,y.X$]}),n})()},{path:"sent",component:(()=>{const t=class{};let n=t;return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sent-email"]],decls:2,vars:0,template:function(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1,"sent-email works!"),e.qZA())}}),n})()}]}];let J=(()=>{const t=class{};let n=t;return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(E),m.Bz]}),n})();var F=s(5108);let q=(()=>{const t=class{};let n=t;return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,J,r.u5,r.UX,d.JF,m.Bz,F.m]}),n})()}}]);