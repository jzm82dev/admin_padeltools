"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[6976],{46976:(Zt,M,c)=>{c.r(M),c.d(M,{LeagueModule:()=>ft});var g=c(36895),u=c(30027),e=c(94650);let Y=(()=>{const r=class{};let s=r;return r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-league"]],decls:1,vars:0,template:function(a,n){1&a&&e._UZ(0,"router-outlet")},dependencies:[u.lC]}),s})();var b=c(46382),d=c(80529),p=c(75862),F=c(40866);let y=(()=>{const r=class{constructor(t,a){this.http=t,this.authSrv=a}listLeagues(t=1,a=""){let n=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(p.$g+"/leagues?page="+t+"&search="+a,{headers:n})}config(){let t=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(p.$g+"/leagues/config",{headers:t})}getLeague(t){let a=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(p.$g+"/leagues/"+t,{headers:a})}storeLeague(t){let a=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(p.$g+"/leagues",t,{headers:a})}editLeague(t,a){let n=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(p.$g+"/leagues/update/"+t,a,{headers:n})}deleteLeague(t){let a=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.delete(p.$g+"/leagues/"+t,{headers:a})}getAllPlayersLeague(t,a=1,n="",o="",_="",h=null,k=null){let x=new d.WM({Authorization:"Bearer "+this.authSrv.token}),v="";return""!=n&&(v+="&player_name_search="+n),""!=o&&(v+="&status_match_id="+o),""!=_&&(v+="&court_id="+_),null!=h&&(v+="&date="+h),""!=k&&(v+="&category_id="+k),this.http.get(p.$g+"/leagues/get-all-players?league_id="+t+"&page="+a+v,{headers:x})}paidPlayerLeague(t){let a=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(p.$g+"/leagues/paid-player-tournament/"+t,null,{headers:a})}unpaidPlayerLeague(t){let a=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(p.$g+"/leagues/unpaid-player-tournament/"+t,null,{headers:a})}};let s=r;return r.\u0275fac=function(a){return new(a||r)(e.LFG(d.eN),e.LFG(F.e))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),s})();var w=c(53182),m=c(42466),Z=c(3238),l=c(24006),f=c(3125),J=c(59549),T=c(84385);const j=["closebutton"];function K(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.tabSeleted(2))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.categories")))}function G(s,r){1&s&&(e.TgZ(0,"a",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.categories")))}const H=function(s){return["/leagues/all-players",s]};function z(s,r){if(1&s&&(e.TgZ(0,"a",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const i=e.oxw();e.Q6J("routerLink",e.VKq(4,H,i.id_league)),e.xp6(1),e.Oqu(e.lcZ(2,2,"tournaments.payments"))}}function $(s,r){1&s&&(e.TgZ(0,"a",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"tournaments.payments")))}function V(s,r){if(1&s&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function B(s,r){if(1&s&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}const U=function(){return{standalone:!0}};function W(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",37)(1,"div",34)(2,"label"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",35),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"mat-select",43),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw(2);return e.KtG(n.match_type_id=a)}),e.ALo(8,"translate"),e.YNc(9,B,2,2,"mat-option",44),e.qZA()()()}if(2&s){const i=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,5,"club_translations.type_match")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(8,7,"club_translations.select_type")),e.Q6J("ngModel",i.match_type_id)("ngModelOptions",e.DdM(9,U)),e.xp6(2),e.Q6J("ngForOf",i.match_types)}}function R(s,r){if(1&s&&(e.TgZ(0,"div",60),e._UZ(1,"img",61),e.qZA()),2&s){const i=e.oxw(2);e.xp6(1),e.Q6J("src",i.image_preview,e.LSH)}}function X(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",31)(1,"div",62)(2,"button",63),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.save())}),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}2&s&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"commun_translations.save")))}function ee(s,r){if(1&s&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i)}}function te(s,r){if(1&s&&(e.TgZ(0,"ul"),e.YNc(1,ee,2,1,"li",69),e.qZA()),2&s){const i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",i.message_errors)}}function ae(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",66),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.cleanMessage())}),e._UZ(7,"span",67),e.qZA(),e.YNc(8,te,2,1,"ul",68),e.qZA()()}if(2&s){const i=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,3,"commun_translations.error")," "),e.xp6(2),e.hij(" ",i.error_message," "),e.xp6(3),e.Q6J("ngIf",i.message_errors.length>0)}}function se(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",64)(1,"div",70)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",66),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.cleanMessage())}),e._UZ(7,"span",67),e.qZA()()()}if(2&s){const i=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,2,"commun_translations.success")," "),e.xp6(2),e.hij(" ",i.success_message," ")}}function ie(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",29)(3,"div",30)(4,"form")(5,"div",3)(6,"div",31)(7,"div",32)(8,"h4"),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",33)(12,"div",34)(13,"label"),e._uU(14),e.ALo(15,"translate"),e.TgZ(16,"span",35),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"input",36),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.name=a)}),e.qZA()()(),e.TgZ(19,"div",37)(20,"div",34)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.TgZ(24,"span",35),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"input",38),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.date_start=a)}),e.qZA(),e._UZ(27,"mat-datepicker",null,39)(29,"mat-datepicker-toggle",40),e.qZA()(),e.TgZ(30,"div",41)(31,"div",34)(32,"label"),e._uU(33),e.ALo(34,"translate"),e.TgZ(35,"span",35),e._uU(36,"*"),e.qZA()(),e.TgZ(37,"input",42),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.price=a)}),e.qZA()()(),e.TgZ(38,"div",37)(39,"div",34)(40,"label"),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",35),e._uU(44,"*"),e.qZA()(),e.TgZ(45,"mat-select",43),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.type_sport=a)}),e.ALo(46,"translate"),e.YNc(47,V,2,2,"mat-option",44),e.qZA()()(),e.YNc(48,W,10,10,"div",45),e.TgZ(49,"div",31)(50,"div",32)(51,"h4"),e._uU(52),e.ALo(53,"translate"),e.qZA()()(),e.TgZ(54,"div",41)(55,"div",34)(56,"label"),e._uU(57),e.ALo(58,"translate"),e.TgZ(59,"span",35),e._uU(60,"*"),e.qZA()(),e.TgZ(61,"input",46),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.points_per_win_2_0=a)}),e.qZA()()(),e.TgZ(62,"div",41)(63,"div",34)(64,"label"),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"span",35),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",47),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.points_per_lost_0_2=a)}),e.qZA()()(),e.TgZ(70,"div",41)(71,"div",34)(72,"label"),e._uU(73),e.ALo(74,"translate"),e.TgZ(75,"span",35),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"input",48),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.points_per_win_2_1=a)}),e.qZA()()(),e.TgZ(78,"div",41)(79,"div",34)(80,"label"),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",35),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"input",49),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.points_per_lost_1_2=a)}),e.qZA()()(),e.TgZ(86,"div",50)(87,"div",51)(88,"label",52),e._uU(89),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"div",53)(92,"input",54),e.NdJ("change",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.loadFile(a))}),e.qZA(),e.TgZ(93,"label",55),e._uU(94),e.ALo(95,"translate"),e.qZA()()()(),e.YNc(96,R,2,1,"div",56),e.qZA(),e.TgZ(97,"div",3),e.YNc(98,X,5,3,"div",57),e.YNc(99,ae,9,5,"div",58),e.YNc(100,se,8,4,"div",58),e.qZA()()()()()()}if(2&s){const i=e.MAs(28),t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,30,"leagues.data")),e.xp6(5),e.Oqu(e.lcZ(15,32,"leagues.league_name")),e.xp6(4),e.Q6J("ngModel",t.name),e.xp6(4),e.hij("",e.lcZ(23,34,"leagues.day_start")," "),e.xp6(4),e.Q6J("ngModel",t.date_start)("matDatepicker",i),e.xp6(3),e.Q6J("for",i),e.xp6(4),e.Oqu(e.lcZ(34,36,"tournaments.price")),e.xp6(4),e.Q6J("ngModel",t.price),e.xp6(4),e.hij("",e.lcZ(42,38,"club_translations.sport")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(46,40,"club_translations.select_sport_type")),e.Q6J("ngModel",t.type_sport)("ngModelOptions",e.DdM(56,U)),e.xp6(2),e.Q6J("ngForOf",t.kind_sport),e.xp6(1),e.Q6J("ngIf","2"==t.type_sport),e.xp6(4),e.Oqu(e.lcZ(53,42,"club_translations.points")),e.xp6(5),e.hij("",e.lcZ(58,44,"leagues.points_for_winning")," 2-0"),e.xp6(4),e.Q6J("ngModel",t.points_per_win_2_0),e.xp6(4),e.hij("",e.lcZ(66,46,"leagues.points_set_winning_loser")," 0-2"),e.xp6(4),e.Q6J("ngModel",t.points_per_lost_0_2),e.xp6(4),e.hij("",e.lcZ(74,48,"leagues.points_for_winning")," 2-1"),e.xp6(4),e.Q6J("ngModel",t.points_per_win_2_1),e.xp6(4),e.hij("",e.lcZ(82,50,"leagues.points_set_winning_loser")," 1-2"),e.xp6(4),e.Q6J("ngModel",t.points_per_lost_1_2),e.xp6(4),e.hij("",e.lcZ(90,52,"leagues.logo")," "),e.xp6(5),e.Oqu(e.lcZ(95,54,"leagues.form_select_img")),e.xp6(2),e.Q6J("ngIf",t.image_preview),e.xp6(2),e.Q6J("ngIf",""==t.league_inserted_id),e.xp6(1),e.Q6J("ngIf",""!=t.error_message),e.xp6(1),e.Q6J("ngIf",""!=t.success_message)}}function ne(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",37)(1,"div",74)(2,"div",75)(3,"div",34)(4,"label"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"span",35),e._uU(8,"*"),e.qZA()(),e.TgZ(9,"input",76),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw(2);return e.KtG(n.name_category=a)}),e.qZA()()(),e.TgZ(10,"div",34)(11,"div",77)(12,"button",63),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.addCategory())}),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()()}if(2&s){const i=e.oxw(2);e.xp6(5),e.hij("",e.lcZ(6,3,"leagues.name")," "),e.xp6(4),e.Q6J("ngModel",i.name_category),e.xp6(4),e.hij("",e.lcZ(14,5,"leagues.add")," ")}}function re(s,r){1&s&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.remove")))}function oe(s,r){1&s&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.setting")))}function le(s,r){1&s&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.view")))}function _e(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"td")(1,"a",79),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(),n=a.$implicit,o=a.index,_=e.oxw(2);return e.KtG(_.selectCategory(n,o))}),e._UZ(2,"i",80),e.qZA()()}}const N=function(s){return["/category/data",s,1]};function ce(s,r){if(1&s&&(e.TgZ(0,"td")(1,"a",81),e._UZ(2,"img",82),e.qZA()()),2&s){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,N,i.id))}}function ge(s,r){if(1&s&&(e.TgZ(0,"td")(1,"a",81),e._UZ(2,"img",82),e.qZA()()),2&s){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,N,i.id))}}function ue(s,r){if(1&s&&(e.ynx(0),e.TgZ(1,"tr",78)(2,"td"),e._uU(3),e.qZA(),e.YNc(4,_e,3,0,"td",68),e.YNc(5,ce,3,3,"td",68),e.YNc(6,ge,3,3,"td",68),e.qZA(),e.BQk()),2&s){const i=r.$implicit,t=e.oxw(2);e.xp6(3),e.AsE(" ",i.name," (",i.total_couple,") "),e.xp6(1),e.Q6J("ngIf",1==t.can_edit),e.xp6(1),e.Q6J("ngIf",1==t.can_edit),e.xp6(1),e.Q6J("ngIf",0==t.can_edit)}}function de(s,r){if(1&s&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",29)(3,"div",30)(4,"form")(5,"div",3),e.YNc(6,ne,15,7,"div",45),e.TgZ(7,"div",71)(8,"div",72)(9,"table",73)(10,"thead")(11,"tr")(12,"th"),e._uU(13),e.ALo(14,"translate"),e.ALo(15,"translate"),e.qZA(),e.YNc(16,re,3,3,"th",68),e.YNc(17,oe,3,3,"th",68),e.YNc(18,le,3,3,"th",68),e.qZA()(),e.TgZ(19,"tbody"),e.YNc(20,ue,7,5,"ng-container",69),e.qZA()()()()()()()()()()),2&s){const i=e.oxw();e.xp6(6),e.Q6J("ngIf",i.hasPermission("edit_league")),e.xp6(7),e.AsE("",e.lcZ(14,7,"leagues.categories")," (",e.lcZ(15,9,"leagues.couples"),")"),e.xp6(3),e.Q6J("ngIf",1==i.can_edit),e.xp6(1),e.Q6J("ngIf",1==i.can_edit),e.xp6(1),e.Q6J("ngIf",0==i.can_edit),e.xp6(2),e.Q6J("ngForOf",i.categories_list)}}const C=function(s){return{active:s}};let pe=(()=>{const r=class{constructor(t,a,n,o){this.leagueSrv=t,this.categorySrv=a,this.translate=n,this.routes=b._,this.name="",this.date_start="",this.points_per_win_2_0=0,this.points_per_win_2_1=0,this.points_per_lost_0_2=0,this.points_per_lost_1_2=0,this.image_preview="assets/img/img-06.jpg",this.league_inserted_id="",this.success_message="",this.error_message="",this.message_errors=[],this.message_errors_category=[],this.can_edit=!1,this.name_category="",this.description_category="",this.categories_list=[],this.error_message_category="",this.success_message_category="",this.translations=[],this.type_sport="0",this.price=0,this.courts=[],this.hasPadelCourts=!1,this.hasTennisCourts=!1,this.hasPickleballCourts=!1,this.hasSquashCourts=!1,this.hasBadmintonCourts=!1,this.kind_sport=[],this.match_types=[],this.match_type_id="0",this.tab_selected=1,this.id_league=0,this.category_selected_name="","es"==this.leagueSrv.authSrv.language&&(o.getFirstDayOfWeek=()=>1)}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.leagueSrv.config().subscribe(t=>{this.courts=t.courts,this.typeOfCourtsClub(),this.typeMatch()})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","leagues","leagues.leagues_messages","club_translations","tournaments.tournaments_messages"]).subscribe(t=>{this.translations=t})}hasPermission(t=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes(t))&&(this.can_edit=!0,!0)}loadFile(t){if(t.target.files[0].type.indexOf("image")<0)return alert(this.translations.commun_translations.only_type_img),void(this.image_preview=this.image_preview?this.image_preview:"assets/img/img-06.jpg");if(t.target.files[0].size>2e6)return alert(this.translations.commun_translations.max_size_img),void(this.fileAvatar="");this.fileAvatar=t.target.files[0];let a=new FileReader;a.readAsDataURL(this.fileAvatar),a.onloadend=()=>this.image_preview=a.result}cleanMessage(){this.error_message="",this.success_message="",this.error_message_category="",this.success_message_category=""}save(){if(this.cleanMessage(),""==this.name)return void(this.error_message=this.translations["leagues.leagues_messages"].error_1);if("0"==this.type_sport)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_13);if("2"==this.type_sport&&"0"==this.match_type_id)return void(this.error_message=this.translations["leagues.leagues_messages"].error_11);if(this.name&&this.name.length>191)return void(this.error_message=this.translations["leagues.leagues_messages"].error_2);if(""==this.date_start)return void(this.error_message=this.translations["leagues.leagues_messages"].error_3);if("number"!=typeof+this.points_per_win_2_0)return void(this.error_message=this.translations["leagues.leagues_messages"].error_4);if("number"!=typeof+this.points_per_win_2_1)return void(this.error_message=this.translations["leagues.leagues_messages"].error_8);if("number"!=typeof+this.points_per_lost_0_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_9);if("number"!=typeof+this.points_per_lost_1_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_10);let t=new FormData;t.append("name",this.name),t.append("sport_type",this.type_sport),t.append("points_per_win_2_0",this.points_per_win_2_0.toString()),t.append("points_per_win_2_1",this.points_per_win_2_1.toString()),t.append("points_per_lost_0_2",this.points_per_lost_0_2.toString()),t.append("points_per_lost_1_2",this.points_per_lost_1_2.toString()),t.append("start_date",this.date_start),t.append("imagen",this.fileAvatar),t.append("price",this.price.toString()),"1"==this.match_type_id&&t.append("match_type","double"),"2"==this.match_type_id&&t.append("match_type","singles"),this.leagueSrv.storeLeague(t).subscribe(a=>{200==a.message?(this.league_inserted_id=a.id_league,this.id_league=a.id_league,this.success_message=this.translations.commun_translations.data_save_correctly):403==a.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=a.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}addCategory(){if(this.cleanMessage(),!this.name_category)return void(this.error_message=this.translations["leagues.leagues_messages"].error_6);let t={id:null,name:this.name_category,description:this.description_category,league_id:this.league_inserted_id,total_couple:0};this.categorySrv.storeCategory(t).subscribe(a=>{200==a.message?(t.id=a.category_id,this.categories_list.push(t),this.name_category="",this.description_category="",this.success_message_category=this.translations.commun_translations.data_save_correctly):422==a.message?(this.error_message_category=this.translations.commun_translations.data_save_error,this.message_errors_category=a.errors_text):this.error_message_category=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}deleteCategory(){this.cleanMessage(),this.categorySrv.deleteCategory(this.category_selected_id).subscribe(t=>{200==t.message?(this.categories_list.splice(this.index,1),this.name_category="",this.description_category="",this.category_selected_name="",this.category_selected_id="",this.closebutton.nativeElement.click(),this.success_message_category=this.translations["leagues.leagues_messages"].success_delete):this.success_message_category=this.translations.commun_translations.data_delete_error})}typeMatch(){this.match_types.push({id:0,name:"..."},{id:1,name:this.translations.club_translations.match_type_double},{id:2,name:this.translations.club_translations.match_type_single})}typeOfCourtsClub(){this.kind_sport.push({id:0,name:"..."}),this.courts.some(t=>{1==t.sport_type&&(this.hasPadelCourts=!0),2==t.sport_type&&(this.hasTennisCourts=!0),3==t.sport_type&&(this.hasPickleballCourts=!0),4==t.sport_type&&(this.hasSquashCourts=!0),5==t.sport_type&&(this.hasBadmintonCourts=!0)}),this.hasPadelCourts&&this.kind_sport.push({id:1,name:this.translations.club_translations.sport_1}),this.hasTennisCourts&&this.kind_sport.push({id:2,name:this.translations.club_translations.sport_2}),this.hasPickleballCourts&&this.kind_sport.push({id:3,name:this.translations.club_translations.sport_3}),this.hasSquashCourts&&this.kind_sport.push({id:4,name:this.translations.club_translations.sport_4}),this.hasBadmintonCourts&&this.kind_sport.push({id:5,name:this.translations.club_translations.sport_5})}tabSeleted(t){this.tab_selected=t}selectCategory(t,a){this.category_selected_id=t.id,this.category_selected_name=t.name,this.index=a}};let s=r;return r.\u0275fac=function(a){return new(a||r)(e.Y36(y),e.Y36(w.H),e.Y36(m.sK),e.Y36(Z._A))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-league"]],viewQuery:function(a,n){if(1&a&&e.Gf(j,5),2&a){let o;e.iGM(o=e.CRH())&&(n.closebutton=o.first)}},decls:43,vars:29,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item",3,"ngClass"],["href","#","onclick","return false;",1,"nav-link",3,"click"],["href","#","onclick","return false;","class","nav-link",3,"click",4,"ngIf"],["class","nav-link nav-link-disabled",4,"ngIf"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","row",4,"ngIf"],["id","delete_category","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"nav-link","nav-link-disabled"],[1,"nav-link",3,"routerLink"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-5","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-4","col-xl-4"],["name","date_start","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"ngModel","matDatepicker","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],[1,"col-12","col-md-3","col-xl-3"],["name","price","type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 col-md-4 col-xl-4",4,"ngIf"],["name","points_per_win_2_0","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_0_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_win_2_1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_1_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],["type","file","accept","image/*","name","image","id","file",1,"hide-input",3,"change"],["for","file",1,"upload"],["class","",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[3,"value"],[1,""],["alt","","width","150px","height","150px",3,"src"],[1,"doctor-submit","text-end"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngIf"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"col-12","col-md-8","col-xl-8","settings-form"],[1,"table-responsive"],[1,"table","mb-0"],[1,"row","settings-form"],[1,"col-9"],["name","name_category","type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"doctor-submit"],[1,"align-items-center","table-primary"],["data-bs-toggle","modal","data-bs-target","#delete_category","href","#","onclick","return false;",1,"btn","trash","trash-style",3,"click"],[1,"feather","icon-trash-2","service"],["href","#",1,"btn","trash","trash-style",3,"routerLink"],["src","assets/img/icons/menu-icon-16.svg","alt",""]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"li",6),e._UZ(11,"i",8),e.qZA(),e.TgZ(12,"li",9),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()(),e.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"a",13),e.NdJ("click",function(){return n.tabSeleted(1)}),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"li",12),e.YNc(22,K,3,3,"a",14),e.YNc(23,G,3,3,"a",15),e.qZA(),e.TgZ(24,"li",12),e.YNc(25,z,3,6,"a",16),e.YNc(26,$,3,3,"a",15),e.qZA()()(),e.YNc(27,ie,101,57,"div",17),e.YNc(28,de,21,11,"div",17),e.qZA()(),e.TgZ(29,"div",18)(30,"div",19)(31,"div",20)(32,"div",21),e._UZ(33,"img",22),e.TgZ(34,"h3"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"div",23)(38,"a",24,25),e._uU(40,"Cerrar"),e.qZA(),e.TgZ(41,"button",26),e.NdJ("click",function(){return n.deleteCategory()}),e._uU(42,"Borrar"),e.qZA()()()()()()),2&a&&(e.xp6(7),e.Q6J("routerLink",n.routes.leagueList),e.xp6(1),e.hij("",e.lcZ(9,15,"leagues.leagues")," "),e.xp6(5),e.Oqu(e.lcZ(14,17,"commun_translations.add")),e.xp6(4),e.Q6J("ngClass",e.VKq(23,C,1==n.tab_selected)),e.xp6(2),e.Oqu(e.lcZ(20,19,"leagues.tabs.general_data")),e.xp6(2),e.Q6J("ngClass",e.VKq(25,C,2==n.tab_selected)),e.xp6(1),e.Q6J("ngIf",0!=n.id_league),e.xp6(1),e.Q6J("ngIf",0==n.id_league),e.xp6(1),e.Q6J("ngClass",e.VKq(27,C,3==n.tab_selected)),e.xp6(1),e.Q6J("ngIf",0!=n.id_league),e.xp6(1),e.Q6J("ngIf",0==n.id_league),e.xp6(1),e.Q6J("ngIf",1==n.tab_selected),e.xp6(1),e.Q6J("ngIf",2==n.tab_selected),e.xp6(7),e.AsE("",e.lcZ(36,21,"tournaments.sure_delete_category"),": ",n.category_selected_name,"?"))},dependencies:[g.mk,g.sg,g.O5,u.rH,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.F,f.Mq,f.hl,f.nW,J.R9,T.gD,Z.ey,m.X$],styles:[".nav-link-disabled[_ngcontent-%COMP%]{background-color:gray!important;cursor:no-drop}.settings-form[_ngcontent-%COMP%]   .trash[_ngcontent-%COMP%]{display:inline!important}"]}),s})();var A=c(30671),he=c(74742),L=c(96308);const me=["closebutton"],P=function(s){return["edit",s]};function fe(s,r){if(1&s&&(e.TgZ(0,"a",67),e._UZ(1,"i",68),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&s){const i=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(4,P,i.id)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"commun_translations.view"),"")}}function ve(s,r){if(1&s&&(e.TgZ(0,"a",67),e._UZ(1,"i",69),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&s){const i=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(4,P,i.id)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"commun_translations.edit"),"")}}function Ze(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"a",70),e.NdJ("click",function(){e.CHM(i);const a=e.oxw().$implicit,n=e.oxw();return e.KtG(n.selectLeague(a))}),e._UZ(1,"i",71),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commun_translations.remove"),""))}const xe=function(s,r){return{"status-green":s,"status-pink":r}};function ye(s,r){if(1&s&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td")(9,"button",59),e._uU(10),e.qZA()(),e.TgZ(11,"td",60)(12,"div",61)(13,"a",62),e._UZ(14,"i",63),e.qZA(),e.TgZ(15,"div",64),e.YNc(16,fe,4,6,"a",65),e.YNc(17,ve,4,6,"a",65),e.YNc(18,Ze,4,3,"a",66),e.qZA()()()()),2&s){const i=r.$implicit,t=e.oxw();e.xp6(2),e.Oqu(i.name),e.xp6(2),e.Oqu(t.kind_sport[i.sport_type].name),e.xp6(2),e.Oqu(e.xi3(7,8,i.start_date,"dd/MM/yyyy")),e.xp6(3),e.Q6J("ngClass",e.WLB(11,xe,0==i.match_finished,i.match_finished>0)),e.xp6(1),e.Oqu(i.status),e.xp6(6),e.Q6J("ngIf",0==t.hasPermission("edit_league")&&t.hasPermission("list_league")),e.xp6(1),e.Q6J("ngIf",t.hasPermission("edit_league")),e.xp6(1),e.Q6J("ngIf",t.hasPermission("delete_league"))}}function Ae(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"li",73),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.moveToPage(a.currentPage-2))}),e.TgZ(1,"a",74),e._uU(2," ... "),e.qZA()()}if(2&s){const i=e.oxw(2);e.Q6J("hidden",1===i.currentPage)}}function be(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"li",73),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.moveToPage(a.currentPage+2))}),e.TgZ(1,"a",74),e._uU(2," ... "),e.qZA()()}if(2&s){const i=e.oxw(2);e.Q6J("hidden",i.currentPage>=i.pageNumberArray[i.pageNumberArray.length-2]||i.totalData<i.serialNumberArray[i.serialNumberArray.length-1])}}function Te(s,r){if(1&s){const i=e.EpF();e.ynx(0),e.TgZ(1,"li",46)(2,"a",48),e.NdJ("click",function(){const n=e.CHM(i).$implicit,o=e.oxw();return e.KtG(o.moveToPage(n))}),e._uU(3),e.qZA()(),e.YNc(4,Ae,3,1,"li",72),e.YNc(5,be,3,1,"li",72),e.BQk()}if(2&s){const i=r.$implicit,t=r.index,a=e.oxw();e.xp6(1),e.ekj("active",i===a.currentPage),e.Q6J("ngClass",a.pageNumberArray[a.currentPage-2]>i&&1!==i&&a.pageNumberArray.length>6||a.pageNumberArray[a.currentPage]<i&&1!==i&&a.pageNumberArray.length>6&&a.pageNumberArray.length!==i?"hide-page-no":"show-page-no"),e.xp6(2),e.hij(" ",i," "),e.xp6(1),e.Q6J("ngIf",0===t&&a.pageNumberArray.length>6&&a.currentPage>2),e.xp6(1),e.Q6J("ngIf",t===a.pageNumberArray.length-2&&a.pageNumberArray.length>6)}}function Ce(s,r){if(1&s&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&s){const i=e.oxw();e.xp6(1),e.hij("Est\xe1s seguro de borrar esta liga: ",i.league_selected.name,"?")}}const S=function(s){return{disabled:s}};let Le=(()=>{const r=class{constructor(t,a,n){this.data=t,this.leagueSrv=a,this.translate=n,this.leaguesList=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.leagues_general=[],this.statusText="",this.kind_sport=[],this.type_sport="0",this.translations=[]}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.getTableData()}getTableData(t=1,a=""){this.leaguesList=[],this.serialNumberArray=[],this.leagueSrv.listLeagues(t,this.searchDataValue).subscribe(n=>{this.totalData=n.total,this.leaguesList=n.leagues,this.getTextStatus(n.match_finished,n.match_pending),this.dataSource=new A.by(this.leaguesList),this.calculateTotalPages(this.totalData,this.pageSize)})}getTextStatus(t,a){this.leaguesList.forEach(n=>{1==n.preregistrations?n.status=this.translations.leagues.preregistrations:0==n.match_finished&&0==n.match_pending?n.status=this.translations.leagues.open:0==n.match_pending&&n.match_finished>0?n.status=this.translations.leagues.finished:n.match_pending>0&&(n.status=this.translations.leagues.in_play)})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","leagues","club_translations"]).subscribe(t=>{this.translations=t,this.getTypeSports()})}hasPermission(t=""){return!(!this.user.role.includes("Super-Admin")&&!this.user.permissions.includes(t))}getTableDataGeneral(){new g.uU("en-US"),this.leaguesList=[],this.serialNumberArray=[],this.leagues_general.map((a,n)=>{const o=n+1;n>=this.skip&&o<=this.limit&&(this.leaguesList.push(a),this.serialNumberArray.push(o))}),this.dataSource=new A.by(this.leaguesList),this.calculateTotalPages(this.totalData,this.pageSize)}searchData(t){this.dataSource.filter=t.trim().toLowerCase(),this.getTableData(this.currentPage,this.searchDataValue)}sortData(t){const a=this.leaguesList.slice();this.leaguesList=t.active&&""!==t.direction?a.sort((n,o)=>(n[t.active]<o[t.active]?-1:1)*("asc"===t.direction?1:-1)):a}getMoreData(t){"next"==t?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData(this.currentPage)):"previous"==t&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData(this.currentPage))}moveToPage(t){this.currentPage=t,this.skip=this.pageSelection[t-1].skip,this.limit=this.pageSelection[t-1].limit,t>this.currentPage?this.pageIndex=t-1:t<this.currentPage&&(this.pageIndex=t+1),this.getTableData(this.currentPage)}refresh(){this.pageSelection=[],this.searchDataValue="",this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableData()}calculateTotalPages(t,a){this.pageNumberArray=[],this.totalPages=t/a,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(var n=1;n<=this.totalPages;n++){const o=a*n,_=o-a;this.pageNumberArray.push(n),this.pageSelection.push({skip:_,limit:o})}}selectLeague(t){this.league_selected=t}removeLeague(){this.leagueSrv.deleteLeague(this.league_selected.id).subscribe(t=>{if(200==t.message){let a=this.leaguesList.findIndex(n=>n.id==this.league_selected.id);-1!=a&&(this.leaguesList.splice(a,1),this.closebutton.nativeElement.click(),this.league_selected=null)}else console.log(t)})}getTypeSports(){this.kind_sport.push({id:0,name:"..."},{id:1,name:this.translations.club_translations.sport_1},{id:2,name:this.translations.club_translations.sport_2},{id:3,name:this.translations.club_translations.sport_3},{id:4,name:this.translations.club_translations.sport_4},{id:5,name:this.translations.club_translations.sport_5})}};let s=r;return r.\u0275fac=function(a){return new(a||r)(e.Y36(he.D),e.Y36(y),e.Y36(m.sK))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-league"]],viewQuery:function(a,n){if(1&a&&e.Gf(me,5),2&a){let o;e.iGM(o=e.CRH())&&(n.closebutton=o.first)}},decls:90,vars:34,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],["placeholder","Search here",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"add-group"],["routerLink","/leagues/add-league","routerLinkActive","router-link-active",1,"btn","btn-primary","add-pluss","ms-2"],["src","assets/img/icons/plus.svg","alt",""],["href","javascript:;",1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],["href","javascript:;",1,"me-2"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["src","assets/img/icons/pdf-icon-02.svg","alt",""],["src","assets/img/icons/pdf-icon-03.svg","alt",""],["href","javascript:;"],["src","assets/img/icons/pdf-icon-04.svg","alt",""],[1,"table-responsive"],["matSort","",1,"table","border-0","custom-table","comman-table","datatable","mb-0",3,"matSortChange"],["mat-sort-header","name"],["mat-sort-header","type_sportt"],["mat-sort-header","joining_date"],["mat-sort-header","status"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click"],["href","javascript:void(0);",1,"page-link",3,"click"],["id","delete_staff_modal","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"custom-badge",3,"ngClass"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],["class","dropdown-item","href","#",3,"routerLink",4,"ngIf"],["class","dropdown-item","href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_staff_modal",3,"click",4,"ngIf"],["href","#",1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-eye","m-r-5"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_staff_modal",1,"dropdown-item",3,"click"],[1,"fa","fa-trash-alt","m-r-5"],["class","page-item",3,"hidden","click",4,"ngIf"],[1,"page-item",3,"hidden","click"],["href","javascript:void(0);",1,"page-link"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"li",6),e._UZ(11,"i",8),e.qZA(),e.TgZ(12,"li",9),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()(),e.TgZ(15,"div",3)(16,"div",4)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",15)(23,"h3"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",16)(27,"div",17)(28,"input",18),e.NdJ("ngModelChange",function(_){return n.searchDataValue=_})("ngModelChange",function(){return n.searchData(n.searchDataValue)}),e.qZA(),e.TgZ(29,"a",19),e._UZ(30,"img",20),e.qZA()(),e.TgZ(31,"div",21)(32,"a",22),e._UZ(33,"img",23),e.qZA(),e.TgZ(34,"a",24),e.NdJ("click",function(){return n.refresh()}),e._UZ(35,"img",25),e.qZA()()()()(),e.TgZ(36,"div",26)(37,"a",27),e._UZ(38,"img",28),e.qZA(),e.TgZ(39,"a",27),e._UZ(40,"img",29),e.qZA(),e.TgZ(41,"a",27),e._UZ(42,"img",30),e.qZA(),e.TgZ(43,"a",31),e._UZ(44,"img",32),e.qZA()()()(),e.TgZ(45,"div",33)(46,"table",34),e.NdJ("matSortChange",function(_){return n.sortData(_)}),e.TgZ(47,"thead")(48,"tr")(49,"th",35),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"th",36),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"th",37),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"th",38),e._uU(59),e.ALo(60,"translate"),e.qZA(),e._UZ(61,"th"),e.qZA()(),e.TgZ(62,"tbody"),e.YNc(63,ye,19,14,"tr",39),e.qZA()(),e.TgZ(64,"div",40)(65,"div",41)(66,"div",42),e._uU(67),e.qZA()(),e.TgZ(68,"div",43)(69,"div",44)(70,"ul",45)(71,"li",46)(72,"a",47),e.NdJ("click",function(){return n.getMoreData("previous")}),e._uU(73,"Previous"),e.qZA()(),e.YNc(74,Te,6,6,"ng-container",39),e.TgZ(75,"li",46)(76,"a",48),e.NdJ("click",function(){return n.getMoreData("next")}),e._uU(77,"Next "),e.qZA()()()()()()()()()()()()(),e.TgZ(78,"div",49)(79,"div",50)(80,"div",51)(81,"div",52),e._UZ(82,"img",53),e.YNc(83,Ce,2,1,"h3",54),e.TgZ(84,"div",55)(85,"a",56,57),e._uU(87,"Cerrar"),e.qZA(),e.TgZ(88,"button",58),e.NdJ("click",function(){return n.removeLeague()}),e._uU(89,"Borrar"),e.qZA()()()()()()),2&a&&(e.xp6(8),e.hij("",e.lcZ(9,16,"leagues.league")," "),e.xp6(5),e.Oqu(e.lcZ(14,18,"commun_translations.list")),e.xp6(11),e.Oqu(e.lcZ(25,20,"leagues.league_list")),e.xp6(4),e.Q6J("ngModel",n.searchDataValue),e.xp6(22),e.Oqu(e.lcZ(51,22,"leagues.name")),e.xp6(3),e.Oqu(e.lcZ(54,24,"club_translations.sport")),e.xp6(3),e.Oqu(e.lcZ(57,26,"leagues.day_start")),e.xp6(3),e.Oqu(e.lcZ(60,28,"leagues.status")),e.xp6(4),e.Q6J("ngForOf",n.leaguesList),e.xp6(4),e.lnq(" Showing ",n.serialNumberArray[0]," to ",n.serialNumberArray[n.serialNumberArray.length-1]," of ",n.totalData," entries "),e.xp6(4),e.Q6J("ngClass",e.VKq(30,S,1===n.currentPage)),e.xp6(3),e.Q6J("ngForOf",n.pageNumberArray),e.xp6(1),e.Q6J("ngClass",e.VKq(32,S,n.currentPage===n.pageNumberArray[n.pageNumberArray.length-1]||0===n.leaguesList.length)),e.xp6(8),e.Q6J("ngIf",n.league_selected))},dependencies:[g.mk,g.sg,g.O5,u.rH,u.Od,l.Fj,l.JJ,l.On,L.YE,L.nU,g.uU,m.X$]}),s})();const qe=["closebutton"];function ke(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.tabSeleted(2))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.categories")))}function Me(s,r){1&s&&(e.TgZ(0,"a",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.categories")))}const we=function(s){return["/leagues/all-players",s]};function Je(s,r){if(1&s&&(e.TgZ(0,"a",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const i=e.oxw();e.Q6J("routerLink",e.VKq(4,we,i.id_league)),e.xp6(1),e.Oqu(e.lcZ(2,2,"tournaments.payments"))}}function Ue(s,r){1&s&&(e.TgZ(0,"a",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"tournaments.payments")))}function Ne(s,r){if(1&s&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function Pe(s,r){if(1&s&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}const Q=function(){return{standalone:!0}};function Se(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"label"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",36),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"mat-select",43),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw(2);return e.KtG(n.match_type_id=a)}),e.ALo(8,"translate"),e.YNc(9,Pe,2,2,"mat-option",44),e.qZA()()()}if(2&s){const i=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,5,"club_translations.type_match")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(8,7,"club_translations.select_type")),e.Q6J("ngModel",i.match_type_id)("ngModelOptions",e.DdM(9,Q)),e.xp6(2),e.Q6J("ngForOf",i.match_types)}}function Qe(s,r){if(1&s&&(e.TgZ(0,"div",62),e._UZ(1,"img",63),e.qZA()),2&s){const i=e.oxw(2);e.xp6(1),e.Q6J("src",i.image_preview,e.LSH)}}function Oe(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"button",64),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.save")))}function Ie(s,r){if(1&s&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i)}}function Ee(s,r){if(1&s&&(e.TgZ(0,"ul"),e.YNc(1,Ie,2,1,"li",69),e.qZA()),2&s){const i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",i.message_errors)}}function De(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",65)(1,"div",66)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",67),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.cleanMessage())}),e._UZ(7,"span",68),e.qZA(),e.YNc(8,Ee,2,1,"ul",23),e.qZA()()}if(2&s){const i=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,3,"commun_translations.error")," "),e.xp6(2),e.hij(" ",i.error_message," "),e.xp6(3),e.Q6J("ngIf",i.message_errors.length>0)}}function Ye(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",65)(1,"div",70)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",67),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.cleanMessage())}),e._UZ(7,"span",68),e.qZA()()()}if(2&s){const i=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,2,"commun_translations.success")," "),e.xp6(2),e.hij(" ",i.success_message," ")}}function Fe(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",30)(3,"div",31)(4,"form")(5,"div",3)(6,"div",32)(7,"div",33)(8,"h4"),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",34)(12,"div",35)(13,"label"),e._uU(14),e.ALo(15,"translate"),e.TgZ(16,"span",36),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"input",37),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.name=a)}),e.qZA()()(),e.TgZ(19,"div",34)(20,"div",35)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.TgZ(24,"span",36),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"input",38),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.date_start=a)}),e.qZA(),e._UZ(27,"mat-datepicker",null,39)(29,"mat-datepicker-toggle",40),e.qZA()(),e.TgZ(30,"div",41)(31,"div",35)(32,"label"),e._uU(33),e.ALo(34,"translate"),e.TgZ(35,"span",36),e._uU(36,"*"),e.qZA()(),e.TgZ(37,"input",42),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.price=a)}),e.qZA()()(),e.TgZ(38,"div",34)(39,"div",35)(40,"label"),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",36),e._uU(44,"*"),e.qZA()(),e.TgZ(45,"mat-select",43),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.type_sport=a)}),e.ALo(46,"translate"),e.YNc(47,Ne,2,2,"mat-option",44),e.qZA()()(),e.YNc(48,Se,10,10,"div",45),e.TgZ(49,"div",32)(50,"div",33)(51,"h4"),e._uU(52),e.ALo(53,"translate"),e.qZA()()(),e.TgZ(54,"div",41)(55,"div",35)(56,"label"),e._uU(57),e.ALo(58,"translate"),e.TgZ(59,"span",36),e._uU(60,"*"),e.qZA()(),e.TgZ(61,"input",46),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.points_per_win_2_0=a)}),e.qZA()()(),e.TgZ(62,"div",41)(63,"div",35)(64,"label"),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"span",36),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",47),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.points_per_lost_0_2=a)}),e.qZA()()(),e.TgZ(70,"div",41)(71,"div",35)(72,"label"),e._uU(73),e.ALo(74,"translate"),e.TgZ(75,"span",36),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"input",48),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.points_per_win_2_1=a)}),e.qZA()()(),e.TgZ(78,"div",41)(79,"div",35)(80,"label"),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",36),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"input",49),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.points_per_lost_1_2=a)}),e.qZA()()(),e.TgZ(86,"div",50)(87,"div",51)(88,"label",52),e._uU(89),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"div",53)(92,"input",54),e.NdJ("change",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.loadFile(a))}),e.qZA(),e.TgZ(93,"label",55),e._uU(94),e.ALo(95,"translate"),e.qZA()()()(),e.YNc(96,Qe,2,1,"div",56),e.TgZ(97,"div",32)(98,"div",57)(99,"button",58),e._uU(100),e.ALo(101,"translate"),e.qZA(),e._uU(102,"\xa0 "),e.YNc(103,Oe,3,3,"button",59),e.qZA()(),e.YNc(104,De,9,5,"div",60),e.YNc(105,Ye,8,4,"div",60),e.qZA()()()()()()}if(2&s){const i=e.MAs(28),t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,32,"leagues.data")),e.xp6(5),e.Oqu(e.lcZ(15,34,"leagues.league_name")),e.xp6(4),e.Q6J("ngModel",t.name),e.xp6(4),e.hij("",e.lcZ(23,36,"leagues.day_start")," "),e.xp6(4),e.Q6J("ngModel",t.date_start)("matDatepicker",i),e.xp6(3),e.Q6J("for",i),e.xp6(4),e.Oqu(e.lcZ(34,38,"tournaments.price")),e.xp6(4),e.Q6J("ngModel",t.price),e.xp6(4),e.hij("",e.lcZ(42,40,"club_translations.sport")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(46,42,"club_translations.select_sport_type")),e.Q6J("ngModel",t.type_sport)("ngModelOptions",e.DdM(60,Q)),e.xp6(2),e.Q6J("ngForOf",t.kind_sport),e.xp6(1),e.Q6J("ngIf","2"==t.type_sport),e.xp6(4),e.Oqu(e.lcZ(53,44,"club_translations.points")),e.xp6(5),e.hij("",e.lcZ(58,46,"leagues.points_for_winning")," 2-0"),e.xp6(4),e.Q6J("ngModel",t.points_per_win_2_0),e.xp6(4),e.hij("",e.lcZ(66,48,"leagues.points_set_winning_loser")," 0-2"),e.xp6(4),e.Q6J("ngModel",t.points_per_lost_0_2),e.xp6(4),e.hij("",e.lcZ(74,50,"leagues.points_for_winning")," 2-1"),e.xp6(4),e.Q6J("ngModel",t.points_per_win_2_1),e.xp6(4),e.hij("",e.lcZ(82,52,"leagues.points_set_winning_loser")," 1-2"),e.xp6(4),e.Q6J("ngModel",t.points_per_lost_1_2),e.xp6(4),e.hij("",e.lcZ(90,54,"leagues.logo")," "),e.xp6(5),e.Oqu(e.lcZ(95,56,"leagues.form_select_img")),e.xp6(2),e.Q6J("ngIf",t.image_preview),e.xp6(3),e.Q6J("routerLink",t.routes.leagueList),e.xp6(1),e.Oqu(e.lcZ(101,58,"commun_translations.come_back")),e.xp6(3),e.Q6J("ngIf",t.hasPermission("edit_league")&&0==t.matchs_finished),e.xp6(1),e.Q6J("ngIf",""!=t.error_message),e.xp6(1),e.Q6J("ngIf",""!=t.success_message)}}function je(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",34)(1,"div",77)(2,"div",78)(3,"div",35)(4,"label"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"span",36),e._uU(8,"*"),e.qZA()(),e.TgZ(9,"input",79),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw(2);return e.KtG(n.name_category=a)}),e.qZA()()(),e.TgZ(10,"div",35)(11,"div",80)(12,"button",64),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.addCategory())}),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()()}if(2&s){const i=e.oxw(2);e.xp6(5),e.hij("",e.lcZ(6,3,"leagues.name")," "),e.xp6(4),e.Q6J("ngModel",i.name_category),e.xp6(4),e.hij("",e.lcZ(14,5,"leagues.add")," ")}}function Ke(s,r){1&s&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.remove")))}function Ge(s,r){1&s&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.setting")))}function He(s,r){1&s&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.view")))}function ze(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"td")(1,"a",82),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(),n=a.$implicit,o=a.index,_=e.oxw(2);return e.KtG(_.selectCategory(n,o))}),e._UZ(2,"i",83),e.qZA()()}}const O=function(s){return["/category/data",s,1]};function $e(s,r){if(1&s&&(e.TgZ(0,"td")(1,"a",84),e._UZ(2,"img",85),e.qZA()()),2&s){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,O,i.id))}}function Ve(s,r){if(1&s&&(e.TgZ(0,"td")(1,"a",84),e._UZ(2,"img",85),e.qZA()()),2&s){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,O,i.id))}}function Be(s,r){if(1&s&&(e.ynx(0),e.TgZ(1,"tr",81)(2,"td"),e._uU(3),e.qZA(),e.YNc(4,ze,3,0,"td",23),e.YNc(5,$e,3,3,"td",23),e.YNc(6,Ve,3,3,"td",23),e.qZA(),e.BQk()),2&s){const i=r.$implicit,t=e.oxw(2);e.xp6(3),e.AsE(" ",i.name," (",i.total_couple,") "),e.xp6(1),e.Q6J("ngIf",1==t.can_edit),e.xp6(1),e.Q6J("ngIf",1==t.can_edit),e.xp6(1),e.Q6J("ngIf",0==t.can_edit)}}function We(s,r){if(1&s&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i)}}function Re(s,r){if(1&s&&(e.TgZ(0,"ul"),e.YNc(1,We,2,1,"li",69),e.qZA()),2&s){const i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",i.message_errors_category)}}function Xe(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",65)(1,"div",66)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",67),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.cleanMessage())}),e._UZ(7,"span",68),e.qZA(),e.YNc(8,Re,2,1,"ul",23),e.qZA()()}if(2&s){const i=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,3,"commun_translations.error")),e.xp6(2),e.hij(" ",i.error_message_category," "),e.xp6(3),e.Q6J("ngIf",i.message_errors_category.length>0)}}function et(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",65)(1,"div",70)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",67),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.cleanMessage())}),e._UZ(7,"span",68),e.qZA()()()}if(2&s){const i=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,"commun_translations.success")),e.xp6(2),e.hij(" ",i.success_message_category," ")}}function tt(s,r){if(1&s&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",30)(3,"div",31)(4,"form"),e.ynx(5),e.TgZ(6,"div",71)(7,"div",72)(8,"h5",73),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"form")(12,"div",3),e.YNc(13,je,15,7,"div",45),e.TgZ(14,"div",74)(15,"div",75)(16,"table",76)(17,"thead")(18,"tr")(19,"th"),e._uU(20),e.ALo(21,"translate"),e.ALo(22,"translate"),e.qZA(),e.YNc(23,Ke,3,3,"th",23),e.YNc(24,Ge,3,3,"th",23),e.YNc(25,He,3,3,"th",23),e.qZA()(),e.TgZ(26,"tbody"),e.YNc(27,Be,7,5,"ng-container",69),e.qZA()()()()()()(),e.TgZ(28,"div",3),e.YNc(29,Xe,9,5,"div",60),e.YNc(30,et,8,4,"div",60),e.qZA(),e.BQk(),e.qZA()()()()()),2&s){const i=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,10,"leagues.categories")),e.xp6(4),e.Q6J("ngIf",i.hasPermission("edit_league")),e.xp6(7),e.AsE("",e.lcZ(21,12,"leagues.categories")," (",e.lcZ(22,14,"leagues.couples"),")"),e.xp6(3),e.Q6J("ngIf",1==i.can_edit),e.xp6(1),e.Q6J("ngIf",1==i.can_edit),e.xp6(1),e.Q6J("ngIf",0==i.can_edit),e.xp6(2),e.Q6J("ngForOf",i.categories_list),e.xp6(2),e.Q6J("ngIf",""!=i.error_message_category),e.xp6(1),e.Q6J("ngIf",""!=i.success_message_category)}}function at(s,r){if(1&s&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const i=e.oxw();e.xp6(1),e.AsE("",e.lcZ(2,2,"tournaments.sure_delete_category")," ",i.category_selected_name,"?")}}const q=function(s){return{active:s}};let I=(()=>{const r=class{constructor(t,a,n,o,_){this.leagueSrv=t,this.activateRoute=a,this.categorySrv=n,this.translate=o,this.routes=b._,this.name="",this.date_start="",this.image_preview="assets/img/img-06.jpg",this.id_league=0,this.success_message="",this.error_message="",this.message_errors=[],this.message_errors_category=[],this.name_category="",this.description_category="",this.categories_list=[],this.error_message_category="",this.success_message_category="",this.can_edit=!1,this.points_per_win_2_0=0,this.points_per_win_2_1=0,this.points_per_lost_0_2=0,this.points_per_lost_1_2=0,this.translations=[],this.courts=[],this.hasPadelCourts=!1,this.hasTennisCourts=!1,this.hasPickleballCourts=!1,this.hasSquashCourts=!1,this.hasBadmintonCourts=!1,this.kind_sport=[],this.type_sport="0",this.price=0,this.match_types=[],this.match_type_id="0",this.matchs_finished=0,this.tab_selected=1,this.category_selected_name="","es"==this.leagueSrv.authSrv.language&&(_.getFirstDayOfWeek=()=>1)}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.hasPermission(),this.activateRoute.params.subscribe(t=>{this.id_league=t.id,t.tab&&(this.tab_selected=t.tab),this.getLeagueSelected()}),this.leagueSrv.config().subscribe(t=>{this.courts=t.courts,this.typeOfCourtsClub(),this.typeMatch()})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","leagues","leagues.leagues_messages","club_translations"]).subscribe(t=>{this.translations=t})}hasPermission(t=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes(t))&&(this.can_edit=!0,!0)}getLeagueSelected(){this.leagueSrv.getLeague(this.id_league).subscribe(t=>{this.league_selected=t.league,this.matchs_finished=t.match_finiched,this.name=this.league_selected.name,this.type_sport=this.league_selected.sport_type,this.date_start=this.league_selected.start_date,this.image_preview=this.league_selected.avatar,this.categories_list=this.league_selected.category,this.points_per_win_2_0=this.league_selected.points_per_win_2_0,this.points_per_win_2_1=this.league_selected.points_per_win_2_1,this.points_per_lost_0_2=this.league_selected.points_per_lost_0_2,this.points_per_lost_1_2=this.league_selected.points_per_lost_1_2,this.price=this.league_selected.price,this.match_type_id=this.league_selected.type_match})}loadFile(t){if(t.target.files[0].type.indexOf("image")<0)return alert(this.translations.commun_translations.only_type_img),void(this.image_preview=this.image_preview?this.image_preview:"assets/img/img-06.jpg");if(t.target.files[0].size>2e6)return alert(this.translations.commun_translations.max_size_img),void(this.fileAvatar="");this.fileAvatar=t.target.files[0];let a=new FileReader;a.readAsDataURL(this.fileAvatar),a.onloadend=()=>this.image_preview=a.result}cleanMessage(){this.error_message="",this.success_message="",this.message_errors=[],this.error_message_category="",this.success_message_category=""}save(){if(this.cleanMessage(),""==this.name)return void(this.error_message=this.translations["leagues.leagues_messages"].error_1);if(this.name&&this.name.length>191)return void(this.error_message=this.translations["leagues.leagues_messages"].error_2);if("0"==this.type_sport)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_13);if("2"==this.type_sport&&"0"==this.match_type_id)return void(this.error_message=this.translations["leagues.leagues_messages"].error_11);if(""==this.date_start)return void(this.error_message=this.translations["leagues.leagues_messages"].error_3);if("number"!=typeof+this.points_per_win_2_0)return void(this.error_message=this.translations["leagues.leagues_messages"].error_4);if("number"!=typeof+this.points_per_win_2_1)return void(this.error_message=this.translations["leagues.leagues_messages"].error_8);if("number"!=typeof+this.points_per_lost_0_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_9);if("number"!=typeof+this.points_per_lost_1_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_10);let t=new FormData;t.append("name",this.name),t.append("sport_type",this.type_sport),t.append("start_date",this.date_start),t.append("points_per_win_2_0",this.points_per_win_2_0.toString()),t.append("points_per_win_2_1",this.points_per_win_2_1.toString()),t.append("points_per_lost_0_2",this.points_per_lost_0_2.toString()),t.append("points_per_lost_1_2",this.points_per_lost_1_2.toString()),t.append("price",this.price.toString()),"1"==this.match_type_id&&t.append("match_type","double"),"2"==this.match_type_id&&t.append("match_type","singles"),t.append("imagen",this.fileAvatar),this.leagueSrv.editLeague(this.id_league,t).subscribe(a=>{200==a.message?this.success_message=this.translations.commun_translations.data_save_correctly:422==a.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=a.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}addCategory(){if(this.cleanMessage(),!this.name_category)return void(this.error_message=this.translations["leagues.leagues_messages"].error_6);let t={id:null,name:this.name_category,description:this.description_category,league_id:this.id_league,total_couple:0};this.categorySrv.storeCategory(t).subscribe(a=>{200==a.message?(t.id=a.category_id,this.categories_list.push(t),this.name_category="",this.description_category="",this.success_message_category=this.translations.commun_translations.data_save_correctly):422==a.message?(this.error_message_category=this.translations.commun_translations.data_save_error,this.message_errors_category=a.errors_text):this.error_message_category=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}deleteCategory(){this.cleanMessage(),this.categorySrv.deleteCategory(this.category_selected_id).subscribe(t=>{200==t.message?(this.categories_list.splice(this.index,1),this.name_category="",this.description_category="",this.category_selected_name="",this.category_selected_id="",this.closebutton.nativeElement.click(),this.success_message_category=this.translations["leagues.leagues_messages"].success_delete):this.success_message_category=this.translations.commun_translations.data_delete_error})}cancelCategory(){this.name_category="",this.description_category=""}typeMatch(){this.match_types.push({id:0,name:"..."},{id:1,name:this.translations.club_translations.match_type_double},{id:2,name:this.translations.club_translations.match_type_single})}typeOfCourtsClub(){this.kind_sport.push({id:0,name:"..."}),this.courts.some(t=>{1==t.sport_type&&(this.hasPadelCourts=!0),2==t.sport_type&&(this.hasTennisCourts=!0),3==t.sport_type&&(this.hasPickleballCourts=!0),4==t.sport_type&&(this.hasSquashCourts=!0),5==t.sport_type&&(this.hasBadmintonCourts=!0)}),this.hasPadelCourts&&this.kind_sport.push({id:1,name:this.translations.club_translations.sport_1}),this.hasTennisCourts&&this.kind_sport.push({id:2,name:this.translations.club_translations.sport_2}),this.hasPickleballCourts&&this.kind_sport.push({id:3,name:this.translations.club_translations.sport_3}),this.hasSquashCourts&&this.kind_sport.push({id:4,name:this.translations.club_translations.sport_4}),this.hasBadmintonCourts&&this.kind_sport.push({id:5,name:this.translations.club_translations.sport_5})}tabSeleted(t){this.tab_selected=t}selectCategory(t,a){this.category_selected_id=t.id,this.category_selected_name=t.name,this.index=a}};let s=r;return r.\u0275fac=function(a){return new(a||r)(e.Y36(y),e.Y36(u.gz),e.Y36(w.H),e.Y36(m.sK),e.Y36(Z._A))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-league"]],viewQuery:function(a,n){if(1&a&&e.Gf(qe,5),2&a){let o;e.iGM(o=e.CRH())&&(n.closebutton=o.first)}},decls:41,vars:26,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item",3,"ngClass"],["href","#","onclick","return false;",1,"nav-link",3,"click"],["href","#","onclick","return false;","class","nav-link",3,"click",4,"ngIf"],["class","nav-link",4,"ngIf"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","row",4,"ngIf"],["id","delete_category","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"nav-link"],[1,"nav-link",3,"routerLink"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-4","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","date_start","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"ngModel","matDatepicker","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],[1,"col-12","col-md-3","col-xl-3"],["name","price","type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 col-md-4 col-xl-4",4,"ngIf"],["name","points_per_win_2_0","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_0_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_win_2_1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_1_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],["type","file","accept","image/*","name","image","id","file",1,"hide-input",3,"change"],["for","file",1,"upload"],["class","",4,"ngIf"],[1,"doctor-submit","text-end"],["type","submit",1,"btn","btn-primary","cancel-form",3,"routerLink"],["type","button","class","btn btn-primary submit-form me-2",3,"click",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[3,"value"],[1,""],["alt","","width","150px","height","150px",3,"src"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"row","my-4"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"col-12","col-md-8","col-xl-8","settings-form"],[1,"table-responsive"],[1,"table","mb-0"],[1,"row","settings-form"],[1,"col-9"],["name","name_category","type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"doctor-submit"],[1,"align-items-center","table-primary"],["data-bs-toggle","modal","data-bs-target","#delete_category","href","#","onclick","return false;",1,"btn","trash","trash-style",3,"click"],[1,"feather","icon-trash-2","service"],["href","#",1,"btn","trash","trash-style",3,"routerLink"],["src","assets/img/icons/menu-icon-16.svg","alt",""]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"li",6),e._UZ(11,"i",8),e.qZA(),e.TgZ(12,"li",9),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()(),e.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"a",13),e.NdJ("click",function(){return n.tabSeleted(1)}),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"li",12),e.YNc(22,ke,3,3,"a",14),e.YNc(23,Me,3,3,"a",15),e.qZA(),e.TgZ(24,"li",12),e.YNc(25,Je,3,6,"a",16),e.YNc(26,Ue,3,3,"a",15),e.qZA()()(),e.YNc(27,Fe,106,61,"div",17),e.YNc(28,tt,31,16,"div",17),e.qZA()(),e.TgZ(29,"div",18)(30,"div",19)(31,"div",20)(32,"div",21),e._UZ(33,"img",22),e.YNc(34,at,3,4,"h3",23),e.TgZ(35,"div",24)(36,"a",25,26),e._uU(38,"Cerrar"),e.qZA(),e.TgZ(39,"button",27),e.NdJ("click",function(){return n.deleteCategory()}),e._uU(40,"Borrar"),e.qZA()()()()()()),2&a&&(e.xp6(7),e.Q6J("routerLink",n.routes.leagueList),e.xp6(1),e.hij("",e.lcZ(9,14,"leagues.leagues")," "),e.xp6(5),e.Oqu(e.lcZ(14,16,"commun_translations.edit")),e.xp6(4),e.Q6J("ngClass",e.VKq(20,q,1==n.tab_selected)),e.xp6(2),e.Oqu(e.lcZ(20,18,"leagues.tabs.general_data")),e.xp6(2),e.Q6J("ngClass",e.VKq(22,q,2==n.tab_selected)),e.xp6(1),e.Q6J("ngIf",0!=n.id_league),e.xp6(1),e.Q6J("ngIf",0==n.id_league),e.xp6(1),e.Q6J("ngClass",e.VKq(24,q,3==n.tab_selected)),e.xp6(1),e.Q6J("ngIf",0!=n.id_league),e.xp6(1),e.Q6J("ngIf",0==n.id_league),e.xp6(1),e.Q6J("ngIf",1==n.tab_selected),e.xp6(1),e.Q6J("ngIf",2==n.tab_selected),e.xp6(6),e.Q6J("ngIf",n.league_selected))},dependencies:[g.mk,g.sg,g.O5,u.rH,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.F,f.Mq,f.hl,f.nW,J.R9,T.gD,Z.ey,m.X$],styles:[".settings-form[_ngcontent-%COMP%]   .trash[_ngcontent-%COMP%]{display:inline!important}"]}),s})();var st=c(53296);function it(s,r){if(1&s&&(e.TgZ(0,"mat-option",53),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.name," ")}}function nt(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"td")(1,"div",55)(2,"a",56),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",57)(6,"a",58),e.NdJ("click",function(){e.CHM(i);const a=e.oxw().$implicit,n=e.oxw(2);return e.KtG(n.unpaidTournament(a.id))}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()}2&s&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"tournaments.payment_paid")," "),e.xp6(4),e.Oqu(e.lcZ(8,4,"commun_translations.cancel")))}function rt(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"td")(1,"div",55)(2,"a",59),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",57)(6,"a",58),e.NdJ("click",function(){e.CHM(i);const a=e.oxw().$implicit,n=e.oxw(2);return e.KtG(n.paidTournament(a.id))}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()}2&s&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"members.pending")," "),e.xp6(4),e.Oqu(e.lcZ(8,4,"tournaments.payment_paid")))}function ot(s,r){if(1&s&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,nt,9,6,"td",54),e.YNc(6,rt,9,6,"td",54),e.qZA()),2&s){const i=r.$implicit;e.xp6(2),e.AsE("",i.player_name," ",i.player_surname,""),e.xp6(2),e.hij(" ",i.name," "),e.xp6(1),e.Q6J("ngIf","PAID"==i.paid_status),e.xp6(1),e.Q6J("ngIf","PENDING"==i.paid_status)}}function lt(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"li",61),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(3);return e.KtG(a.moveToPage(a.currentPage-2))}),e.TgZ(1,"a",62),e._uU(2," ... "),e.qZA()()}if(2&s){const i=e.oxw(3);e.Q6J("hidden",1===i.currentPage)}}function _t(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"li",61),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(3);return e.KtG(a.moveToPage(a.currentPage+2))}),e.TgZ(1,"a",62),e._uU(2," ... "),e.qZA()()}if(2&s){const i=e.oxw(3);e.Q6J("hidden",i.currentPage>=i.pageNumberArray[i.pageNumberArray.length-2]||i.totalData<i.serialNumberArray[i.serialNumberArray.length-1])}}function ct(s,r){if(1&s){const i=e.EpF();e.ynx(0),e.TgZ(1,"li",50)(2,"a",52),e.NdJ("click",function(){const n=e.CHM(i).$implicit,o=e.oxw(2);return e.KtG(o.moveToPage(n))}),e._uU(3),e.qZA()(),e.YNc(4,lt,3,1,"li",60),e.YNc(5,_t,3,1,"li",60),e.BQk()}if(2&s){const i=r.$implicit,t=r.index,a=e.oxw(2);e.xp6(1),e.ekj("active",i===a.currentPage),e.Q6J("ngClass",a.pageNumberArray[a.currentPage-2]>i&&1!==i&&a.pageNumberArray.length>6||a.pageNumberArray[a.currentPage]<i&&1!==i&&a.pageNumberArray.length>6&&a.pageNumberArray.length!==i?"hide-page-no":"show-page-no"),e.xp6(2),e.hij(" ",i," "),e.xp6(1),e.Q6J("ngIf",0===t&&a.pageNumberArray.length>6&&a.currentPage>2),e.xp6(1),e.Q6J("ngIf",t===a.pageNumberArray.length-2&&a.pageNumberArray.length>6)}}const E=function(){return{standalone:!0}},D=function(s){return{disabled:s}};function gt(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",18)(3,"div",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"div",23)(8,"h3"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",24)(12,"div",25)(13,"a",26),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.refresh())}),e._UZ(14,"img",27),e.qZA()()()()(),e._UZ(15,"div",28),e.qZA()(),e.TgZ(16,"div",29)(17,"form")(18,"div",3)(19,"div",30)(20,"div",31)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"input",32),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.searchDataPlayer=a)}),e.qZA()()(),e.TgZ(25,"div",30)(26,"div",31)(27,"label"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"mat-select",33),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.payment_status=a)}),e.ALo(31,"translate"),e.TgZ(32,"mat-option",34),e._uU(33,"..."),e.qZA(),e.TgZ(34,"mat-option",35),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"mat-option",36),e._uU(38),e.ALo(39,"translate"),e.qZA()()()(),e.TgZ(40,"div",30)(41,"div",31)(42,"label"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"mat-select",33),e.NdJ("ngModelChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.category_id=a)}),e.ALo(46,"translate"),e.YNc(47,it,2,2,"mat-option",37),e.qZA()()(),e.TgZ(48,"div",30)(49,"div",38)(50,"button",39),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.filter())}),e._uU(51),e.ALo(52,"translate"),e.qZA()()()()()(),e._UZ(53,"br"),e.TgZ(54,"div",40)(55,"table",41),e.NdJ("matSortChange",function(a){e.CHM(i);const n=e.oxw();return e.KtG(n.sortData(a))}),e.TgZ(56,"thead")(57,"tr")(58,"th",42),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"th",42),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"th",42),e._uU(65),e.ALo(66,"translate"),e.qZA()()(),e.TgZ(67,"tbody"),e.YNc(68,ot,7,5,"tr",43),e.qZA()(),e.TgZ(69,"div",44)(70,"div",45)(71,"div",46),e._uU(72),e.qZA()(),e.TgZ(73,"div",47)(74,"div",48)(75,"ul",49)(76,"li",50)(77,"a",51),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.getMoreData("previous"))}),e._uU(78,"Previous"),e.qZA()(),e.YNc(79,ct,6,6,"ng-container",43),e.TgZ(80,"li",50)(81,"a",52),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.getMoreData("next"))}),e._uU(82,"Next "),e.qZA()()()()()()()()()()()}if(2&s){const i=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,25,"tournaments.players")),e.xp6(13),e.hij("",e.lcZ(23,27,"tournaments.player_name")," "),e.xp6(2),e.Q6J("ngModel",i.searchDataPlayer),e.xp6(4),e.hij("",e.lcZ(29,29,"tournaments.payment_status")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(31,31,"tournaments.select_status")),e.Q6J("ngModel",i.payment_status)("ngModelOptions",e.DdM(49,E)),e.xp6(5),e.Oqu(e.lcZ(36,33,"tournaments.payment_pending")),e.xp6(3),e.Oqu(e.lcZ(39,35,"tournaments.payment_paid")),e.xp6(5),e.hij("",e.lcZ(44,37,"tournaments.category")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(46,39,"tournaments.select_category")),e.Q6J("ngModel",i.category_id)("ngModelOptions",e.DdM(50,E)),e.xp6(2),e.Q6J("ngForOf",i.categories_list),e.xp6(4),e.Oqu(e.lcZ(52,41,"tournaments.search")),e.xp6(8),e.Oqu(e.lcZ(60,43,"tournaments.name")),e.xp6(3),e.Oqu(e.lcZ(63,45,"tournaments.category")),e.xp6(3),e.Oqu(e.lcZ(66,47,"tournaments.status")),e.xp6(3),e.Q6J("ngForOf",i.playersList),e.xp6(4),e.lnq(" Showing ",i.serialNumberArray[0]," to ",i.serialNumberArray[i.serialNumberArray.length-1]," of ",i.totalData," entries "),e.xp6(4),e.Q6J("ngClass",e.VKq(51,D,1===i.currentPage)),e.xp6(3),e.Q6J("ngForOf",i.pageNumberArray),e.xp6(1),e.Q6J("ngClass",e.VKq(53,D,i.currentPage===i.pageNumberArray[i.pageNumberArray.length-1]||0===i.playersList.length))}}const ut=function(s){return["/leagues/list-league/edit",s,1]},dt=function(s){return["/leagues/list-league/edit",s,2]},pt=[{path:"",component:Y,children:[{path:"add-league",component:pe},{path:"list-league",component:Le},{path:"list-league/edit/:id",component:I},{path:"list-league/edit/:id/:tab",component:I},{path:"all-players/:id",component:(()=>{const r=class{constructor(t,a,n,o){this.tournamentSrv=t,this.activateRoute=a,this.translate=n,this.leagueSrv=o,this.routes=b._,this.tab_selected=1,this.id_league="",this.can_edit=!1,this.loaded=!1,this.translations=[],this.playersList=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.players_general=[],this.birthdayBeauty="",this.date="",this.searchDataPlayer="",this.payment_status="0",this.court_value="",this.courts_list=[],this.categories_list=[],this.date_start_tournament="",this.date_end_tournament="",this.category_id="",this.isLoaded=!1}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.hasPermission(),this.activateRoute.params.subscribe(t=>{t.id?(this.id_league=t.id,this.getTableData()):this.loaded=!0,t.tab&&(this.tab_selected=t.tab)})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","tournaments","club_translations","tournaments.tournaments_messages","tournaments.type_category"]).subscribe(t=>{this.translations=t})}hasPermission(t=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes(t))&&(this.can_edit=!0,!0)}tabSeleted(t){this.tab_selected=t}getTableDataGeneral(){let t=new g.uU("en-US");this.playersList=[],this.serialNumberArray=[],this.playersList.map((a,n)=>{const o=n+1;n>=this.skip&&o<=this.limit&&(this.playersList.push(a),a.birthday=t.transform(a.birthday,"dd/MM/yyyy"),this.serialNumberArray.push(o))}),this.dataSource=new A.by(this.playersList),this.calculateTotalPages(this.totalData,this.pageSize)}searchData(t){this.dataSource.filter=t.trim().toLowerCase(),this.playersList=this.dataSource.filteredData,this.totalData=this.playersList.length}sortData(t){const a=this.playersList.slice();this.playersList=t.active&&""!==t.direction?a.sort((n,o)=>(n[t.active]<o[t.active]?-1:1)*("asc"===t.direction?1:-1)):a}getMoreData(t){"next"==t?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableDataGeneral()):"previous"==t&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableDataGeneral())}moveToPage(t){this.currentPage=t,this.skip=this.pageSelection[t-1].skip,this.limit=this.pageSelection[t-1].limit,t>this.currentPage?this.pageIndex=t-1:t<this.currentPage&&(this.pageIndex=t+1),this.getTableData(this.currentPage)}refresh(){this.pageSelection=[],this.searchDataValue="",this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.searchDataPlayer="",this.payment_status="0",this.court_value="",this.date="",this.category_id="",this.getTableData(),this.isLoaded=!1}calculateTotalPages(t,a){this.pageNumberArray=[],this.totalPages=t/a,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(var n=1;n<=this.totalPages;n++){const o=a*n,_=o-a;this.pageNumberArray.push(n),this.pageSelection.push({skip:_,limit:o})}}filter(){this.searchDataPlayer=this.searchDataPlayer.trim().toLowerCase(),this.currentPage=1,this.getTableData(this.currentPage,this.searchDataPlayer,this.date,this.category_id)}getTableData(t=1,a="",n="",o=""){this.playersList=[],this.serialNumberArray=[];let h,_=new g.uU("en-US");this.date&&(h=_.transform(this.date,"yyyy-MM-dd")),this.leagueSrv.getAllPlayersLeague(this.id_league,t,a,this.payment_status,this.court_value,h,this.category_id).subscribe(x=>{this.totalData=x.total,this.playersList=x.players.data,this.categories_list=x.categories,this.dataSource=new A.by(this.playersList),this.calculateTotalPages(this.totalData,this.pageSize),this.isLoaded=!0})}paidTournament(t){this.leagueSrv.paidPlayerLeague(t).subscribe(a=>{if("200"==a.message){let n=this.playersList.findIndex(o=>o.id==t);-1!=n&&(this.playersList[n].paid_status="PAID")}})}unpaidTournament(t){this.leagueSrv.unpaidPlayerLeague(t).subscribe(a=>{if("200"==a.message){let n=this.playersList.findIndex(o=>o.id==t);-1!=n&&(this.playersList[n].paid_status="PENDING")}})}};let s=r;return r.\u0275fac=function(a){return new(a||r)(e.Y36(st.Z),e.Y36(u.gz),e.Y36(m.sK),e.Y36(y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-players"]],decls:30,vars:23,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link",3,"routerLink","click"],[1,"nav-item","active"],["href","#","onclick","return false;",1,"nav-link",3,"click"],["class","row",4,"ngIf"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"add-group"],[1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],[1,"staff-search-table"],[1,"col-12","col-md-6","col-xl-4"],[1,"form-group","local-forms"],["name","name_patient","id","name_patient","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["value","0"],["value","PENDING"],["value","PAID"],[3,"value",4,"ngFor","ngForOf"],[1,"doctor-submit"],["type","submit",1,"btn","btn-primary","submit-list-form","me-2",3,"click"],[1,"table-responsive","staff-search-table"],["matSort","",1,"table","mb-0","table-striped","my-4",3,"matSortChange"],[1,"color_2"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click"],["href","javascript:void(0);",1,"page-link",3,"click"],[3,"value"],[4,"ngIf"],[1,"dropdown","action-label"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-sm","btn-success","custom-badge","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-end","status-staff"],[1,"dropdown-item","cursor-pointer",3,"click"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"status-red","custom-badge","dropdown-toggle"],["class","page-item",3,"hidden","click",4,"ngIf"],[1,"page-item",3,"hidden","click"],["href","javascript:void(0);",1,"page-link"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"li",6),e._UZ(11,"i",8),e.qZA(),e.TgZ(12,"li",9),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()(),e.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"a",13),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"li",12)(22,"a",14),e.NdJ("click",function(){return n.tabSeleted(2)}),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"li",15)(26,"a",16),e.NdJ("click",function(){return n.tabSeleted(2)}),e._uU(27),e.ALo(28,"translate"),e.qZA()()()(),e.YNc(29,gt,83,55,"div",17),e.qZA()()),2&a&&(e.xp6(7),e.Q6J("routerLink",n.routes.leagueList),e.xp6(1),e.hij("",e.lcZ(9,9,"leagues.leagues")," "),e.xp6(5),e.Oqu(e.lcZ(14,11,"commun_translations.edit")),e.xp6(5),e.Q6J("routerLink",e.VKq(19,ut,n.id_league)),e.xp6(1),e.Oqu(e.lcZ(20,13,"leagues.tabs.general_data")),e.xp6(3),e.Q6J("routerLink",e.VKq(21,dt,n.id_league)),e.xp6(1),e.Oqu(e.lcZ(24,15,"leagues.categories")),e.xp6(4),e.Oqu(e.lcZ(28,17,"tournaments.payments")),e.xp6(2),e.Q6J("ngIf",1==n.isLoaded))},dependencies:[g.mk,g.sg,g.O5,u.rH,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,T.gD,Z.ey,L.YE,m.X$]}),s})()}]}];let ht=(()=>{const r=class{};let s=r;return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.Bz.forChild(pt),u.Bz]}),s})();var mt=c(25108);let ft=(()=>{const r=class{};let s=r;return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,ht,l.u5,l.UX,d.JF,u.Bz,mt.m]}),s})()}}]);