"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[6976],{6976:(Ae,w,_)=>{_.r(w),_.d(w,{LeagueModule:()=>Ze});var g=_(6895),u=_(27),t=_(4650);let E=(()=>{const r=class{};let a=r;return r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-league"]],decls:1,vars:0,template:function(s,n){1&s&&t._UZ(0,"router-outlet")},dependencies:[u.lC]}),a})();var y=_(6382),d=_(529),p=_(5862),F=_(866);let x=(()=>{const r=class{constructor(e,s){this.http=e,this.authSrv=s}listLeagues(e=1,s=""){let n=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(p.$g+"/leagues?page="+e+"&search="+s,{headers:n})}config(){let e=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(p.$g+"/leagues/config",{headers:e})}getLeague(e){let s=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(p.$g+"/leagues/"+e,{headers:s})}storeLeague(e){let s=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(p.$g+"/leagues",e,{headers:s})}editLeague(e,s){let n=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(p.$g+"/leagues/update/"+e,s,{headers:n})}deleteLeague(e){let s=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.delete(p.$g+"/leagues/"+e,{headers:s})}getAllPlayersLeague(e,s=1,n="",o="",c="",h=null,k=null){let Z=new d.WM({Authorization:"Bearer "+this.authSrv.token}),v="";return""!=n&&(v+="&player_name_search="+n),""!=o&&(v+="&status_match_id="+o),""!=c&&(v+="&court_id="+c),null!=h&&(v+="&date="+h),""!=k&&(v+="&category_id="+k),this.http.get(p.$g+"/leagues/get-all-players?league_id="+e+"&page="+s+v,{headers:Z})}paidPlayerLeague(e){let s=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(p.$g+"/leagues/paid-player-tournament/"+e,null,{headers:s})}unpaidPlayerLeague(e){let s=new d.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(p.$g+"/leagues/unpaid-player-tournament/"+e,null,{headers:s})}};let a=r;return r.\u0275fac=function(s){return new(s||r)(t.LFG(d.eN),t.LFG(F.e))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),a})();var M=_(5570),m=_(2466),l=_(4006),f=_(3125),J=_(9549),T=_(4385),b=_(3238);function j(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.tabSeleted(2))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"leagues.categories")))}function K(a,r){1&a&&(t.TgZ(0,"a",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"leagues.categories")))}const G=function(a){return["/leagues/all-players",a]};function H(a,r){if(1&a&&(t.TgZ(0,"a",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a){const i=t.oxw();t.Q6J("routerLink",t.VKq(4,G,i.id_league)),t.xp6(1),t.Oqu(t.lcZ(2,2,"tournaments.payments"))}}function z(a,r){1&a&&(t.TgZ(0,"a",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"tournaments.payments")))}function $(a,r){if(1&a&&(t.TgZ(0,"mat-option",50),t._uU(1),t.qZA()),2&a){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function V(a,r){if(1&a&&(t.TgZ(0,"mat-option",50),t._uU(1),t.qZA()),2&a){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}const U=function(){return{standalone:!0}};function B(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",28)(1,"div",25)(2,"label"),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"span",26),t._uU(6,"*"),t.qZA()(),t.TgZ(7,"mat-select",34),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw(2);return t.KtG(n.match_type_id=s)}),t.ALo(8,"translate"),t.YNc(9,V,2,2,"mat-option",35),t.qZA()()()}if(2&a){const i=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,5,"club_translations.type_match")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(8,7,"club_translations.select_type")),t.Q6J("ngModel",i.match_type_id)("ngModelOptions",t.DdM(9,U)),t.xp6(2),t.Q6J("ngForOf",i.match_types)}}function W(a,r){if(1&a&&(t.TgZ(0,"div",51),t._UZ(1,"img",52),t.qZA()),2&a){const i=t.oxw(2);t.xp6(1),t.Q6J("src",i.image_preview,t.LSH)}}function X(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",22)(1,"div",53)(2,"button",54),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.save())}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"commun_translations.save")))}function R(a,r){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const i=r.$implicit;t.xp6(1),t.Oqu(i)}}function tt(a,r){if(1&a&&(t.TgZ(0,"ul"),t.YNc(1,R,2,1,"li",60),t.qZA()),2&a){const i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.message_errors)}}function et(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",55)(1,"div",56)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",57),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.cleanMessage())}),t._UZ(7,"span",58),t.qZA(),t.YNc(8,tt,2,1,"ul",59),t.qZA()()}if(2&a){const i=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,3,"commun_translations.error")," "),t.xp6(2),t.hij(" ",i.error_message," "),t.xp6(3),t.Q6J("ngIf",i.message_errors.length>0)}}function at(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",55)(1,"div",61)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",57),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.cleanMessage())}),t._UZ(7,"span",58),t.qZA()()()}if(2&a){const i=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,2,"commun_translations.success")," "),t.xp6(2),t.hij(" ",i.success_message," ")}}function st(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",20)(3,"div",21)(4,"form")(5,"div",3)(6,"div",22)(7,"div",23)(8,"h4"),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",24)(12,"div",25)(13,"label"),t._uU(14),t.ALo(15,"translate"),t.TgZ(16,"span",26),t._uU(17,"*"),t.qZA()(),t.TgZ(18,"input",27),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.name=s)}),t.qZA()()(),t.TgZ(19,"div",28)(20,"div",25)(21,"label"),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"span",26),t._uU(25,"*"),t.qZA()(),t.TgZ(26,"input",29),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.date_start=s)}),t.qZA(),t._UZ(27,"mat-datepicker",null,30)(29,"mat-datepicker-toggle",31),t.qZA()(),t.TgZ(30,"div",32)(31,"div",25)(32,"label"),t._uU(33),t.ALo(34,"translate"),t.TgZ(35,"span",26),t._uU(36,"*"),t.qZA()(),t.TgZ(37,"input",33),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.price=s)}),t.qZA()()(),t.TgZ(38,"div",28)(39,"div",25)(40,"label"),t._uU(41),t.ALo(42,"translate"),t.TgZ(43,"span",26),t._uU(44,"*"),t.qZA()(),t.TgZ(45,"mat-select",34),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.type_sport=s)}),t.ALo(46,"translate"),t.YNc(47,$,2,2,"mat-option",35),t.qZA()()(),t.YNc(48,B,10,10,"div",36),t.TgZ(49,"div",22)(50,"div",23)(51,"h4"),t._uU(52),t.ALo(53,"translate"),t.qZA()()(),t.TgZ(54,"div",32)(55,"div",25)(56,"label"),t._uU(57),t.ALo(58,"translate"),t.TgZ(59,"span",26),t._uU(60,"*"),t.qZA()(),t.TgZ(61,"input",37),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.points_per_win_2_0=s)}),t.qZA()()(),t.TgZ(62,"div",32)(63,"div",25)(64,"label"),t._uU(65),t.ALo(66,"translate"),t.TgZ(67,"span",26),t._uU(68,"*"),t.qZA()(),t.TgZ(69,"input",38),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.points_per_lost_0_2=s)}),t.qZA()()(),t.TgZ(70,"div",32)(71,"div",25)(72,"label"),t._uU(73),t.ALo(74,"translate"),t.TgZ(75,"span",26),t._uU(76,"*"),t.qZA()(),t.TgZ(77,"input",39),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.points_per_win_2_1=s)}),t.qZA()()(),t.TgZ(78,"div",32)(79,"div",25)(80,"label"),t._uU(81),t.ALo(82,"translate"),t.TgZ(83,"span",26),t._uU(84,"*"),t.qZA()(),t.TgZ(85,"input",40),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.points_per_lost_1_2=s)}),t.qZA()()(),t.TgZ(86,"div",41)(87,"div",42)(88,"label",43),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.TgZ(91,"div",44)(92,"input",45),t.NdJ("change",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.loadFile(s))}),t.qZA(),t.TgZ(93,"label",46),t._uU(94),t.ALo(95,"translate"),t.qZA()()()(),t.YNc(96,W,2,1,"div",47),t.qZA(),t.TgZ(97,"div",3),t.YNc(98,X,5,3,"div",48),t.YNc(99,et,9,5,"div",49),t.YNc(100,at,8,4,"div",49),t.qZA()()()()()()}if(2&a){const i=t.MAs(28),e=t.oxw();t.xp6(9),t.Oqu(t.lcZ(10,30,"leagues.data")),t.xp6(5),t.Oqu(t.lcZ(15,32,"leagues.league_name")),t.xp6(4),t.Q6J("ngModel",e.name),t.xp6(4),t.hij("",t.lcZ(23,34,"leagues.day_start")," "),t.xp6(4),t.Q6J("ngModel",e.date_start)("matDatepicker",i),t.xp6(3),t.Q6J("for",i),t.xp6(4),t.Oqu(t.lcZ(34,36,"tournaments.price")),t.xp6(4),t.Q6J("ngModel",e.price),t.xp6(4),t.hij("",t.lcZ(42,38,"club_translations.sport")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(46,40,"club_translations.select_sport_type")),t.Q6J("ngModel",e.type_sport)("ngModelOptions",t.DdM(56,U)),t.xp6(2),t.Q6J("ngForOf",e.kind_sport),t.xp6(1),t.Q6J("ngIf","2"==e.type_sport),t.xp6(4),t.Oqu(t.lcZ(53,42,"club_translations.points")),t.xp6(5),t.hij("",t.lcZ(58,44,"leagues.points_for_winning")," 2-0"),t.xp6(4),t.Q6J("ngModel",e.points_per_win_2_0),t.xp6(4),t.hij("",t.lcZ(66,46,"leagues.points_set_winning_loser")," 0-2"),t.xp6(4),t.Q6J("ngModel",e.points_per_lost_0_2),t.xp6(4),t.hij("",t.lcZ(74,48,"leagues.points_for_winning")," 2-1"),t.xp6(4),t.Q6J("ngModel",e.points_per_win_2_1),t.xp6(4),t.hij("",t.lcZ(82,50,"leagues.points_set_winning_loser")," 1-2"),t.xp6(4),t.Q6J("ngModel",e.points_per_lost_1_2),t.xp6(4),t.hij("",t.lcZ(90,52,"leagues.logo")," "),t.xp6(5),t.Oqu(t.lcZ(95,54,"leagues.form_select_img")),t.xp6(2),t.Q6J("ngIf",e.image_preview),t.xp6(2),t.Q6J("ngIf",""==e.league_inserted_id),t.xp6(1),t.Q6J("ngIf",""!=e.error_message),t.xp6(1),t.Q6J("ngIf",""!=e.success_message)}}function it(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",70)(1,"div",71)(2,"div",72)(3,"div",25)(4,"label"),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"span",26),t._uU(8,"*"),t.qZA()(),t.TgZ(9,"input",73),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw(3);return t.KtG(n.name_category=s)}),t.qZA()()(),t.TgZ(10,"div",74)(11,"a",75),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(3);return t.KtG(s.addCategory())}),t._UZ(12,"i",76),t.qZA()()()()}if(2&a){const i=t.oxw(3);t.xp6(5),t.hij("",t.lcZ(6,2,"leagues.name")," "),t.xp6(4),t.Q6J("ngModel",i.name_category)}}function nt(a,r){1&a&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commun_translations.remove")))}function rt(a,r){1&a&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"leagues.setting")))}function ot(a,r){1&a&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commun_translations.view")))}function lt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"td")(1,"a",78),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(),n=s.index,o=s.$implicit,c=t.oxw(3);return t.KtG(c.deleteCategory(n,o))}),t._UZ(2,"i",79),t.qZA()()}}const N=function(a){return["/category/data",a,1]};function _t(a,r){if(1&a&&(t.TgZ(0,"td")(1,"a",80),t._UZ(2,"img",81),t.qZA()()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,N,i.id))}}function ct(a,r){if(1&a&&(t.TgZ(0,"td")(1,"a",80),t._UZ(2,"img",81),t.qZA()()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,N,i.id))}}function gt(a,r){if(1&a&&(t.ynx(0),t.TgZ(1,"tr",77)(2,"td"),t._uU(3),t.qZA(),t.YNc(4,lt,3,0,"td",59),t.YNc(5,_t,3,3,"td",59),t.YNc(6,ct,3,3,"td",59),t.qZA(),t.BQk()),2&a){const i=r.$implicit,e=t.oxw(3);t.xp6(3),t.hij(" ",i.name," "),t.xp6(1),t.Q6J("ngIf",1==e.can_edit),t.xp6(1),t.Q6J("ngIf",1==e.can_edit),t.xp6(1),t.Q6J("ngIf",0==e.can_edit)}}function ut(a,r){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const i=r.$implicit;t.xp6(1),t.Oqu(i)}}function dt(a,r){if(1&a&&(t.TgZ(0,"ul"),t.YNc(1,ut,2,1,"li",60),t.qZA()),2&a){const i=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",i.message_errors_category)}}function pt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",55)(1,"div",56)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",57),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(3);return t.KtG(s.cleanMessage())}),t._UZ(7,"span",58),t.qZA(),t.YNc(8,dt,2,1,"ul",59),t.qZA()()}if(2&a){const i=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,3,"commun_translations.error")),t.xp6(2),t.hij(" ",i.error_message_category," "),t.xp6(3),t.Q6J("ngIf",i.message_errors_category.length>0)}}function ht(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",55)(1,"div",61)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",57),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(3);return t.KtG(s.cleanMessage())}),t._UZ(7,"span",58),t.qZA()()()}if(2&a){const i=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,2,"commun_translations.success")),t.xp6(2),t.hij(" ",i.success_message_category," ")}}function mt(a,r){if(1&a&&(t.ynx(0),t.TgZ(1,"div",62)(2,"div",63)(3,"h5",64),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"form")(7,"div",65),t.YNc(8,it,13,4,"div",66),t.TgZ(9,"div",67)(10,"div",68)(11,"table",69)(12,"thead")(13,"tr")(14,"th"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.YNc(17,nt,3,3,"th",59),t.YNc(18,rt,3,3,"th",59),t.YNc(19,ot,3,3,"th",59),t.qZA()(),t.TgZ(20,"tbody"),t.YNc(21,gt,7,4,"ng-container",60),t.qZA()()()()()()(),t.TgZ(22,"div",3),t.YNc(23,pt,9,5,"div",49),t.YNc(24,ht,8,4,"div",49),t.qZA(),t.BQk()),2&a){const i=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,9,"leagues.categories")),t.xp6(4),t.Q6J("ngIf",i.hasPermission("edit_league")),t.xp6(7),t.Oqu(t.lcZ(16,11,"leagues.categories")),t.xp6(2),t.Q6J("ngIf",1==i.can_edit),t.xp6(1),t.Q6J("ngIf",1==i.can_edit),t.xp6(1),t.Q6J("ngIf",0==i.can_edit),t.xp6(2),t.Q6J("ngForOf",i.categories_list),t.xp6(2),t.Q6J("ngIf",""!=i.error_message_category),t.xp6(1),t.Q6J("ngIf",""!=i.success_message_category)}}function ft(a,r){if(1&a&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",20)(3,"div",21)(4,"form"),t.YNc(5,mt,25,13,"ng-container",59),t.qZA()()()()()),2&a){const i=t.oxw();t.xp6(5),t.Q6J("ngIf",""!=i.league_inserted_id)}}const C=function(a){return{active:a}};let vt=(()=>{const r=class{constructor(e,s,n){this.leagueSrv=e,this.categorySrv=s,this.translate=n,this.routes=y._,this.name="",this.date_start="",this.points_per_win_2_0=0,this.points_per_win_2_1=0,this.points_per_lost_0_2=0,this.points_per_lost_1_2=0,this.image_preview="assets/img/user-06.jpg",this.league_inserted_id="",this.success_message="",this.error_message="",this.message_errors=[],this.message_errors_category=[],this.can_edit=!1,this.name_category="",this.description_category="",this.categories_list=[],this.error_message_category="",this.success_message_category="",this.translations=[],this.type_sport="0",this.price=0,this.courts=[],this.hasPadelCourts=!1,this.hasTennisCourts=!1,this.hasPickleballCourts=!1,this.hasSquashCourts=!1,this.hasBadmintonCourts=!1,this.kind_sport=[],this.match_types=[],this.match_type_id="0",this.tab_selected=1,this.id_league=0}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.leagueSrv.config().subscribe(e=>{this.courts=e.courts,this.typeOfCourtsClub(),this.typeMatch()})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","leagues","leagues.leagues_messages","club_translations"]).subscribe(e=>{this.translations=e})}hasPermission(e=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes(e))&&(this.can_edit=!0,!0)}loadFile(e){if(e.target.files[0].type.indexOf("image")<0)return alert(this.translations.commun_translations.only_type_img),void(this.image_preview=this.image_preview?this.image_preview:"assets/img/user-06.jpg");if(e.target.files[0].size>2e6)return alert(this.translations.commun_translations.max_size_img),void(this.fileAvatar="");this.fileAvatar=e.target.files[0];let s=new FileReader;s.readAsDataURL(this.fileAvatar),s.onloadend=()=>this.image_preview=s.result}cleanMessage(){this.error_message="",this.success_message="",this.error_message_category="",this.success_message_category=""}save(){if(""==this.name)return void(this.error_message=this.translations["leagues.leagues_messages"].error_1);if("0"==this.type_sport)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_13);if("2"==this.type_sport&&"0"==this.match_type_id)return void(this.error_message=this.translations["leagues.leagues_messages"].error_11);if(this.name&&this.name.length>191)return void(this.error_message=this.translations["leagues.leagues_messages"].error_2);if(""==this.date_start)return void(this.error_message=this.translations["leagues.leagues_messages"].error_3);if("number"!=typeof+this.points_per_win_2_0)return void(this.error_message=this.translations["leagues.leagues_messages"].error_4);if("number"!=typeof+this.points_per_win_2_1)return void(this.error_message=this.translations["leagues.leagues_messages"].error_8);if("number"!=typeof+this.points_per_lost_0_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_9);if("number"!=typeof+this.points_per_lost_1_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_10);let e=new FormData;e.append("name",this.name),e.append("sport_type",this.type_sport),e.append("points_per_win_2_0",this.points_per_win_2_0.toString()),e.append("points_per_win_2_1",this.points_per_win_2_1.toString()),e.append("points_per_lost_0_2",this.points_per_lost_0_2.toString()),e.append("points_per_lost_1_2",this.points_per_lost_1_2.toString()),e.append("start_date",this.date_start),e.append("imagen",this.fileAvatar),e.append("price",this.price.toString()),"1"==this.match_type_id&&e.append("match_type","double"),"2"==this.match_type_id&&e.append("match_type","singles"),this.leagueSrv.storeLeague(e).subscribe(s=>{200==s.message?(this.league_inserted_id=s.id_league,this.id_league=s.id_league,this.success_message=this.translations.commun_translations.data_save_correctly):403==s.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=s.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}addCategory(){if(this.cleanMessage(),!this.name_category)return void(this.error_message=this.translations["leagues.leagues_messages"].error_6);let e={id:null,name:this.name_category,description:this.description_category,league_id:this.league_inserted_id};this.categorySrv.storeCategory(e).subscribe(s=>{200==s.message?(e.id=s.category_id,this.categories_list.push(e),this.name_category="",this.description_category="",this.success_message_category=this.translations.commun_translations.data_save_correctly):422==s.message?(this.error_message_category=this.translations.commun_translations.data_save_error,this.message_errors_category=s.errors_text):this.error_message_category=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}deleteCategory(e,s){this.cleanMessage(),this.categorySrv.deleteCategory(s.id).subscribe(n=>{200==n.message?(this.categories_list.splice(e,1),this.name_category="",this.description_category="",this.success_message_category=this.translations["leagues.leagues_messages"].success_delete):this.success_message_category=this.translations.commun_translations.data_delete_error})}typeMatch(){this.match_types.push({id:0,name:"..."},{id:1,name:this.translations.club_translations.match_type_double},{id:2,name:this.translations.club_translations.match_type_single})}typeOfCourtsClub(){this.kind_sport.push({id:0,name:"..."}),this.courts.some(e=>{1==e.sport_type&&(this.hasPadelCourts=!0),2==e.sport_type&&(this.hasTennisCourts=!0),3==e.sport_type&&(this.hasPickleballCourts=!0),4==e.sport_type&&(this.hasSquashCourts=!0),5==e.sport_type&&(this.hasBadmintonCourts=!0)}),this.hasPadelCourts&&this.kind_sport.push({id:1,name:this.translations.club_translations.sport_1}),this.hasTennisCourts&&this.kind_sport.push({id:2,name:this.translations.club_translations.sport_2}),this.hasPickleballCourts&&this.kind_sport.push({id:3,name:this.translations.club_translations.sport_3}),this.hasSquashCourts&&this.kind_sport.push({id:4,name:this.translations.club_translations.sport_4}),this.hasBadmintonCourts&&this.kind_sport.push({id:5,name:this.translations.club_translations.sport_5})}tabSeleted(e){this.tab_selected=e}};let a=r;return r.\u0275fac=function(s){return new(s||r)(t.Y36(x),t.Y36(M.H),t.Y36(m.sK))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-add-league"]],decls:29,vars:25,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item",3,"ngClass"],["href","#","onclick","return false;",1,"nav-link",3,"click"],["href","#","onclick","return false;","class","nav-link",3,"click",4,"ngIf"],["class","nav-link nav-link-disabled",4,"ngIf"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","row",4,"ngIf"],[1,"nav-link","nav-link-disabled"],[1,"nav-link",3,"routerLink"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-5","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-4","col-xl-4"],["name","date_start","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"ngModel","matDatepicker","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],[1,"col-12","col-md-3","col-xl-3"],["name","price","type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 col-md-4 col-xl-4",4,"ngIf"],["name","points_per_win_2_0","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_0_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_win_2_1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_1_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],["type","file","accept","image/*","name","image","id","file",1,"hide-input",3,"change"],["for","file",1,"upload"],["class","",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[3,"value"],[1,""],["alt","","width","150px","height","150px",3,"src"],[1,"doctor-submit","text-end"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngIf"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"row","my-4"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"row","col-12"],["class","col-6",4,"ngIf"],[1,"col-6","settings-form"],[1,"table-responsive"],[1,"table","mb-0"],[1,"col-6"],[1,"row","settings-form"],[1,"col-9"],["name","name_category","type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-2"],["href","javascript:void(0);",1,"btn","trash",3,"click"],[1,"fa","fa-plus","me-1"],[1,"align-items-center"],["href","javascript:void(0);",1,"btn","trash","trash-style",3,"click"],[1,"feather","icon-trash-2","service"],["href","#",1,"btn","trash","trash-style",3,"routerLink"],["src","assets/img/icons/menu-icon-16.svg","alt",""]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"li",6),t._UZ(11,"i",8),t.qZA(),t.TgZ(12,"li",9),t._uU(13),t.ALo(14,"translate"),t.qZA()()()()(),t.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"a",13),t.NdJ("click",function(){return n.tabSeleted(1)}),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"li",12),t.YNc(22,j,3,3,"a",14),t.YNc(23,K,3,3,"a",15),t.qZA(),t.TgZ(24,"li",12),t.YNc(25,H,3,6,"a",16),t.YNc(26,z,3,3,"a",15),t.qZA()()(),t.YNc(27,st,101,57,"div",17),t.YNc(28,ft,6,1,"div",17),t.qZA()()),2&s&&(t.xp6(7),t.Q6J("routerLink",n.routes.leagueList),t.xp6(1),t.hij("",t.lcZ(9,13,"leagues.leagues")," "),t.xp6(5),t.Oqu(t.lcZ(14,15,"commun_translations.add")),t.xp6(4),t.Q6J("ngClass",t.VKq(19,C,1==n.tab_selected)),t.xp6(2),t.Oqu(t.lcZ(20,17,"leagues.tabs.general_data")),t.xp6(2),t.Q6J("ngClass",t.VKq(21,C,2==n.tab_selected)),t.xp6(1),t.Q6J("ngIf",0!=n.id_league),t.xp6(1),t.Q6J("ngIf",0==n.id_league),t.xp6(1),t.Q6J("ngClass",t.VKq(23,C,3==n.tab_selected)),t.xp6(1),t.Q6J("ngIf",0!=n.id_league),t.xp6(1),t.Q6J("ngIf",0==n.id_league),t.xp6(1),t.Q6J("ngIf",1==n.tab_selected),t.xp6(1),t.Q6J("ngIf",2==n.tab_selected))},dependencies:[g.mk,g.sg,g.O5,u.rH,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.F,f.Mq,f.hl,f.nW,J.R9,T.gD,b.ey,m.X$],styles:[".nav-link-disabled[_ngcontent-%COMP%]{background-color:gray!important;cursor:no-drop}"]}),a})();var A=_(671),Zt=_(7945),L=_(6308);const xt=["closebutton"],Q=function(a){return["edit",a]};function At(a,r){if(1&a&&(t.TgZ(0,"a",67),t._UZ(1,"i",68),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&a){const i=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(4,Q,i.id)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"commun_translations.view"),"")}}function yt(a,r){if(1&a&&(t.TgZ(0,"a",67),t._UZ(1,"i",69),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&a){const i=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(4,Q,i.id)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"commun_translations.edit"),"")}}function Tt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"a",70),t.NdJ("click",function(){t.CHM(i);const s=t.oxw().$implicit,n=t.oxw();return t.KtG(n.selectLeague(s))}),t._UZ(1,"i",71),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"commun_translations.remove"),""))}const bt=function(a,r){return{"status-green":a,"status-pink":r}};function Ct(a,r){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",59),t._uU(9),t.qZA()(),t.TgZ(10,"td",60)(11,"div",61)(12,"a",62),t._UZ(13,"i",63),t.qZA(),t.TgZ(14,"div",64),t.YNc(15,At,4,6,"a",65),t.YNc(16,yt,4,6,"a",65),t.YNc(17,Tt,4,3,"a",66),t.qZA()()()()),2&a){const i=r.$implicit,e=t.oxw();t.xp6(2),t.Oqu(i.name),t.xp6(2),t.Oqu(e.kind_sport[i.sport_type].name),t.xp6(2),t.Oqu(i.start_date),t.xp6(2),t.Q6J("ngClass",t.WLB(8,bt,0==i.match_finished,i.match_finished>0)),t.xp6(1),t.Oqu(i.status),t.xp6(6),t.Q6J("ngIf",0==e.hasPermission("edit_league")&&e.hasPermission("list_league")),t.xp6(1),t.Q6J("ngIf",e.hasPermission("edit_league")),t.xp6(1),t.Q6J("ngIf",e.hasPermission("delete_league"))}}function Lt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"li",73),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.moveToPage(s.currentPage-2))}),t.TgZ(1,"a",74),t._uU(2," ... "),t.qZA()()}if(2&a){const i=t.oxw(2);t.Q6J("hidden",1===i.currentPage)}}function qt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"li",73),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.moveToPage(s.currentPage+2))}),t.TgZ(1,"a",74),t._uU(2," ... "),t.qZA()()}if(2&a){const i=t.oxw(2);t.Q6J("hidden",i.currentPage>=i.pageNumberArray[i.pageNumberArray.length-2]||i.totalData<i.serialNumberArray[i.serialNumberArray.length-1])}}function kt(a,r){if(1&a){const i=t.EpF();t.ynx(0),t.TgZ(1,"li",46)(2,"a",48),t.NdJ("click",function(){const n=t.CHM(i).$implicit,o=t.oxw();return t.KtG(o.moveToPage(n))}),t._uU(3),t.qZA()(),t.YNc(4,Lt,3,1,"li",72),t.YNc(5,qt,3,1,"li",72),t.BQk()}if(2&a){const i=r.$implicit,e=r.index,s=t.oxw();t.xp6(1),t.ekj("active",i===s.currentPage),t.Q6J("ngClass",s.pageNumberArray[s.currentPage-2]>i&&1!==i&&s.pageNumberArray.length>6||s.pageNumberArray[s.currentPage]<i&&1!==i&&s.pageNumberArray.length>6&&s.pageNumberArray.length!==i?"hide-page-no":"show-page-no"),t.xp6(2),t.hij(" ",i," "),t.xp6(1),t.Q6J("ngIf",0===e&&s.pageNumberArray.length>6&&s.currentPage>2),t.xp6(1),t.Q6J("ngIf",e===s.pageNumberArray.length-2&&s.pageNumberArray.length>6)}}function wt(a,r){if(1&a&&(t.TgZ(0,"h3"),t._uU(1),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.hij("Est\xe1s seguro de borrar esta liga: ",i.league_selected.name,"?")}}const P=function(a){return{disabled:a}};let Mt=(()=>{const r=class{constructor(e,s,n){this.data=e,this.leagueSrv=s,this.translate=n,this.leaguesList=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.leagues_general=[],this.statusText="",this.kind_sport=[],this.type_sport="0",this.translations=[]}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.getTableData()}getTableData(e=1,s=""){this.leaguesList=[],this.serialNumberArray=[],this.leagueSrv.listLeagues(e,this.searchDataValue).subscribe(n=>{this.totalData=n.total,this.leaguesList=n.leagues,this.getTextStatus(n.match_finished,n.match_pending),this.dataSource=new A.by(this.leaguesList),this.calculateTotalPages(this.totalData,this.pageSize)})}getTextStatus(e,s){this.leaguesList.forEach(n=>{1==n.preregistrations?n.status=this.translations.leagues.preregistrations:0==n.match_finished&&0==n.match_pending?n.status=this.translations.leagues.open:0==n.match_pending&&n.match_finished>0?n.status=this.translations.leagues.finished:n.match_pending>0&&(n.status=this.translations.leagues.in_play)})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","leagues","club_translations"]).subscribe(e=>{this.translations=e,this.getTypeSports()})}hasPermission(e=""){return!(!this.user.role.includes("Super-Admin")&&!this.user.permissions.includes(e))}getTableDataGeneral(){new g.uU("en-US"),this.leaguesList=[],this.serialNumberArray=[],this.leagues_general.map((s,n)=>{const o=n+1;n>=this.skip&&o<=this.limit&&(this.leaguesList.push(s),this.serialNumberArray.push(o))}),this.dataSource=new A.by(this.leaguesList),this.calculateTotalPages(this.totalData,this.pageSize)}searchData(e){this.dataSource.filter=e.trim().toLowerCase(),this.getTableData(this.currentPage,this.searchDataValue)}sortData(e){const s=this.leaguesList.slice();this.leaguesList=e.active&&""!==e.direction?s.sort((n,o)=>(n[e.active]<o[e.active]?-1:1)*("asc"===e.direction?1:-1)):s}getMoreData(e){"next"==e?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData(this.currentPage)):"previous"==e&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData(this.currentPage))}moveToPage(e){this.currentPage=e,this.skip=this.pageSelection[e-1].skip,this.limit=this.pageSelection[e-1].limit,e>this.currentPage?this.pageIndex=e-1:e<this.currentPage&&(this.pageIndex=e+1),this.getTableData(this.currentPage)}refresh(){this.pageSelection=[],this.searchDataValue="",this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableData()}calculateTotalPages(e,s){this.pageNumberArray=[],this.totalPages=e/s,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(var n=1;n<=this.totalPages;n++){const o=s*n,c=o-s;this.pageNumberArray.push(n),this.pageSelection.push({skip:c,limit:o})}}selectLeague(e){this.league_selected=e}removeLeague(){this.leagueSrv.deleteLeague(this.league_selected.id).subscribe(e=>{if(200==e.message){let s=this.leaguesList.findIndex(n=>n.id==this.league_selected.id);-1!=s&&(this.leaguesList.splice(s,1),this.closebutton.nativeElement.click(),this.league_selected=null)}else console.log(e)})}getTypeSports(){this.kind_sport.push({id:0,name:"..."},{id:1,name:this.translations.club_translations.sport_1},{id:2,name:this.translations.club_translations.sport_2},{id:3,name:this.translations.club_translations.sport_3},{id:4,name:this.translations.club_translations.sport_4},{id:5,name:this.translations.club_translations.sport_5})}};let a=r;return r.\u0275fac=function(s){return new(s||r)(t.Y36(Zt.D),t.Y36(x),t.Y36(m.sK))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-list-league"]],viewQuery:function(s,n){if(1&s&&t.Gf(xt,5),2&s){let o;t.iGM(o=t.CRH())&&(n.closebutton=o.first)}},decls:90,vars:34,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],["placeholder","Search here",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"add-group"],["routerLink","/leagues/add-league","routerLinkActive","router-link-active",1,"btn","btn-primary","add-pluss","ms-2"],["src","assets/img/icons/plus.svg","alt",""],["href","javascript:;",1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],["href","javascript:;",1,"me-2"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["src","assets/img/icons/pdf-icon-02.svg","alt",""],["src","assets/img/icons/pdf-icon-03.svg","alt",""],["href","javascript:;"],["src","assets/img/icons/pdf-icon-04.svg","alt",""],[1,"table-responsive"],["matSort","",1,"table","border-0","custom-table","comman-table","datatable","mb-0",3,"matSortChange"],["mat-sort-header","name"],["mat-sort-header","type_sportt"],["mat-sort-header","joining_date"],["mat-sort-header","status"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click"],["href","javascript:void(0);",1,"page-link",3,"click"],["id","delete_staff_modal","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"custom-badge",3,"ngClass"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],["class","dropdown-item","href","#",3,"routerLink",4,"ngIf"],["class","dropdown-item","href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_staff_modal",3,"click",4,"ngIf"],["href","#",1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-eye","m-r-5"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_staff_modal",1,"dropdown-item",3,"click"],[1,"fa","fa-trash-alt","m-r-5"],["class","page-item",3,"hidden","click",4,"ngIf"],[1,"page-item",3,"hidden","click"],["href","javascript:void(0);",1,"page-link"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"li",6),t._UZ(11,"i",8),t.qZA(),t.TgZ(12,"li",9),t._uU(13),t.ALo(14,"translate"),t.qZA()()()()(),t.TgZ(15,"div",3)(16,"div",4)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",15)(23,"h3"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",16)(27,"div",17)(28,"input",18),t.NdJ("ngModelChange",function(c){return n.searchDataValue=c})("ngModelChange",function(){return n.searchData(n.searchDataValue)}),t.qZA(),t.TgZ(29,"a",19),t._UZ(30,"img",20),t.qZA()(),t.TgZ(31,"div",21)(32,"a",22),t._UZ(33,"img",23),t.qZA(),t.TgZ(34,"a",24),t.NdJ("click",function(){return n.refresh()}),t._UZ(35,"img",25),t.qZA()()()()(),t.TgZ(36,"div",26)(37,"a",27),t._UZ(38,"img",28),t.qZA(),t.TgZ(39,"a",27),t._UZ(40,"img",29),t.qZA(),t.TgZ(41,"a",27),t._UZ(42,"img",30),t.qZA(),t.TgZ(43,"a",31),t._UZ(44,"img",32),t.qZA()()()(),t.TgZ(45,"div",33)(46,"table",34),t.NdJ("matSortChange",function(c){return n.sortData(c)}),t.TgZ(47,"thead")(48,"tr")(49,"th",35),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"th",36),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"th",37),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"th",38),t._uU(59),t.ALo(60,"translate"),t.qZA(),t._UZ(61,"th"),t.qZA()(),t.TgZ(62,"tbody"),t.YNc(63,Ct,18,11,"tr",39),t.qZA()(),t.TgZ(64,"div",40)(65,"div",41)(66,"div",42),t._uU(67),t.qZA()(),t.TgZ(68,"div",43)(69,"div",44)(70,"ul",45)(71,"li",46)(72,"a",47),t.NdJ("click",function(){return n.getMoreData("previous")}),t._uU(73,"Previous"),t.qZA()(),t.YNc(74,kt,6,6,"ng-container",39),t.TgZ(75,"li",46)(76,"a",48),t.NdJ("click",function(){return n.getMoreData("next")}),t._uU(77,"Next "),t.qZA()()()()()()()()()()()()(),t.TgZ(78,"div",49)(79,"div",50)(80,"div",51)(81,"div",52),t._UZ(82,"img",53),t.YNc(83,wt,2,1,"h3",54),t.TgZ(84,"div",55)(85,"a",56,57),t._uU(87,"Cerrar"),t.qZA(),t.TgZ(88,"button",58),t.NdJ("click",function(){return n.removeLeague()}),t._uU(89,"Borrar"),t.qZA()()()()()()),2&s&&(t.xp6(8),t.hij("",t.lcZ(9,16,"leagues.league")," "),t.xp6(5),t.Oqu(t.lcZ(14,18,"commun_translations.list")),t.xp6(11),t.Oqu(t.lcZ(25,20,"leagues.league_list")),t.xp6(4),t.Q6J("ngModel",n.searchDataValue),t.xp6(22),t.Oqu(t.lcZ(51,22,"leagues.name")),t.xp6(3),t.Oqu(t.lcZ(54,24,"club_translations.sport")),t.xp6(3),t.Oqu(t.lcZ(57,26,"leagues.day_start")),t.xp6(3),t.Oqu(t.lcZ(60,28,"leagues.status")),t.xp6(4),t.Q6J("ngForOf",n.leaguesList),t.xp6(4),t.lnq(" Showing ",n.serialNumberArray[0]," to ",n.serialNumberArray[n.serialNumberArray.length-1]," of ",n.totalData," entries "),t.xp6(4),t.Q6J("ngClass",t.VKq(30,P,1===n.currentPage)),t.xp6(3),t.Q6J("ngForOf",n.pageNumberArray),t.xp6(1),t.Q6J("ngClass",t.VKq(32,P,n.currentPage===n.pageNumberArray[n.pageNumberArray.length-1]||0===n.leaguesList.length)),t.xp6(8),t.Q6J("ngIf",n.league_selected))},dependencies:[g.mk,g.sg,g.O5,u.rH,u.Od,l.Fj,l.JJ,l.On,L.YE,L.nU,m.X$]}),a})();function Jt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.tabSeleted(2))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"leagues.categories")))}function Ut(a,r){1&a&&(t.TgZ(0,"a",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"leagues.categories")))}const Nt=function(a){return["/leagues/all-players",a]};function Qt(a,r){if(1&a&&(t.TgZ(0,"a",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a){const i=t.oxw();t.Q6J("routerLink",t.VKq(4,Nt,i.id_league)),t.xp6(1),t.Oqu(t.lcZ(2,2,"tournaments.payments"))}}function Pt(a,r){1&a&&(t.TgZ(0,"a",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"tournaments.payments")))}function St(a,r){if(1&a&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&a){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function It(a,r){if(1&a&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&a){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}const S=function(){return{standalone:!0}};function Ot(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"label"),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"span",26),t._uU(6,"*"),t.qZA()(),t.TgZ(7,"mat-select",33),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw(2);return t.KtG(n.match_type_id=s)}),t.ALo(8,"translate"),t.YNc(9,It,2,2,"mat-option",34),t.qZA()()()}if(2&a){const i=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,5,"club_translations.type_match")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(8,7,"club_translations.select_type")),t.Q6J("ngModel",i.match_type_id)("ngModelOptions",t.DdM(9,S)),t.xp6(2),t.Q6J("ngForOf",i.match_types)}}function Yt(a,r){if(1&a&&(t.TgZ(0,"div",52),t._UZ(1,"img",53),t.qZA()),2&a){const i=t.oxw(2);t.xp6(1),t.Q6J("src",i.image_preview,t.LSH)}}function Dt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.save())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commun_translations.save")))}function Et(a,r){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const i=r.$implicit;t.xp6(1),t.Oqu(i)}}function Ft(a,r){if(1&a&&(t.TgZ(0,"ul"),t.YNc(1,Et,2,1,"li",60),t.qZA()),2&a){const i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.message_errors)}}function jt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",55)(1,"div",56)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",57),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.cleanMessage())}),t._UZ(7,"span",58),t.qZA(),t.YNc(8,Ft,2,1,"ul",59),t.qZA()()}if(2&a){const i=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,3,"commun_translations.error")," "),t.xp6(2),t.hij(" ",i.error_message," "),t.xp6(3),t.Q6J("ngIf",i.message_errors.length>0)}}function Kt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",55)(1,"div",61)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",57),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.cleanMessage())}),t._UZ(7,"span",58),t.qZA()()()}if(2&a){const i=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,2,"commun_translations.success")," "),t.xp6(2),t.hij(" ",i.success_message," ")}}function Gt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",20)(3,"div",21)(4,"form")(5,"div",3)(6,"div",22)(7,"div",23)(8,"h4"),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",24)(12,"div",25)(13,"label"),t._uU(14),t.ALo(15,"translate"),t.TgZ(16,"span",26),t._uU(17,"*"),t.qZA()(),t.TgZ(18,"input",27),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.name=s)}),t.qZA()()(),t.TgZ(19,"div",24)(20,"div",25)(21,"label"),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"span",26),t._uU(25,"*"),t.qZA()(),t.TgZ(26,"input",28),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.date_start=s)}),t.qZA(),t._UZ(27,"mat-datepicker",null,29)(29,"mat-datepicker-toggle",30),t.qZA()(),t.TgZ(30,"div",31)(31,"div",25)(32,"label"),t._uU(33),t.ALo(34,"translate"),t.TgZ(35,"span",26),t._uU(36,"*"),t.qZA()(),t.TgZ(37,"input",32),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.price=s)}),t.qZA()()(),t.TgZ(38,"div",24)(39,"div",25)(40,"label"),t._uU(41),t.ALo(42,"translate"),t.TgZ(43,"span",26),t._uU(44,"*"),t.qZA()(),t.TgZ(45,"mat-select",33),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.type_sport=s)}),t.ALo(46,"translate"),t.YNc(47,St,2,2,"mat-option",34),t.qZA()()(),t.YNc(48,Ot,10,10,"div",35),t.TgZ(49,"div",22)(50,"div",23)(51,"h4"),t._uU(52),t.ALo(53,"translate"),t.qZA()()(),t.TgZ(54,"div",31)(55,"div",25)(56,"label"),t._uU(57),t.ALo(58,"translate"),t.TgZ(59,"span",26),t._uU(60,"*"),t.qZA()(),t.TgZ(61,"input",36),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.points_per_win_2_0=s)}),t.qZA()()(),t.TgZ(62,"div",31)(63,"div",25)(64,"label"),t._uU(65),t.ALo(66,"translate"),t.TgZ(67,"span",26),t._uU(68,"*"),t.qZA()(),t.TgZ(69,"input",37),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.points_per_lost_0_2=s)}),t.qZA()()(),t.TgZ(70,"div",31)(71,"div",25)(72,"label"),t._uU(73),t.ALo(74,"translate"),t.TgZ(75,"span",26),t._uU(76,"*"),t.qZA()(),t.TgZ(77,"input",38),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.points_per_win_2_1=s)}),t.qZA()()(),t.TgZ(78,"div",31)(79,"div",25)(80,"label"),t._uU(81),t.ALo(82,"translate"),t.TgZ(83,"span",26),t._uU(84,"*"),t.qZA()(),t.TgZ(85,"input",39),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.points_per_lost_1_2=s)}),t.qZA()()(),t.TgZ(86,"div",40)(87,"div",41)(88,"label",42),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.TgZ(91,"div",43)(92,"input",44),t.NdJ("change",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.loadFile(s))}),t.qZA(),t.TgZ(93,"label",45),t._uU(94),t.ALo(95,"translate"),t.qZA()()()(),t.YNc(96,Yt,2,1,"div",46),t.TgZ(97,"div",22)(98,"div",47)(99,"button",48),t._uU(100),t.ALo(101,"translate"),t.qZA(),t._uU(102,"\xa0 "),t.YNc(103,Dt,3,3,"button",49),t.qZA()(),t.YNc(104,jt,9,5,"div",50),t.YNc(105,Kt,8,4,"div",50),t.qZA()()()()()()}if(2&a){const i=t.MAs(28),e=t.oxw();t.xp6(9),t.Oqu(t.lcZ(10,32,"leagues.data")),t.xp6(5),t.Oqu(t.lcZ(15,34,"leagues.league_name")),t.xp6(4),t.Q6J("ngModel",e.name),t.xp6(4),t.hij("",t.lcZ(23,36,"leagues.day_start")," "),t.xp6(4),t.Q6J("ngModel",e.date_start)("matDatepicker",i),t.xp6(3),t.Q6J("for",i),t.xp6(4),t.Oqu(t.lcZ(34,38,"tournaments.price")),t.xp6(4),t.Q6J("ngModel",e.price),t.xp6(4),t.hij("",t.lcZ(42,40,"club_translations.sport")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(46,42,"club_translations.select_sport_type")),t.Q6J("ngModel",e.type_sport)("ngModelOptions",t.DdM(60,S)),t.xp6(2),t.Q6J("ngForOf",e.kind_sport),t.xp6(1),t.Q6J("ngIf","2"==e.type_sport),t.xp6(4),t.Oqu(t.lcZ(53,44,"club_translations.points")),t.xp6(5),t.hij("",t.lcZ(58,46,"leagues.points_for_winning")," 2-0"),t.xp6(4),t.Q6J("ngModel",e.points_per_win_2_0),t.xp6(4),t.hij("",t.lcZ(66,48,"leagues.points_set_winning_loser")," 0-2"),t.xp6(4),t.Q6J("ngModel",e.points_per_lost_0_2),t.xp6(4),t.hij("",t.lcZ(74,50,"leagues.points_for_winning")," 2-1"),t.xp6(4),t.Q6J("ngModel",e.points_per_win_2_1),t.xp6(4),t.hij("",t.lcZ(82,52,"leagues.points_set_winning_loser")," 1-2"),t.xp6(4),t.Q6J("ngModel",e.points_per_lost_1_2),t.xp6(4),t.hij("",t.lcZ(90,54,"leagues.logo")," "),t.xp6(5),t.Oqu(t.lcZ(95,56,"leagues.form_select_img")),t.xp6(2),t.Q6J("ngIf",e.image_preview),t.xp6(3),t.Q6J("routerLink",e.routes.leagueList),t.xp6(1),t.Oqu(t.lcZ(101,58,"commun_translations.come_back")),t.xp6(3),t.Q6J("ngIf",e.hasPermission("edit_league")&&0==e.matchs_finished),t.xp6(1),t.Q6J("ngIf",""!=e.error_message),t.xp6(1),t.Q6J("ngIf",""!=e.success_message)}}function Ht(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",70)(1,"div",71)(2,"div",72)(3,"div",25)(4,"label"),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"span",26),t._uU(8,"*"),t.qZA()(),t.TgZ(9,"input",73),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw(2);return t.KtG(n.name_category=s)}),t.qZA()()(),t.TgZ(10,"div",74)(11,"a",75),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.addCategory())}),t._UZ(12,"i",76),t.qZA()()()()}if(2&a){const i=t.oxw(2);t.xp6(5),t.hij("",t.lcZ(6,2,"leagues.name")," "),t.xp6(4),t.Q6J("ngModel",i.name_category)}}function zt(a,r){1&a&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commun_translations.remove")))}function $t(a,r){1&a&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"leagues.setting")))}function Vt(a,r){1&a&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commun_translations.view")))}function Bt(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"td")(1,"a",78),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(),n=s.index,o=s.$implicit,c=t.oxw(2);return t.KtG(c.deleteCategory(n,o))}),t._UZ(2,"i",79),t.qZA()()}}const I=function(a){return["/category/data",a,1]};function Wt(a,r){if(1&a&&(t.TgZ(0,"td")(1,"a",80),t._UZ(2,"img",81),t.qZA()()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,I,i.id))}}function Xt(a,r){if(1&a&&(t.TgZ(0,"td")(1,"a",80),t._UZ(2,"img",81),t.qZA()()),2&a){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,I,i.id))}}function Rt(a,r){if(1&a&&(t.ynx(0),t.TgZ(1,"tr",77)(2,"td"),t._uU(3),t.qZA(),t.YNc(4,Bt,3,0,"td",59),t.YNc(5,Wt,3,3,"td",59),t.YNc(6,Xt,3,3,"td",59),t.qZA(),t.BQk()),2&a){const i=r.$implicit,e=t.oxw(2);t.xp6(3),t.hij(" ",i.name," "),t.xp6(1),t.Q6J("ngIf",1==e.can_edit),t.xp6(1),t.Q6J("ngIf",1==e.can_edit),t.xp6(1),t.Q6J("ngIf",0==e.can_edit)}}function te(a,r){if(1&a&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&a){const i=r.$implicit;t.xp6(1),t.Oqu(i)}}function ee(a,r){if(1&a&&(t.TgZ(0,"ul"),t.YNc(1,te,2,1,"li",60),t.qZA()),2&a){const i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.message_errors_category)}}function ae(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",55)(1,"div",56)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",57),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.cleanMessage())}),t._UZ(7,"span",58),t.qZA(),t.YNc(8,ee,2,1,"ul",59),t.qZA()()}if(2&a){const i=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,3,"commun_translations.error")),t.xp6(2),t.hij(" ",i.error_message_category," "),t.xp6(3),t.Q6J("ngIf",i.message_errors_category.length>0)}}function se(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",55)(1,"div",61)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",57),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(2);return t.KtG(s.cleanMessage())}),t._UZ(7,"span",58),t.qZA()()()}if(2&a){const i=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,2,"commun_translations.success")),t.xp6(2),t.hij(" ",i.success_message_category," ")}}function ie(a,r){if(1&a&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",20)(3,"div",21)(4,"form"),t.ynx(5),t.TgZ(6,"div",62)(7,"div",63)(8,"h5",64),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"form")(12,"div",65),t.YNc(13,Ht,13,4,"div",66),t.TgZ(14,"div",67)(15,"div",68)(16,"table",69)(17,"thead")(18,"tr")(19,"th"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.YNc(22,zt,3,3,"th",59),t.YNc(23,$t,3,3,"th",59),t.YNc(24,Vt,3,3,"th",59),t.qZA()(),t.TgZ(25,"tbody"),t.YNc(26,Rt,7,4,"ng-container",60),t.qZA()()()()()()(),t.TgZ(27,"div",3),t.YNc(28,ae,9,5,"div",50),t.YNc(29,se,8,4,"div",50),t.qZA(),t.BQk(),t.qZA()()()()()),2&a){const i=t.oxw();t.xp6(9),t.Oqu(t.lcZ(10,9,"leagues.categories")),t.xp6(4),t.Q6J("ngIf",i.hasPermission("edit_league")),t.xp6(7),t.Oqu(t.lcZ(21,11,"leagues.categories")),t.xp6(2),t.Q6J("ngIf",1==i.can_edit),t.xp6(1),t.Q6J("ngIf",1==i.can_edit),t.xp6(1),t.Q6J("ngIf",0==i.can_edit),t.xp6(2),t.Q6J("ngForOf",i.categories_list),t.xp6(2),t.Q6J("ngIf",""!=i.error_message_category),t.xp6(1),t.Q6J("ngIf",""!=i.success_message_category)}}const q=function(a){return{active:a}};let O=(()=>{const r=class{constructor(e,s,n,o){this.leagueSrv=e,this.activateRoute=s,this.categorySrv=n,this.translate=o,this.routes=y._,this.name="",this.date_start="",this.image_preview="assets/img/user-06.jpg",this.id_league=0,this.success_message="",this.error_message="",this.message_errors=[],this.message_errors_category=[],this.name_category="",this.description_category="",this.categories_list=[],this.error_message_category="",this.success_message_category="",this.can_edit=!1,this.points_per_win_2_0=0,this.points_per_win_2_1=0,this.points_per_lost_0_2=0,this.points_per_lost_1_2=0,this.translations=[],this.courts=[],this.hasPadelCourts=!1,this.hasTennisCourts=!1,this.hasPickleballCourts=!1,this.hasSquashCourts=!1,this.hasBadmintonCourts=!1,this.kind_sport=[],this.type_sport="0",this.price=0,this.match_types=[],this.match_type_id="0",this.matchs_finished=0,this.tab_selected=1}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.hasPermission(),this.activateRoute.params.subscribe(e=>{this.id_league=e.id,e.tab&&(this.tab_selected=e.tab),this.getLeagueSelected()}),this.leagueSrv.config().subscribe(e=>{this.courts=e.courts,this.typeOfCourtsClub(),this.typeMatch()})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","leagues","leagues.leagues_messages","club_translations"]).subscribe(e=>{this.translations=e})}hasPermission(e=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes(e))&&(this.can_edit=!0,!0)}getLeagueSelected(){this.leagueSrv.getLeague(this.id_league).subscribe(e=>{this.league_selected=e.league,this.matchs_finished=e.match_finiched,this.name=this.league_selected.name,this.type_sport=this.league_selected.sport_type,this.date_start=this.league_selected.start_date,this.image_preview=this.league_selected.avatar,this.categories_list=this.league_selected.categories,this.points_per_win_2_0=this.league_selected.points_per_win_2_0,this.points_per_win_2_1=this.league_selected.points_per_win_2_1,this.points_per_lost_0_2=this.league_selected.points_per_lost_0_2,this.points_per_lost_1_2=this.league_selected.points_per_lost_1_2,this.price=this.league_selected.price,this.match_type_id=this.league_selected.type_match})}loadFile(e){if(e.target.files[0].type.indexOf("image")<0)return alert(this.translations.commun_translations.only_type_img),void(this.image_preview=this.image_preview?this.image_preview:"assets/img/user-06.jpg");if(e.target.files[0].size>2e6)return alert(this.translations.commun_translations.max_size_img),void(this.fileAvatar="");this.fileAvatar=e.target.files[0];let s=new FileReader;s.readAsDataURL(this.fileAvatar),s.onloadend=()=>this.image_preview=s.result}cleanMessage(){this.error_message="",this.success_message="",this.message_errors=[],this.error_message_category="",this.success_message_category=""}save(){if(this.cleanMessage(),""==this.name)return void(this.error_message=this.translations["leagues.leagues_messages"].error_1);if(this.name&&this.name.length>191)return void(this.error_message=this.translations["leagues.leagues_messages"].error_2);if("0"==this.type_sport)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_13);if("2"==this.type_sport&&"0"==this.match_type_id)return void(this.error_message=this.translations["leagues.leagues_messages"].error_11);if(""==this.date_start)return void(this.error_message=this.translations["leagues.leagues_messages"].error_3);if("number"!=typeof+this.points_per_win_2_0)return void(this.error_message=this.translations["leagues.leagues_messages"].error_4);if("number"!=typeof+this.points_per_win_2_1)return void(this.error_message=this.translations["leagues.leagues_messages"].error_8);if("number"!=typeof+this.points_per_lost_0_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_9);if("number"!=typeof+this.points_per_lost_1_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_10);let e=new FormData;e.append("name",this.name),e.append("sport_type",this.type_sport),e.append("start_date",this.date_start),e.append("points_per_win_2_0",this.points_per_win_2_0.toString()),e.append("points_per_win_2_1",this.points_per_win_2_1.toString()),e.append("points_per_lost_0_2",this.points_per_lost_0_2.toString()),e.append("points_per_lost_1_2",this.points_per_lost_1_2.toString()),e.append("price",this.price.toString()),"1"==this.match_type_id&&e.append("match_type","double"),"2"==this.match_type_id&&e.append("match_type","singles"),e.append("imagen",this.fileAvatar),this.leagueSrv.editLeague(this.id_league,e).subscribe(s=>{200==s.message?this.success_message=this.translations.commun_translations.data_save_correctly:422==s.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=s.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}addCategory(){if(this.cleanMessage(),!this.name_category)return void(this.error_message=this.translations["leagues.leagues_messages"].error_6);let e={id:null,name:this.name_category,description:this.description_category,league_id:this.id_league};this.categorySrv.storeCategory(e).subscribe(s=>{200==s.message?(e.id=s.category_id,this.categories_list.push(e),this.name_category="",this.description_category="",this.success_message_category=this.translations.commun_translations.data_save_correctly):422==s.message?(this.error_message_category=this.translations.commun_translations.data_save_error,this.message_errors_category=s.errors_text):this.error_message_category=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}deleteCategory(e,s){this.cleanMessage(),this.categorySrv.deleteCategory(s.id).subscribe(n=>{200==n.message?(this.categories_list.splice(e,1),this.name_category="",this.description_category="",this.success_message_category=this.translations["leagues.leagues_messages"].success_delete):this.success_message_category=this.translations.commun_translations.data_delete_error})}cancelCategory(){this.name_category="",this.description_category=""}typeMatch(){this.match_types.push({id:0,name:"..."},{id:1,name:this.translations.club_translations.match_type_double},{id:2,name:this.translations.club_translations.match_type_single})}typeOfCourtsClub(){this.kind_sport.push({id:0,name:"..."}),this.courts.some(e=>{1==e.sport_type&&(this.hasPadelCourts=!0),2==e.sport_type&&(this.hasTennisCourts=!0),3==e.sport_type&&(this.hasPickleballCourts=!0),4==e.sport_type&&(this.hasSquashCourts=!0),5==e.sport_type&&(this.hasBadmintonCourts=!0)}),this.hasPadelCourts&&this.kind_sport.push({id:1,name:this.translations.club_translations.sport_1}),this.hasTennisCourts&&this.kind_sport.push({id:2,name:this.translations.club_translations.sport_2}),this.hasPickleballCourts&&this.kind_sport.push({id:3,name:this.translations.club_translations.sport_3}),this.hasSquashCourts&&this.kind_sport.push({id:4,name:this.translations.club_translations.sport_4}),this.hasBadmintonCourts&&this.kind_sport.push({id:5,name:this.translations.club_translations.sport_5})}tabSeleted(e){this.tab_selected=e}};let a=r;return r.\u0275fac=function(s){return new(s||r)(t.Y36(x),t.Y36(u.gz),t.Y36(M.H),t.Y36(m.sK))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-edit-league"]],decls:29,vars:25,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item",3,"ngClass"],["href","#","onclick","return false;",1,"nav-link",3,"click"],["href","#","onclick","return false;","class","nav-link",3,"click",4,"ngIf"],["class","nav-link",4,"ngIf"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","row",4,"ngIf"],[1,"nav-link"],[1,"nav-link",3,"routerLink"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-4","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","date_start","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"ngModel","matDatepicker","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],[1,"col-12","col-md-3","col-xl-3"],["name","price","type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 col-md-4 col-xl-4",4,"ngIf"],["name","points_per_win_2_0","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_0_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_win_2_1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_1_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],["type","file","accept","image/*","name","image","id","file",1,"hide-input",3,"change"],["for","file",1,"upload"],["class","",4,"ngIf"],[1,"doctor-submit","text-end"],["type","submit",1,"btn","btn-primary","cancel-form",3,"routerLink"],["type","button","class","btn btn-primary submit-form me-2",3,"click",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[3,"value"],[1,""],["alt","","width","150px","height","150px",3,"src"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngIf"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"row","my-4"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"row","col-12"],["class","col-6",4,"ngIf"],[1,"col-6","settings-form"],[1,"table-responsive"],[1,"table","mb-0"],[1,"col-6"],[1,"row","settings-form"],[1,"col-9"],["name","name_category","type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-2"],["href","javascript:void(0);",1,"btn","trash",3,"click"],[1,"fa","fa-plus","me-1"],[1,"align-items-center"],["href","javascript:void(0);",1,"btn","trash","trash-style",3,"click"],[1,"feather","icon-trash-2","service"],["href","#",1,"btn","trash","trash-style",3,"routerLink"],["src","assets/img/icons/menu-icon-16.svg","alt",""]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"li",6),t._UZ(11,"i",8),t.qZA(),t.TgZ(12,"li",9),t._uU(13),t.ALo(14,"translate"),t.qZA()()()()(),t.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"a",13),t.NdJ("click",function(){return n.tabSeleted(1)}),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"li",12),t.YNc(22,Jt,3,3,"a",14),t.YNc(23,Ut,3,3,"a",15),t.qZA(),t.TgZ(24,"li",12),t.YNc(25,Qt,3,6,"a",16),t.YNc(26,Pt,3,3,"a",15),t.qZA()()(),t.YNc(27,Gt,106,61,"div",17),t.YNc(28,ie,30,13,"div",17),t.qZA()()),2&s&&(t.xp6(7),t.Q6J("routerLink",n.routes.leagueList),t.xp6(1),t.hij("",t.lcZ(9,13,"leagues.leagues")," "),t.xp6(5),t.Oqu(t.lcZ(14,15,"commun_translations.edit")),t.xp6(4),t.Q6J("ngClass",t.VKq(19,q,1==n.tab_selected)),t.xp6(2),t.Oqu(t.lcZ(20,17,"leagues.tabs.general_data")),t.xp6(2),t.Q6J("ngClass",t.VKq(21,q,2==n.tab_selected)),t.xp6(1),t.Q6J("ngIf",0!=n.id_league),t.xp6(1),t.Q6J("ngIf",0==n.id_league),t.xp6(1),t.Q6J("ngClass",t.VKq(23,q,3==n.tab_selected)),t.xp6(1),t.Q6J("ngIf",0!=n.id_league),t.xp6(1),t.Q6J("ngIf",0==n.id_league),t.xp6(1),t.Q6J("ngIf",1==n.tab_selected),t.xp6(1),t.Q6J("ngIf",2==n.tab_selected))},dependencies:[g.mk,g.sg,g.O5,u.rH,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.F,f.Mq,f.hl,f.nW,J.R9,T.gD,b.ey,m.X$]}),a})();var ne=_(3296);function re(a,r){if(1&a&&(t.TgZ(0,"mat-option",53),t._uU(1),t.qZA()),2&a){const i=r.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij(" ",i.name," ")}}function oe(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"td")(1,"div",55)(2,"a",56),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",57)(6,"a",58),t.NdJ("click",function(){t.CHM(i);const s=t.oxw().$implicit,n=t.oxw(2);return t.KtG(n.unpaidTournament(s.id))}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,2,"tournaments.payment_paid")," "),t.xp6(4),t.Oqu(t.lcZ(8,4,"commun_translations.cancel")))}function le(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"td")(1,"div",55)(2,"a",59),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",57)(6,"a",58),t.NdJ("click",function(){t.CHM(i);const s=t.oxw().$implicit,n=t.oxw(2);return t.KtG(n.paidTournament(s.id))}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,2,"members.pending")," "),t.xp6(4),t.Oqu(t.lcZ(8,4,"tournaments.payment_paid")))}function _e(a,r){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,oe,9,6,"td",54),t.YNc(6,le,9,6,"td",54),t.qZA()),2&a){const i=r.$implicit;t.xp6(2),t.AsE("",i.player_name," ",i.player_surname,""),t.xp6(2),t.hij(" ",i.name," "),t.xp6(1),t.Q6J("ngIf","PAID"==i.paid_status),t.xp6(1),t.Q6J("ngIf","PENDING"==i.paid_status)}}function ce(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"li",61),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(3);return t.KtG(s.moveToPage(s.currentPage-2))}),t.TgZ(1,"a",62),t._uU(2," ... "),t.qZA()()}if(2&a){const i=t.oxw(3);t.Q6J("hidden",1===i.currentPage)}}function ge(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"li",61),t.NdJ("click",function(){t.CHM(i);const s=t.oxw(3);return t.KtG(s.moveToPage(s.currentPage+2))}),t.TgZ(1,"a",62),t._uU(2," ... "),t.qZA()()}if(2&a){const i=t.oxw(3);t.Q6J("hidden",i.currentPage>=i.pageNumberArray[i.pageNumberArray.length-2]||i.totalData<i.serialNumberArray[i.serialNumberArray.length-1])}}function ue(a,r){if(1&a){const i=t.EpF();t.ynx(0),t.TgZ(1,"li",50)(2,"a",52),t.NdJ("click",function(){const n=t.CHM(i).$implicit,o=t.oxw(2);return t.KtG(o.moveToPage(n))}),t._uU(3),t.qZA()(),t.YNc(4,ce,3,1,"li",60),t.YNc(5,ge,3,1,"li",60),t.BQk()}if(2&a){const i=r.$implicit,e=r.index,s=t.oxw(2);t.xp6(1),t.ekj("active",i===s.currentPage),t.Q6J("ngClass",s.pageNumberArray[s.currentPage-2]>i&&1!==i&&s.pageNumberArray.length>6||s.pageNumberArray[s.currentPage]<i&&1!==i&&s.pageNumberArray.length>6&&s.pageNumberArray.length!==i?"hide-page-no":"show-page-no"),t.xp6(2),t.hij(" ",i," "),t.xp6(1),t.Q6J("ngIf",0===e&&s.pageNumberArray.length>6&&s.currentPage>2),t.xp6(1),t.Q6J("ngIf",e===s.pageNumberArray.length-2&&s.pageNumberArray.length>6)}}const Y=function(){return{standalone:!0}},D=function(a){return{disabled:a}};function de(a,r){if(1&a){const i=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",18)(3,"div",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"div",23)(8,"h3"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",24)(12,"div",25)(13,"a",26),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.refresh())}),t._UZ(14,"img",27),t.qZA()()()()(),t._UZ(15,"div",28),t.qZA()(),t.TgZ(16,"div",29)(17,"form")(18,"div",3)(19,"div",30)(20,"div",31)(21,"label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"input",32),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.searchDataPlayer=s)}),t.qZA()()(),t.TgZ(25,"div",30)(26,"div",31)(27,"label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"mat-select",33),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.payment_status=s)}),t.ALo(31,"translate"),t.TgZ(32,"mat-option",34),t._uU(33,"..."),t.qZA(),t.TgZ(34,"mat-option",35),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"mat-option",36),t._uU(38),t.ALo(39,"translate"),t.qZA()()()(),t.TgZ(40,"div",30)(41,"div",31)(42,"label"),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"mat-select",33),t.NdJ("ngModelChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.category_id=s)}),t.ALo(46,"translate"),t.YNc(47,re,2,2,"mat-option",37),t.qZA()()(),t.TgZ(48,"div",30)(49,"div",38)(50,"button",39),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.filter())}),t._uU(51),t.ALo(52,"translate"),t.qZA()()()()()(),t._UZ(53,"br"),t.TgZ(54,"div",40)(55,"table",41),t.NdJ("matSortChange",function(s){t.CHM(i);const n=t.oxw();return t.KtG(n.sortData(s))}),t.TgZ(56,"thead")(57,"tr")(58,"th",42),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"th",42),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"th",42),t._uU(65),t.ALo(66,"translate"),t.qZA()()(),t.TgZ(67,"tbody"),t.YNc(68,_e,7,5,"tr",43),t.qZA()(),t.TgZ(69,"div",44)(70,"div",45)(71,"div",46),t._uU(72),t.qZA()(),t.TgZ(73,"div",47)(74,"div",48)(75,"ul",49)(76,"li",50)(77,"a",51),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.getMoreData("previous"))}),t._uU(78,"Previous"),t.qZA()(),t.YNc(79,ue,6,6,"ng-container",43),t.TgZ(80,"li",50)(81,"a",52),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.getMoreData("next"))}),t._uU(82,"Next "),t.qZA()()()()()()()()()()()}if(2&a){const i=t.oxw();t.xp6(9),t.Oqu(t.lcZ(10,25,"tournaments.players")),t.xp6(13),t.hij("",t.lcZ(23,27,"tournaments.player_name")," "),t.xp6(2),t.Q6J("ngModel",i.searchDataPlayer),t.xp6(4),t.hij("",t.lcZ(29,29,"tournaments.payment_status")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(31,31,"tournaments.select_status")),t.Q6J("ngModel",i.payment_status)("ngModelOptions",t.DdM(49,Y)),t.xp6(5),t.Oqu(t.lcZ(36,33,"tournaments.payment_pending")),t.xp6(3),t.Oqu(t.lcZ(39,35,"tournaments.payment_paid")),t.xp6(5),t.hij("",t.lcZ(44,37,"tournaments.category")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(46,39,"tournaments.select_category")),t.Q6J("ngModel",i.category_id)("ngModelOptions",t.DdM(50,Y)),t.xp6(2),t.Q6J("ngForOf",i.categories_list),t.xp6(4),t.Oqu(t.lcZ(52,41,"tournaments.search")),t.xp6(8),t.Oqu(t.lcZ(60,43,"tournaments.name")),t.xp6(3),t.Oqu(t.lcZ(63,45,"tournaments.category")),t.xp6(3),t.Oqu(t.lcZ(66,47,"tournaments.status")),t.xp6(3),t.Q6J("ngForOf",i.playersList),t.xp6(4),t.lnq(" Showing ",i.serialNumberArray[0]," to ",i.serialNumberArray[i.serialNumberArray.length-1]," of ",i.totalData," entries "),t.xp6(4),t.Q6J("ngClass",t.VKq(51,D,1===i.currentPage)),t.xp6(3),t.Q6J("ngForOf",i.pageNumberArray),t.xp6(1),t.Q6J("ngClass",t.VKq(53,D,i.currentPage===i.pageNumberArray[i.pageNumberArray.length-1]||0===i.playersList.length))}}const pe=function(a){return["/leagues/list-league/edit",a,1]},he=function(a){return["/leagues/list-league/edit",a,2]},me=[{path:"",component:E,children:[{path:"add-league",component:vt},{path:"list-league",component:Mt},{path:"list-league/edit/:id",component:O},{path:"list-league/edit/:id/:tab",component:O},{path:"all-players/:id",component:(()=>{const r=class{constructor(e,s,n,o){this.tournamentSrv=e,this.activateRoute=s,this.translate=n,this.leagueSrv=o,this.routes=y._,this.tab_selected=1,this.id_league="",this.can_edit=!1,this.loaded=!1,this.translations=[],this.playersList=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.players_general=[],this.birthdayBeauty="",this.date="",this.searchDataPlayer="",this.payment_status="0",this.court_value="",this.courts_list=[],this.categories_list=[],this.date_start_tournament="",this.date_end_tournament="",this.category_id="",this.isLoaded=!1}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.hasPermission(),this.activateRoute.params.subscribe(e=>{e.id?(this.id_league=e.id,this.getTableData()):this.loaded=!0,e.tab&&(this.tab_selected=e.tab)})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","tournaments","club_translations","tournaments.tournaments_messages","tournaments.type_category"]).subscribe(e=>{this.translations=e})}hasPermission(e=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes(e))&&(this.can_edit=!0,!0)}tabSeleted(e){this.tab_selected=e}getTableDataGeneral(){let e=new g.uU("en-US");this.playersList=[],this.serialNumberArray=[],this.playersList.map((s,n)=>{const o=n+1;n>=this.skip&&o<=this.limit&&(this.playersList.push(s),s.birthday=e.transform(s.birthday,"dd/MM/yyyy"),this.serialNumberArray.push(o))}),this.dataSource=new A.by(this.playersList),this.calculateTotalPages(this.totalData,this.pageSize)}searchData(e){this.dataSource.filter=e.trim().toLowerCase(),this.playersList=this.dataSource.filteredData,this.totalData=this.playersList.length}sortData(e){const s=this.playersList.slice();this.playersList=e.active&&""!==e.direction?s.sort((n,o)=>(n[e.active]<o[e.active]?-1:1)*("asc"===e.direction?1:-1)):s}getMoreData(e){"next"==e?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableDataGeneral()):"previous"==e&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableDataGeneral())}moveToPage(e){this.currentPage=e,this.skip=this.pageSelection[e-1].skip,this.limit=this.pageSelection[e-1].limit,e>this.currentPage?this.pageIndex=e-1:e<this.currentPage&&(this.pageIndex=e+1),this.getTableData(this.currentPage)}refresh(){this.pageSelection=[],this.searchDataValue="",this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.searchDataPlayer="",this.payment_status="0",this.court_value="",this.date="",this.category_id="",this.getTableData(),this.isLoaded=!1}calculateTotalPages(e,s){this.pageNumberArray=[],this.totalPages=e/s,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(var n=1;n<=this.totalPages;n++){const o=s*n,c=o-s;this.pageNumberArray.push(n),this.pageSelection.push({skip:c,limit:o})}}filter(){this.searchDataPlayer=this.searchDataPlayer.trim().toLowerCase(),this.currentPage=1,this.getTableData(this.currentPage,this.searchDataPlayer,this.date,this.category_id)}getTableData(e=1,s="",n="",o=""){this.playersList=[],this.serialNumberArray=[];let h,c=new g.uU("en-US");this.date&&(h=c.transform(this.date,"yyyy-MM-dd")),this.leagueSrv.getAllPlayersLeague(this.id_league,e,s,this.payment_status,this.court_value,h,this.category_id).subscribe(Z=>{this.totalData=Z.total,this.playersList=Z.players.data,this.categories_list=Z.categories,this.dataSource=new A.by(this.playersList),this.calculateTotalPages(this.totalData,this.pageSize),this.isLoaded=!0})}paidTournament(e){this.leagueSrv.paidPlayerLeague(e).subscribe(s=>{if("200"==s.message){let n=this.playersList.findIndex(o=>o.id==e);-1!=n&&(this.playersList[n].paid_status="PAID")}})}unpaidTournament(e){this.leagueSrv.unpaidPlayerLeague(e).subscribe(s=>{if("200"==s.message){let n=this.playersList.findIndex(o=>o.id==e);-1!=n&&(this.playersList[n].paid_status="PENDING")}})}};let a=r;return r.\u0275fac=function(s){return new(s||r)(t.Y36(ne.Z),t.Y36(u.gz),t.Y36(m.sK),t.Y36(x))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-players"]],decls:30,vars:23,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link",3,"routerLink","click"],[1,"nav-item","active"],["href","#","onclick","return false;",1,"nav-link",3,"click"],["class","row",4,"ngIf"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"add-group"],[1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],[1,"staff-search-table"],[1,"col-12","col-md-6","col-xl-4"],[1,"form-group","local-forms"],["name","name_patient","id","name_patient","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["value","0"],["value","PENDING"],["value","PAID"],[3,"value",4,"ngFor","ngForOf"],[1,"doctor-submit"],["type","submit",1,"btn","btn-primary","submit-list-form","me-2",3,"click"],[1,"table-responsive","staff-search-table"],["matSort","",1,"table","mb-0","table-striped","my-4",3,"matSortChange"],[1,"color_2"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click"],["href","javascript:void(0);",1,"page-link",3,"click"],[3,"value"],[4,"ngIf"],[1,"dropdown","action-label"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-sm","btn-success","custom-badge","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-end","status-staff"],[1,"dropdown-item","cursor-pointer",3,"click"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"status-red","custom-badge","dropdown-toggle"],["class","page-item",3,"hidden","click",4,"ngIf"],[1,"page-item",3,"hidden","click"],["href","javascript:void(0);",1,"page-link"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"li",6),t._UZ(11,"i",8),t.qZA(),t.TgZ(12,"li",9),t._uU(13),t.ALo(14,"translate"),t.qZA()()()()(),t.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"a",13),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"li",12)(22,"a",14),t.NdJ("click",function(){return n.tabSeleted(2)}),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"li",15)(26,"a",16),t.NdJ("click",function(){return n.tabSeleted(2)}),t._uU(27),t.ALo(28,"translate"),t.qZA()()()(),t.YNc(29,de,83,55,"div",17),t.qZA()()),2&s&&(t.xp6(7),t.Q6J("routerLink",n.routes.leagueList),t.xp6(1),t.hij("",t.lcZ(9,9,"leagues.leagues")," "),t.xp6(5),t.Oqu(t.lcZ(14,11,"commun_translations.edit")),t.xp6(5),t.Q6J("routerLink",t.VKq(19,pe,n.id_league)),t.xp6(1),t.Oqu(t.lcZ(20,13,"leagues.tabs.general_data")),t.xp6(3),t.Q6J("routerLink",t.VKq(21,he,n.id_league)),t.xp6(1),t.Oqu(t.lcZ(24,15,"leagues.categories")),t.xp6(4),t.Oqu(t.lcZ(28,17,"tournaments.payments")),t.xp6(2),t.Q6J("ngIf",1==n.isLoaded))},dependencies:[g.mk,g.sg,g.O5,u.rH,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,T.gD,b.ey,L.YE,m.X$]}),a})()}]}];let fe=(()=>{const r=class{};let a=r;return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[u.Bz.forChild(me),u.Bz]}),a})();var ve=_(5108);let Ze=(()=>{const r=class{};let a=r;return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[g.ez,fe,l.u5,l.UX,d.JF,u.Bz,ve.m]}),a})()}}]);