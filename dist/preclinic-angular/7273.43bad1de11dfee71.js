"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[7273],{7273:(Ze,f,c)=>{c.r(f),c.d(f,{JorneyModule:()=>xe});var u=c(6895),h=c(27),e=c(4650);let M=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-jorney"]],decls:1,vars:0,template:function(i,n){1&i&&e._UZ(0,"router-outlet")},dependencies:[h.lC]})}return o})();var x=c(6382),p=c(529),m=c(5862),T=c(866);let v=(()=>{class o{constructor(t,i){this.http=t,this.authSrv=i}listJorneys(t=1,i=""){let n=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(m.$g+"/journeys?page="+t+"&search="+i,{headers:n})}getJorney(t){let i=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(m.$g+"/journeys/"+t,{headers:i})}storeJorney(t){let i=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys",t,{headers:i})}editJorney(t,i){let n=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/update/"+t,i,{headers:n})}deleteJorney(t){let i=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.delete(m.$g+"/journeys/"+t,{headers:i})}getCategories(t){let i=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/categories",t,{headers:i})}createGameJourney(t){let i=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/create-game",t,{headers:i})}getGameJuorneyCategory(t){let i=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/get-game-category-journey",t,{headers:i})}getGameItems(t){let i=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/get-game-items",t,{headers:i})}saveGameBoard(t){let i=new p.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(m.$g+"/journeys/save-game-board",t,{headers:i})}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(p.eN),e.LFG(T.e))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var d=c(433),y=c(3125),C=c(9549);function A(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",25)(2,"button",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.save())}),e._uU(3,"GUARDAR"),e.qZA(),e.TgZ(4,"button",27),e._uU(5,"Cancel"),e.qZA()()()}}function q(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"strong"),e._uU(3,"Error!"),e.qZA(),e._uU(4),e.TgZ(5,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.cleanMessage())}),e._UZ(6,"span",31),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.hij(" ",t.error_message," ")}}function j(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",32)(2,"strong"),e._uU(3,"Bien!"),e.qZA(),e._uU(4),e.TgZ(5,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.cleanMessage())}),e._UZ(6,"span",31),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.hij(" ",t.success_message," ")}}const k=function(o){return["/jorneys/list-jorney/edit/",o]};function U(o,_){if(1&o&&(e.TgZ(0,"div",12)(1,"div",25)(2,"button",33),e._uU(3,"CONFIGURAR"),e.qZA(),e.TgZ(4,"button",34),e._uU(5,"Listado"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("routerLink",e.VKq(2,k,t.id_new_journey)),e.xp6(2),e.Q6J("routerLink",t.routes.jorneyList)}}let w=(()=>{class o{constructor(t){this.jorneySrv=t,this.routes=x._,this.name="",this.date_planned="",this.description="",this.success_message="",this.error_message="",this.save_ok=!1,this.id_new_journey=""}cleanMessage(){this.error_message="",this.success_message=""}save(){if(this.cleanMessage(),""==this.name||""==this.date_planned)return void(this.error_message="Los campos nombre y fecha prevista son obligatorios");let t=new FormData;t.append("name",this.name),t.append("description",this.description),t.append("date",this.date_planned),this.jorneySrv.storeJorney(t).subscribe(i=>{200!=i.message?this.error_message="Ha habido un error al guardar club. Consulte con su administrador.":(this.save_ok=!0,this.id_new_journey=i.id_journey,this.success_message="Jornada a\xf1adida correctamente.")})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(v))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-jorney"]],decls:49,vars:10,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","text","matInput","","name","date_planned",1,"form-control","datetimepicker",3,"matDatepicker","ngModel","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],[1,"col-12","col-md-12","col-xl-12"],["name","description","type","text",1,"form-control",3,"ngModel","ngModelChange"],["class","col-12",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[1,"doctor-submit","text-end"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],["type","submit",1,"btn","btn-primary","cancel-form"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"routerLink"],["type","submit",1,"btn","btn-primary","cancel-form",3,"routerLink"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8,"Jornadas "),e.qZA()(),e.TgZ(9,"li",6),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"li",9),e._uU(12,"Nueva jornada"),e.qZA()()()()(),e.TgZ(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"form")(18,"div",3)(19,"div",12)(20,"div",13)(21,"h4"),e._uU(22,"Datos"),e.qZA()()(),e.TgZ(23,"div",14)(24,"div",15)(25,"label"),e._uU(26,"Nombre"),e.TgZ(27,"span",16),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"input",17),e.NdJ("ngModelChange",function(a){return n.name=a}),e.qZA()()(),e.TgZ(30,"div",14)(31,"div",15)(32,"label"),e._uU(33,"Fecha Prevista "),e.TgZ(34,"span",16),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"input",18),e.NdJ("ngModelChange",function(a){return n.date_planned=a}),e.qZA(),e._UZ(37,"mat-datepicker",null,19)(39,"mat-datepicker-toggle",20),e.qZA()(),e.TgZ(40,"div",21)(41,"div",15)(42,"label"),e._uU(43,"Descripci\xf3n "),e.qZA(),e.TgZ(44,"input",22),e.NdJ("ngModelChange",function(a){return n.description=a}),e.qZA()()(),e.YNc(45,A,6,0,"div",23),e.YNc(46,q,7,1,"div",24),e.YNc(47,j,7,1,"div",24),e.YNc(48,U,6,4,"div",23),e.qZA()()()()()()()()),2&i){const r=e.MAs(38);e.xp6(7),e.Q6J("routerLink",n.routes.jorneyList),e.xp6(22),e.Q6J("ngModel",n.name),e.xp6(7),e.Q6J("matDatepicker",r)("ngModel",n.date_planned),e.xp6(3),e.Q6J("for",r),e.xp6(5),e.Q6J("ngModel",n.description),e.xp6(1),e.Q6J("ngIf",!n.save_ok),e.xp6(1),e.Q6J("ngIf",""!=n.error_message),e.xp6(1),e.Q6J("ngIf",""!=n.success_message),e.xp6(1),e.Q6J("ngIf",n.save_ok)}},dependencies:[u.O5,h.rH,d._Y,d.Fj,d.JJ,d.JL,d.On,d.F,y.Mq,y.hl,y.nW,C.R9]})}return o})();var b=c(7155),N=c(7945),Z=c(6308);const E=["closebutton"],Q=function(o){return["edit",o]};function z(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",59)(10,"div",60)(11,"a",61),e._UZ(12,"i",62),e.qZA(),e.TgZ(13,"div",63)(14,"a",64),e._UZ(15,"i",65),e._uU(16," Editar"),e.qZA(),e.TgZ(17,"a",66),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.selectJorney(r))}),e._UZ(18,"i",67),e._uU(19," Borrar"),e.qZA()()()()()}if(2&o){const t=_.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.date),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.craeted_at),e.xp6(6),e.Q6J("routerLink",e.VKq(5,Q,t.id))}}function O(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"li",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.moveToPage(n.currentPage-2))}),e.TgZ(1,"a",70),e._uU(2," ... "),e.qZA()()}if(2&o){const t=e.oxw(2);e.Q6J("hidden",1===t.currentPage)}}function D(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"li",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.moveToPage(n.currentPage+2))}),e.TgZ(1,"a",70),e._uU(2," ... "),e.qZA()()}if(2&o){const t=e.oxw(2);e.Q6J("hidden",t.currentPage>=t.pageNumberArray[t.pageNumberArray.length-2]||t.totalData<t.serialNumberArray[t.serialNumberArray.length-1])}}function F(o,_){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",46)(2,"a",48),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.moveToPage(r))}),e._uU(3),e.qZA()(),e.YNc(4,O,3,1,"li",68),e.YNc(5,D,3,1,"li",68),e.BQk()}if(2&o){const t=_.$implicit,i=_.index,n=e.oxw();e.xp6(1),e.ekj("active",t===n.currentPage),e.Q6J("ngClass",n.pageNumberArray[n.currentPage-2]>t&&1!==t&&n.pageNumberArray.length>6||n.pageNumberArray[n.currentPage]<t&&1!==t&&n.pageNumberArray.length>6&&n.pageNumberArray.length!==t?"hide-page-no":"show-page-no"),e.xp6(2),e.hij(" ",t," "),e.xp6(1),e.Q6J("ngIf",0===i&&n.pageNumberArray.length>6&&n.currentPage>2),e.xp6(1),e.Q6J("ngIf",i===n.pageNumberArray.length-2&&n.pageNumberArray.length>6)}}function G(o,_){if(1&o&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij("Est\xe1s seguro de borrar la categor\xeda ",t.jorney_selected.name," ?")}}const J=function(o){return{disabled:o}};let S=(()=>{class o{constructor(t,i){this.data=t,this.jorneySrv=i,this.jorneysList=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=20,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.jorneys_general=[],this.statusText=""}ngOnInit(){this.user=this.jorneySrv.authSrv.user,this.getTableData()}getTableData(t=1,i=""){this.jorneysList=[],this.serialNumberArray=[],this.jorneySrv.listJorneys(t,this.searchDataValue).subscribe(n=>{this.totalData=n.total,this.jorneysList=n.journeys,this.dataSource=new b.by(this.jorneysList),this.calculateTotalPages(this.totalData,this.pageSize)})}hasPermission(t){return!(!this.user.role.includes("Super-Admin")&&!this.user.permissions.includes(t))}getTableDataGeneral(){new u.uU("en-US"),this.jorneysList=[],this.serialNumberArray=[],this.jorneys_general.map((i,n)=>{const r=n+1;n>=this.skip&&r<=this.limit&&(this.jorneysList.push(i),this.serialNumberArray.push(r))}),this.dataSource=new b.by(this.jorneysList),this.calculateTotalPages(this.totalData,this.pageSize)}searchData(t){this.dataSource.filter=t.trim().toLowerCase(),this.getTableData(this.currentPage,this.searchDataValue)}sortData(t){const i=this.jorneysList.slice();this.jorneysList=t.active&&""!==t.direction?i.sort((n,r)=>(n[t.active]<r[t.active]?-1:1)*("asc"===t.direction?1:-1)):i}getMoreData(t){"next"==t?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData(this.currentPage)):"previous"==t&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData(this.currentPage))}moveToPage(t){this.currentPage=t,this.skip=this.pageSelection[t-1].skip,this.limit=this.pageSelection[t-1].limit,t>this.currentPage?this.pageIndex=t-1:t<this.currentPage&&(this.pageIndex=t+1),this.getTableData(this.currentPage)}refresh(){this.pageSelection=[],this.searchDataValue="",this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableData()}calculateTotalPages(t,i){this.pageNumberArray=[],this.totalPages=t/i,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(var n=1;n<=this.totalPages;n++){const r=i*n,a=r-i;this.pageNumberArray.push(n),this.pageSelection.push({skip:a,limit:r})}}selectJorney(t){this.jorney_selected=t}removeClub(){this.jorneySrv.deleteJorney(this.jorney_selected.id).subscribe(t=>{if(200==t.message){let i=this.jorneysList.findIndex(n=>n.id==this.jorney_selected.id);-1!=i&&(this.jorneysList.splice(i,1),this.closebutton.nativeElement.click(),this.jorney_selected=null)}else console.log(t)})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(N.D),e.Y36(v))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-jorney"]],viewQuery:function(i,n){if(1&i&&e.Gf(E,5),2&i){let r;e.iGM(r=e.CRH())&&(n.closebutton=r.first)}},decls:83,vars:13,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],["placeholder","Search here",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"add-group"],["routerLink","/roles/register","routerLinkActive","router-link-active",1,"btn","btn-primary","add-pluss","ms-2"],["src","assets/img/icons/plus.svg","alt",""],["href","javascript:;",1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],["href","javascript:;",1,"me-2"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["src","assets/img/icons/pdf-icon-02.svg","alt",""],["src","assets/img/icons/pdf-icon-03.svg","alt",""],["href","javascript:;"],["src","assets/img/icons/pdf-icon-04.svg","alt",""],[1,"table-responsive"],["matSort","",1,"table","border-0","custom-table","comman-table","datatable","mb-0",3,"matSortChange"],["mat-sort-header","name"],["mat-sort-header","surname"],["mat-sort-header","descripcion"],["mat-sort-header","joining_date"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click"],["href","javascript:void(0);",1,"page-link",3,"click"],["id","delete_staff_modal","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],["href","#",1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_staff_modal",1,"dropdown-item",3,"click"],[1,"fa","fa-trash-alt","m-r-5"],["class","page-item",3,"hidden","click",4,"ngIf"],[1,"page-item",3,"hidden","click"],["href","javascript:void(0);",1,"page-link"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8,"Clubs "),e.qZA()(),e.TgZ(9,"li",6),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"li",9),e._uU(12,"Listado"),e.qZA()()()()(),e.TgZ(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h3"),e._uU(22,"Listado de jornadas"),e.qZA(),e.TgZ(23,"div",16)(24,"div",17)(25,"input",18),e.NdJ("ngModelChange",function(a){return n.searchDataValue=a})("ngModelChange",function(){return n.searchData(n.searchDataValue)}),e.qZA(),e.TgZ(26,"a",19),e._UZ(27,"img",20),e.qZA()(),e.TgZ(28,"div",21)(29,"a",22),e._UZ(30,"img",23),e.qZA(),e.TgZ(31,"a",24),e.NdJ("click",function(){return n.refresh()}),e._UZ(32,"img",25),e.qZA()()()()(),e.TgZ(33,"div",26)(34,"a",27),e._UZ(35,"img",28),e.qZA(),e.TgZ(36,"a",27),e._UZ(37,"img",29),e.qZA(),e.TgZ(38,"a",27),e._UZ(39,"img",30),e.qZA(),e.TgZ(40,"a",31),e._UZ(41,"img",32),e.qZA()()()(),e.TgZ(42,"div",33)(43,"table",34),e.NdJ("matSortChange",function(a){return n.sortData(a)}),e.TgZ(44,"thead")(45,"tr")(46,"th",35),e._uU(47,"Nombre"),e.qZA(),e.TgZ(48,"th",36),e._uU(49,"Fecha prevista"),e.qZA(),e.TgZ(50,"th",37),e._uU(51,"Descripcion"),e.qZA(),e.TgZ(52,"th",38),e._uU(53,"Fecha Creaci\xf3n"),e.qZA(),e._UZ(54,"th"),e.qZA()(),e.TgZ(55,"tbody"),e.YNc(56,z,20,7,"tr",39),e.qZA()(),e.TgZ(57,"div",40)(58,"div",41)(59,"div",42),e._uU(60),e.qZA()(),e.TgZ(61,"div",43)(62,"div",44)(63,"ul",45)(64,"li",46)(65,"a",47),e.NdJ("click",function(){return n.getMoreData("previous")}),e._uU(66,"Previous"),e.qZA()(),e.YNc(67,F,6,6,"ng-container",39),e.TgZ(68,"li",46)(69,"a",48),e.NdJ("click",function(){return n.getMoreData("next")}),e._uU(70,"Next "),e.qZA()()()()()()()()()()()()(),e.TgZ(71,"div",49)(72,"div",50)(73,"div",51)(74,"div",52),e._UZ(75,"img",53),e.YNc(76,G,2,1,"h3",54),e.TgZ(77,"div",55)(78,"a",56,57),e._uU(80,"Close"),e.qZA(),e.TgZ(81,"button",58),e.NdJ("click",function(){return n.removeClub()}),e._uU(82,"Delete"),e.qZA()()()()()()),2&i&&(e.xp6(25),e.Q6J("ngModel",n.searchDataValue),e.xp6(31),e.Q6J("ngForOf",n.jorneysList),e.xp6(4),e.lnq(" Showing ",n.serialNumberArray[0]," to ",n.serialNumberArray[n.serialNumberArray.length-1]," of ",n.totalData," entries "),e.xp6(4),e.Q6J("ngClass",e.VKq(9,J,1===n.currentPage)),e.xp6(3),e.Q6J("ngForOf",n.pageNumberArray),e.xp6(1),e.Q6J("ngClass",e.VKq(11,J,n.currentPage===n.pageNumberArray[n.pageNumberArray.length-1]||0===n.jorneysList.length)),e.xp6(8),e.Q6J("ngIf",n.jorney_selected))},dependencies:[u.mk,u.sg,u.O5,h.rH,h.Od,d.Fj,d.JJ,d.On,Z.YE,Z.nU]})}return o})();var L=c(4385),H=c(3238);function P(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"strong"),e._uU(3,"Error!"),e.qZA(),e._uU(4),e.TgZ(5,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.cleanMessage())}),e._UZ(6,"span",35),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.hij(" ",t.error_message," ")}}function K(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",36)(2,"strong"),e._uU(3,"Bien!"),e.qZA(),e._uU(4),e.TgZ(5,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.cleanMessage())}),e._UZ(6,"span",35),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.hij(" ",t.success_message," ")}}const I=function(o){return{active:o}};function Y(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",37),e.NdJ("click",function(){const n=e.CHM(t),r=n.$implicit,a=n.index,s=e.oxw();return e.KtG(s.tabSeleted(r.category_id,a))}),e.TgZ(2,"span",38),e._UZ(3,"img",39),e.qZA(),e._uU(4),e.qZA()()}if(2&o){const t=_.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(2,I,i.tab_selected==t.category_id)),e.xp6(3),e.Oqu(t.name)}}function $(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function B(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function V(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function R(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function W(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function X(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ee(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function te(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ne(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ie(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function oe(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function re(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ae(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"strong"),e._uU(3,"Error!"),e.qZA(),e._uU(4),e.TgZ(5,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(5);return e.KtG(n.cleanMessage())}),e._UZ(6,"span",35),e.qZA()()()}if(2&o){const t=e.oxw(5);e.xp6(4),e.hij(" ",t.error_table_message," ")}}function _e(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",36)(2,"strong"),e._uU(3,"Bien!"),e.qZA(),e._uU(4),e.TgZ(5,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(5);return e.KtG(n.cleanMessage())}),e._UZ(6,"span",35),e.qZA()()()}if(2&o){const t=e.oxw(5);e.xp6(4),e.hij(" ",t.success_table_message," ")}}const l=function(){return{standalone:!0}};function se(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",44)(2,"div",45)(3,"div",46)(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th",49),e._uU(9),e.qZA(),e.TgZ(10,"th",49),e._uU(11),e.qZA(),e.TgZ(12,"th",49),e._uU(13,"Set 1"),e.qZA(),e.TgZ(14,"th",49),e._uU(15,"Set 2"),e.qZA(),e.TgZ(16,"th",49),e._uU(17,"Set 3"),e.qZA()()(),e.TgZ(18,"tbody")(19,"tr",50)(20,"td")(21,"mat-select",51),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+1].local_player_1=n)}),e.YNc(22,$,2,2,"mat-option",52),e.qZA(),e.TgZ(23,"mat-select",53),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+1].local_player_2=n)}),e.YNc(24,B,2,2,"mat-option",52),e.qZA()(),e.TgZ(25,"td")(26,"mat-select",51),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+1].visiting_player_1=n)}),e.YNc(27,V,2,2,"mat-option",52),e.qZA(),e.TgZ(28,"mat-select",53),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+1].visiting_player_2=n)}),e.YNc(29,R,2,2,"mat-option",52),e.qZA()(),e.TgZ(30,"td")(31,"input",54),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+1].result_set_1=n)})("keypress",function(n){e.CHM(t);const r=e.oxw(4);return e.KtG(r.setValue(n))}),e.qZA()(),e.TgZ(32,"td")(33,"input",55),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+1].result_set_2=n)})("keypress",function(n){e.CHM(t);const r=e.oxw(4);return e.KtG(r.setValue(n))}),e.qZA()(),e.TgZ(34,"td")(35,"input",56),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+1].result_set_3=n)})("keypress",function(n){e.CHM(t);const r=e.oxw(4);return e.KtG(r.setValue(n))}),e.qZA()()(),e.TgZ(36,"tr",57)(37,"td")(38,"mat-select",51),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+2].local_player_1=n)}),e.YNc(39,W,2,2,"mat-option",52),e.qZA(),e.TgZ(40,"mat-select",53),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+2].local_player_2=n)}),e.YNc(41,X,2,2,"mat-option",52),e.qZA()(),e.TgZ(42,"td")(43,"mat-select",51),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+2].visiting_player_1=n)}),e.YNc(44,ee,2,2,"mat-option",52),e.qZA(),e.TgZ(45,"mat-select",53),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+2].visiting_player_2=n)}),e.YNc(46,te,2,2,"mat-option",52),e.qZA()(),e.TgZ(47,"td")(48,"input",54),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+2].result_set_1=n)})("keypress",function(n){e.CHM(t);const r=e.oxw(4);return e.KtG(r.setValue(n))}),e.qZA()(),e.TgZ(49,"td")(50,"input",55),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+2].result_set_2=n)})("keypress",function(n){e.CHM(t);const r=e.oxw(4);return e.KtG(r.setValue(n))}),e.qZA()(),e.TgZ(51,"td")(52,"input",56),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+2].result_set_3=n)})("keypress",function(n){e.CHM(t);const r=e.oxw(4);return e.KtG(r.setValue(n))}),e.qZA()()(),e.TgZ(53,"tr",58)(54,"td")(55,"mat-select",51),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+3].local_player_1=n)}),e.YNc(56,ne,2,2,"mat-option",52),e.qZA(),e.TgZ(57,"mat-select",53),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+3].local_player_2=n)}),e.YNc(58,ie,2,2,"mat-option",52),e.qZA()(),e.TgZ(59,"td")(60,"mat-select",51),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+3].visiting_player_1=n)}),e.YNc(61,oe,2,2,"mat-option",52),e.qZA(),e.TgZ(62,"mat-select",53),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+3].visiting_player_2=n)}),e.YNc(63,re,2,2,"mat-option",52),e.qZA()(),e.TgZ(64,"td")(65,"input",54),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+3].result_set_1=n)})("keypress",function(n){e.CHM(t);const r=e.oxw(4);return e.KtG(r.setValue(n))}),e.qZA()(),e.TgZ(66,"td")(67,"input",55),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+3].result_set_2=n)})("keypress",function(n){e.CHM(t);const r=e.oxw(4);return e.KtG(r.setValue(n))}),e.qZA()(),e.TgZ(68,"td")(69,"input",56),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).index,s=e.oxw(4);return e.KtG(s.player_by_team_matriz[3*a+3].result_set_3=n)})("keypress",function(n){e.CHM(t);const r=e.oxw(4);return e.KtG(r.setValue(n))}),e.qZA()()()()()(),e.TgZ(70,"div",49)(71,"button",59),e.NdJ("click",function(){const n=e.CHM(t),r=n.$implicit,a=n.index,s=e.oxw(4);return e.KtG(s.saveBoard(r,a))}),e._uU(72,"GUARDAR EQUIPOS"),e.qZA()(),e.YNc(73,ae,7,1,"div",26),e.YNc(74,_e,7,1,"div",26),e.qZA()()()()}if(2&o){const t=_.$implicit,i=_.index,n=e.oxw(4);e.xp6(9),e.Oqu(t.local_team_name),e.xp6(2),e.Oqu(t.visiting_team_name),e.xp6(10),e.Q6J("ngModel",n.player_by_team_matriz[3*i+1].local_player_1)("ngModelOptions",e.DdM(67,l)),e.xp6(1),e.Q6J("ngForOf",t.local_players),e.xp6(1),e.Q6J("ngModel",n.player_by_team_matriz[3*i+1].local_player_2)("ngModelOptions",e.DdM(68,l)),e.xp6(1),e.Q6J("ngForOf",t.local_players),e.xp6(2),e.Q6J("ngModel",n.player_by_team_matriz[3*i+1].visiting_player_1)("ngModelOptions",e.DdM(69,l)),e.xp6(1),e.Q6J("ngForOf",t.visiting_players),e.xp6(1),e.Q6J("ngModel",n.player_by_team_matriz[3*i+1].visiting_player_2)("ngModelOptions",e.DdM(70,l)),e.xp6(1),e.Q6J("ngForOf",t.visiting_players),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(71,l))("ngModel",n.player_by_team_matriz[3*i+1].result_set_1)("name",n.player_by_team_matriz[3*i+1].result_set_1),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(72,l))("ngModel",n.player_by_team_matriz[3*i+1].result_set_2)("name",n.player_by_team_matriz[3*i+1].result_set_2),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(73,l))("ngModel",n.player_by_team_matriz[3*i+1].result_set_3)("name",n.player_by_team_matriz[3*i+1].result_set_3),e.xp6(3),e.Q6J("ngModel",n.player_by_team_matriz[3*i+2].local_player_1)("ngModelOptions",e.DdM(74,l)),e.xp6(1),e.Q6J("ngForOf",t.local_players),e.xp6(1),e.Q6J("ngModel",n.player_by_team_matriz[3*i+2].local_player_2)("ngModelOptions",e.DdM(75,l)),e.xp6(1),e.Q6J("ngForOf",t.local_players),e.xp6(2),e.Q6J("ngModel",n.player_by_team_matriz[3*i+2].visiting_player_1)("ngModelOptions",e.DdM(76,l)),e.xp6(1),e.Q6J("ngForOf",t.visiting_players),e.xp6(1),e.Q6J("ngModel",n.player_by_team_matriz[3*i+2].visiting_player_2)("ngModelOptions",e.DdM(77,l)),e.xp6(1),e.Q6J("ngForOf",t.visiting_players),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(78,l))("ngModel",n.player_by_team_matriz[3*i+2].result_set_1)("name",n.player_by_team_matriz[3*i+2].result_set_1),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(79,l))("ngModel",n.player_by_team_matriz[3*i+2].result_set_2)("name",n.player_by_team_matriz[3*i+2].result_set_2),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(80,l))("ngModel",n.player_by_team_matriz[3*i+2].result_set_3)("name",n.player_by_team_matriz[3*i+2].result_set_3),e.xp6(3),e.Q6J("ngModel",n.player_by_team_matriz[3*i+3].local_player_1)("ngModelOptions",e.DdM(81,l)),e.xp6(1),e.Q6J("ngForOf",t.local_players),e.xp6(1),e.Q6J("ngModel",n.player_by_team_matriz[3*i+3].local_player_2)("ngModelOptions",e.DdM(82,l)),e.xp6(1),e.Q6J("ngForOf",t.local_players),e.xp6(2),e.Q6J("ngModel",n.player_by_team_matriz[3*i+3].visiting_player_1)("ngModelOptions",e.DdM(83,l)),e.xp6(1),e.Q6J("ngForOf",t.visiting_players),e.xp6(1),e.Q6J("ngModel",n.player_by_team_matriz[3*i+3].visiting_player_2)("ngModelOptions",e.DdM(84,l)),e.xp6(1),e.Q6J("ngForOf",t.visiting_players),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(85,l))("ngModel",n.player_by_team_matriz[3*i+3].result_set_1)("name",n.player_by_team_matriz[3*i+3].result_set_1),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(86,l))("ngModel",n.player_by_team_matriz[3*i+3].result_set_2)("name",n.player_by_team_matriz[3*i+3].result_set_2),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(87,l))("ngModel",n.player_by_team_matriz[3*i+3].result_set_3)("name",n.player_by_team_matriz[3*i+3].result_set_3),e.xp6(4),e.Q6J("ngIf",""!=n.error_table_message),e.xp6(1),e.Q6J("ngIf",""!=n.success_table_message)}}function le(o,_){if(1&o&&(e.ynx(0),e.YNc(1,se,75,88,"div",43),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.matches_category)}}function ce(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,le,2,1,"ng-container",40),e.TgZ(2,"div",41)(3,"td")(4,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.openPopup())}),e._uU(5,"A\xf1adir partido"),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1==t.flag2)}}function de(o,_){if(1&o&&(e.ynx(0),e.YNc(1,ce,6,1,"div",40),e.BQk()),2&o){const t=_.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.tab_selected==t.category_id)}}function ge(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.name," - ",t.club_name," ")}}function pe(o,_){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.name," - ",t.club_name," ")}}function me(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"strong"),e._uU(3,"Error!"),e.qZA(),e._uU(4),e.TgZ(5,"button",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.cleanMessage())}),e._UZ(6,"span",35),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.error_message_popup," ")}}function ue(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"button",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addMatchJourney())}),e._uU(1,"A\xf1adir"),e.qZA()}}function he(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",62)(2,"div",63)(3,"div",64)(4,"div",3)(5,"div",21)(6,"h3"),e._uU(7,"Crear partido"),e.qZA()()()(),e.TgZ(8,"div",65)(9,"div",66)(10,"div",15)(11,"div",15)(12,"label"),e._uU(13,"Equipo local "),e.TgZ(14,"span",16),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"mat-select",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.local_team=n)}),e.YNc(17,ge,2,3,"mat-option",52),e.qZA()()()(),e.TgZ(18,"div",65)(19,"div",66)(20,"div",15)(21,"div",15)(22,"label"),e._uU(23,"Equipo visitante "),e.TgZ(24,"span",16),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"mat-select",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.visiting_team=n)}),e.YNc(27,pe,2,3,"mat-option",52),e.qZA()()()()(),e.TgZ(28,"div",3),e.YNc(29,me,7,1,"div",26),e.qZA(),e.TgZ(30,"div",68)(31,"a",69,70),e._uU(33,"Cerrar"),e.qZA(),e.YNc(34,ue,2,0,"button",71),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(16),e.Q6J("ngModel",t.local_team)("ngModelOptions",e.DdM(8,l)),e.xp6(1),e.Q6J("ngForOf",t.list_categories[t.category_selected_id].teams),e.xp6(9),e.Q6J("ngModel",t.visiting_team)("ngModelOptions",e.DdM(9,l)),e.xp6(1),e.Q6J("ngForOf",t.list_categories[t.category_selected_id].teams),e.xp6(2),e.Q6J("ngIf",""!=t.error_message_popup),e.xp6(5),e.Q6J("ngIf",""==t.text_modal_success)}}const ye=[{path:"",component:M,children:[{path:"add-jorney",component:w},{path:"list-jorney",component:S},{path:"list-jorney/edit/:id",component:(()=>{class o{constructor(t,i){this.jorneySrv=t,this.activateRoute=i,this.routes=x._,this.name="",this.date_planned="",this.description="",this.jorney_id="",this.category_selected_id=0,this.success_message="",this.error_message="",this.tab_selected=1,this.list_categories=[],this.text_modal_success="",this.local_team="",this.visiting_team="",this.flag=!1,this.error_message_popup="",this.matches_category=[],this.game_items_data=[],this.index_array=0,this.resul_set_1_local="",this.resul_set_1_visiting="",this.resul_set_2_local="",this.resul_set_2_visiting="",this.resul_set_3_local="",this.resul_set_3_visiting="",this.player_by_team_matriz=[],this.flag2=!1,this.text_game_success="",this.text_game_fail="",this.error_table_message="",this.success_table_message=""}ngOnInit(){this.activateRoute.params.subscribe(t=>{this.jorney_id=t.id,this.getJorneySelected(),this.getCategories(),this.defaultPlayer()})}getGameItems(t=""){let i;console.log("data_items:",t),i=""!=t?t:{journey_id:this.jorney_id,category_id:this.list_categories[0].category_id},console.log("getGameItems",i),this.jorneySrv.getGameItems(i).subscribe(n=>{this.game_items_data=n.game_items,this.fillPlayers()})}getJorneySelected(){this.jorneySrv.getJorney(this.jorney_id).subscribe(t=>{this.jorney_selected=t.jorney,this.name=this.jorney_selected.name,this.description=this.jorney_selected.description,this.date_planned=new Date(this.jorney_selected.date).toISOString()})}cleanMessage(){this.error_message="",this.success_message="",this.error_message_popup="",this.text_game_success="",this.text_game_fail="",this.error_table_message="",this.success_table_message=""}save(){if(this.cleanMessage(),""==this.name||""==this.date_planned)return void(this.error_message="Los campos nombre y fecha prevista son obligatorios");let t=new FormData;t.append("name",this.name),t.append("description",this.description),t.append("date",this.date_planned),this.jorneySrv.editJorney(this.jorney_id,t).subscribe(i=>{200!=i.message?this.error_message="Ha habido un error al actualizar la jornada. Consulte con su administrador.":this.success_message="Jornada actualizada correctamente."})}getCategories(){this.flag=!1,this.jorneySrv.getCategories({journey_id:this.jorney_id}).subscribe(i=>{this.list_categories=i.categories,this.flag=!0,this.tabSeleted(this.list_categories[0].category_id,0),this.getGameItems()})}tabSeleted(t,i){this.tab_selected=t,this.category_selected_id=i;let n={journey_id:this.jorney_id,category_id:t};this.getGameItems(n),this.jorneySrv.getGameJuorneyCategory(n).subscribe(r=>{this.matches_category=r.games,console.log(this.matches_category)})}fillPlayers(){0==this.game_items_data.length?(console.log("pasamos"),this.defaultPlayer()):(console.log("fill players",this.game_items_data),this.flag2=!0,this.game_items_data.forEach(t=>{console.log(t),this.player_by_team_matriz[t.game_number]=t}))}addMatchJourney(){""!=this.local_team&&""!=this.visiting_team?this.local_team!=this.visiting_team?this.jorneySrv.createGameJourney({journey_id:this.jorney_id,category_id:this.tab_selected,local_team_id:this.local_team,visiting_team_id:this.visiting_team}).subscribe(i=>{console.log(i),window.location.reload()}):this.error_message_popup="El equipo local y visitante no puede ser el mismo":this.error_message_popup="Tienes que seleccionar ambos equipos"}openPopup(){console.log("categoria por defecto:",this.category_selected_id),console.log(this.list_categories),this.local_team="",this.visiting_team=""}saveBoard(t,i){let n=1;1==i&&(n=4);let a=n+3;for(let g=n;g<a;g++)this.jorneySrv.saveGameBoard({journey_id:this.jorney_id,category_id:this.list_categories[this.tab_selected-1].category_id,game_id:t.id,game_number:n,local_player_1:this.player_by_team_matriz[g].local_player_1?this.player_by_team_matriz[g].local_player_1:0,local_player_2:this.player_by_team_matriz[g].local_player_2?this.player_by_team_matriz[g].local_player_2:0,visiting_player_1:this.player_by_team_matriz[g].visiting_player_1?this.player_by_team_matriz[g].visiting_player_1:0,visiting_player_2:this.player_by_team_matriz[g].visiting_player_2?this.player_by_team_matriz[g].visiting_player_2:0,result_set_1:this.player_by_team_matriz[g].result_set_1?this.player_by_team_matriz[g].result_set_1:"",result_set_2:this.player_by_team_matriz[g].result_set_2?this.player_by_team_matriz[g].result_set_2:"",result_set_3:this.player_by_team_matriz[g].result_set_3?this.player_by_team_matriz[g].result_set_3:""}).subscribe(be=>{(be.message=200)&&(this.success_table_message="Jugadores a\xf1adidos a los equipos correctamente")}),n++}defaultPlayer(){let t=1;for(let i=1;i<7;i++){let n={journey_id:0,category_id:0,game_id:0,game_number:t,local_player_1:0,local_player_2:0,visiting_player_1:0,visiting_player_2:0,result_set_1:"",result_set_2:"",result_set_3:""};t++,this.player_by_team_matriz[i]=n}this.flag2=!0}setValue(t){const n=String.fromCharCode(t.charCode);/[0-7-]/.test(n)||t.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(v),e.Y36(h.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-jorney"]],decls:62,vars:11,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","text","matInput","","name","date_planned",1,"form-control","datetimepicker",3,"matDatepicker","ngModel","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],[1,"col-12","col-md-12","col-xl-12"],["name","description","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"doctor-submit","text-end"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],["type","submit",1,"btn","btn-primary","cancel-form"],["class","col-md-12 my-4",4,"ngIf"],[1,"doctor-personals-grp"],[1,"tab-content-set"],[1,"nav"],[4,"ngFor","ngForOf"],["id","add_player_modal","class","modal fade delete-modal","role","dialog",4,"ngIf"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["href","#","onclick","return false;",3,"ngClass","click"],[1,"set-about-icon","me-2"],["src","assets/img/icons/menu-icon-16.svg","alt",""],[4,"ngIf"],[1,"row","my-4"],["data-bs-toggle","modal","data-bs-target","#add_player_modal",1,"btn","btn-sm","btn-success",3,"click"],["class","row",4,"ngFor","ngForOf"],[1,"col-lg-12"],[1,"card-box"],[1,"card-block"],[1,"table-responsive"],[1,"table","mb-0"],[1,"text-center"],[1,"table-primary"],["placeholder","Selecciona jugador 1",1,"form-control","select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Selecciona jugador 2",1,"form-control","select",3,"ngModel","ngModelOptions","ngModelChange"],["placeholder","3-6","type","text",1,"form-control","text-center",3,"ngModelOptions","ngModel","name","ngModelChange","keypress"],["placeholder","6-7","type","text",1,"form-control","text-center",3,"ngModelOptions","ngModel","name","ngModelChange","keypress"],["placeholder","1-6","type","text",1,"form-control","text-center",3,"ngModelOptions","ngModel","name","ngModelChange","keypress"],[1,"table-secondary"],[1,"table-info"],[1,"btn","btn-sm","btn-primary","my-3",3,"click"],[3,"value"],["id","add_player_modal","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"row","my-4","center"],[1,"col-8","col-md-8","col-xl-8"],["placeholder","Seleciona equipo",1,"form-control","select",3,"ngModel","ngModelOptions","ngModelChange"],[1,"m-t-20","text-center"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebuttonAddPLayer",""],["type","submit","style","width: auto;","class","btn btn-primary text-white",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","text-white",2,"width","auto",3,"click"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8,"Jornadas "),e.qZA()(),e.TgZ(9,"li",6),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"li",9),e._uU(12,"Nueva jornada"),e.qZA()()()()(),e.TgZ(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"form")(18,"div",3)(19,"div",12)(20,"div",13)(21,"h4"),e._uU(22,"Datos"),e.qZA()()(),e.TgZ(23,"div",14)(24,"div",15)(25,"label"),e._uU(26,"Nombre"),e.TgZ(27,"span",16),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"input",17),e.NdJ("ngModelChange",function(a){return n.name=a}),e.qZA()()(),e.TgZ(30,"div",14)(31,"div",15)(32,"label"),e._uU(33,"Fecha Prevista "),e.TgZ(34,"span",16),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"input",18),e.NdJ("ngModelChange",function(a){return n.date_planned=a}),e.qZA(),e._UZ(37,"mat-datepicker",null,19)(39,"mat-datepicker-toggle",20),e.qZA()(),e.TgZ(40,"div",21)(41,"div",15)(42,"label"),e._uU(43,"Descripci\xf3n "),e.qZA(),e.TgZ(44,"input",22),e.NdJ("ngModelChange",function(a){return n.description=a}),e.qZA()()(),e.TgZ(45,"div",12)(46,"div",23)(47,"button",24),e.NdJ("click",function(){return n.save()}),e._uU(48,"GUARDAR"),e.qZA(),e.TgZ(49,"button",25),e._uU(50,"Cancel"),e.qZA()()(),e.YNc(51,P,7,1,"div",26),e.YNc(52,K,7,1,"div",26),e.qZA(),e.TgZ(53,"div",12)(54,"div",27)(55,"div",10)(56,"div",11)(57,"div",28)(58,"ul",29),e.YNc(59,Y,5,4,"li",30),e.qZA()(),e.YNc(60,de,2,1,"ng-container",30),e.qZA()()()()()()(),e.YNc(61,he,35,10,"div",31),e.qZA()()()()),2&i){const r=e.MAs(38);e.xp6(7),e.Q6J("routerLink",n.routes.jorneyList),e.xp6(22),e.Q6J("ngModel",n.name),e.xp6(7),e.Q6J("matDatepicker",r)("ngModel",n.date_planned),e.xp6(3),e.Q6J("for",r),e.xp6(5),e.Q6J("ngModel",n.description),e.xp6(7),e.Q6J("ngIf",""!=n.error_message),e.xp6(1),e.Q6J("ngIf",""!=n.success_message),e.xp6(7),e.Q6J("ngForOf",n.list_categories),e.xp6(1),e.Q6J("ngForOf",n.list_categories),e.xp6(1),e.Q6J("ngIf",n.flag)}},dependencies:[u.mk,u.sg,u.O5,h.rH,d._Y,d.Fj,d.JJ,d.JL,d.On,d.F,y.Mq,y.hl,y.nW,C.R9,L.gD,H.ey],styles:[".center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center!important;vertical-align:middle!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center!important}[_ngcontent-%COMP%]::placeholder{color:gray;opacity:.3}"]})}return o})()}]}];let ve=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(ye),h.Bz]})}return o})();var fe=c(6943);let xe=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[u.ez,ve,d.u5,d.UX,p.JF,h.Bz,fe.m]})}return o})()}}]);