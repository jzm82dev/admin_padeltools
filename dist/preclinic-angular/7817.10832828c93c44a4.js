"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[7817],{17817:(J,_,o)=>{o.r(_),o.d(_,{ServicesModule:()=>k});var u=o(36895),l=o(30027),p=o(46382),e=o(94650),g=o(57191),d=o(42466),c=o(24006);function h(i,r){1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"club_translations.services.action")))}function m(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"a",57),e.NdJ("click",function(){e.CHM(s);const n=e.oxw().index,a=e.oxw(2);return e.KtG(a.deleteService(n))}),e._UZ(1,"i",58),e.qZA()}}function v(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"tr",55)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e.YNc(5,m,2,0,"a",56),e.qZA()(),e.BQk()),2&i){const s=r.$implicit,t=e.oxw(2);e.xp6(3),e.hij(" ",s.name," "),e.xp6(2),e.Q6J("ngIf",1==t.can_edit)}}function f(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.save_services())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.save")))}function Z(i,r){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const s=r.$implicit;e.xp6(1),e.Oqu(s)}}function b(i,r){if(1&i&&(e.TgZ(0,"ul"),e.YNc(1,Z,2,1,"li",50),e.qZA()),2&i){const s=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",s.message_errors)}}function x(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"div",60)(1,"div",61)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",62),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.cleanMessage())}),e._UZ(7,"span",63),e.qZA(),e.YNc(8,b,2,1,"ul",49),e.qZA()()}if(2&i){const s=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,3,"commun_translations.error")),e.xp6(2),e.hij(" ",s.error_message," "),e.xp6(3),e.Q6J("ngIf",s.message_errors.length>0)}}function A(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"div",60)(1,"div",64)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",62),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.cleanMessage())}),e._UZ(7,"span",63),e.qZA()()()}if(2&i){const s=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,"commun_translations.success")),e.xp6(2),e.hij(" ",s.success_message," ")}}function T(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"div",3)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h5",18),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"form")(9,"div",20)(10,"div",3)(11,"div",21)(12,"div",17)(13,"h5",18),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",22)(17,"input",23),e.NdJ("ngModelChange",function(n){e.CHM(s);const a=e.oxw();return e.KtG(a.pool=n)}),e.qZA(),e.TgZ(18,"label",24),e._uU(19,"checkbox"),e.qZA()()(),e.TgZ(20,"div",17)(21,"h5",18),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",22)(25,"input",25),e.NdJ("ngModelChange",function(n){e.CHM(s);const a=e.oxw();return e.KtG(a.gym=n)}),e.qZA(),e.TgZ(26,"label",26),e._uU(27,"checkbox"),e.qZA()()(),e.TgZ(28,"div",17)(29,"h5",18),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",22)(33,"input",27),e.NdJ("ngModelChange",function(n){e.CHM(s);const a=e.oxw();return e.KtG(a.playroom=n)}),e.qZA(),e.TgZ(34,"label",28),e._uU(35,"checkbox"),e.qZA()()()(),e.TgZ(36,"div",21)(37,"div",17)(38,"h5",18),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"div",22)(42,"input",29),e.NdJ("ngModelChange",function(n){e.CHM(s);const a=e.oxw();return e.KtG(a.cafe=n)}),e.qZA(),e.TgZ(43,"label",30),e._uU(44,"checkbox"),e.qZA()()(),e.TgZ(45,"div",17)(46,"h5",18),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",22)(50,"input",31),e.NdJ("ngModelChange",function(n){e.CHM(s);const a=e.oxw();return e.KtG(a.restaurant=n)}),e.qZA(),e.TgZ(51,"label",32),e._uU(52,"checkbox"),e.qZA()()(),e.TgZ(53,"div",17)(54,"h5",18),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"div",22)(58,"input",33),e.NdJ("ngModelChange",function(n){e.CHM(s);const a=e.oxw();return e.KtG(a.shop=n)}),e.qZA(),e.TgZ(59,"label",34),e._uU(60,"checkbox"),e.qZA()()()()(),e.TgZ(61,"div",35)(62,"div",17)(63,"h5",18),e._uU(64),e.ALo(65,"translate"),e.qZA()(),e.TgZ(66,"form")(67,"div",36)(68,"div",37)(69,"div",38)(70,"div",39)(71,"div",40)(72,"label"),e._uU(73),e.ALo(74,"translate"),e.TgZ(75,"span",41),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"input",42),e.NdJ("ngModelChange",function(n){e.CHM(s);const a=e.oxw();return e.KtG(a.name_service=n)}),e.qZA()()(),e.TgZ(78,"div",43)(79,"a",44),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.addService())}),e._UZ(80,"i",45),e.qZA()()()(),e.TgZ(81,"div",46)(82,"div",47)(83,"table",48)(84,"thead")(85,"tr")(86,"th"),e._uU(87),e.ALo(88,"translate"),e.qZA(),e.YNc(89,h,3,3,"th",49),e.qZA()(),e.TgZ(90,"tbody"),e.YNc(91,v,6,2,"ng-container",50),e.qZA()()()()()()(),e.TgZ(92,"div",51)(93,"div",52),e.YNc(94,f,3,3,"button",53),e.qZA()(),e.YNc(95,x,9,5,"div",54),e.YNc(96,A,8,4,"div",54),e.qZA()()()()()()}if(2&i){const s=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,22,"club_translations.services.title")),e.xp6(9),e.Oqu(e.lcZ(15,24,"club_translations.services.pool")),e.xp6(3),e.Q6J("ngModel",s.pool),e.xp6(5),e.Oqu(e.lcZ(23,26,"club_translations.services.gym")),e.xp6(3),e.Q6J("ngModel",s.gym),e.xp6(5),e.Oqu(e.lcZ(31,28,"club_translations.services.playroon")),e.xp6(3),e.Q6J("ngModel",s.playroom),e.xp6(6),e.Oqu(e.lcZ(40,30,"club_translations.services.cafe")),e.xp6(3),e.Q6J("ngModel",s.cafe),e.xp6(5),e.Oqu(e.lcZ(48,32,"club_translations.services.restaurant")),e.xp6(3),e.Q6J("ngModel",s.restaurant),e.xp6(5),e.Oqu(e.lcZ(56,34,"club_translations.services.shop")),e.xp6(3),e.Q6J("ngModel",s.shop),e.xp6(6),e.Oqu(e.lcZ(65,36,"club_translations.services.more_service")),e.xp6(9),e.hij("",e.lcZ(74,38,"club_translations.services.name")," "),e.xp6(4),e.Q6J("ngModel",s.name_service),e.xp6(10),e.Oqu(e.lcZ(88,40,"club_translations.services.more_service")),e.xp6(2),e.Q6J("ngIf",1==s.can_edit),e.xp6(2),e.Q6J("ngForOf",s.new_services),e.xp6(3),e.Q6J("ngIf",1==s.can_edit),e.xp6(1),e.Q6J("ngIf",""!=s.error_message),e.xp6(1),e.Q6J("ngIf",""!=s.success_message)}}const q=[{path:"",component:(()=>{const r=class{constructor(t,n){this.clubSrv=t,this.translate=n,this.routes=p._,this.isLoaded=!1,this.name="",this.club_manager="",this.can_edit=!1,this.name_service="",this.new_services=[],this.error_message="",this.success_message="",this.message_errors=[],this.translations=[]}ngOnInit(){this.isLoaded=!0,this.initializeLanguage(),this.user=this.clubSrv.authSrv.user,this.hasPermission(),this.clubSrv.getServices().subscribe(t=>{this.data_service=t,null!=this.data_service.club_services&&(this.pool=1==this.data_service.club_services.pool,this.gym=1==this.data_service.club_services.gym,this.playroom=1==this.data_service.club_services.playroom,this.cafe=1==this.data_service.club_services.cafe,this.restaurant=1==this.data_service.club_services.restaurant,this.shop=1==this.data_service.club_services.shop),null!=this.data_service.more_services&&(this.new_services=this.data_service.more_services)})}initializeLanguage(){this.translate.use(this.clubSrv.authSrv.language),this.translate.setDefaultLang(this.clubSrv.authSrv.language),this.translate.get(["commun_translations"]).subscribe(t=>{this.translations=t})}cleanMessage(){this.error_message="",this.success_message="",this.message_errors=[]}hasPermission(t=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes("edit_club"))&&(this.can_edit=!0,!0)}addService(){this.name_service?(this.new_services.push({name:this.name_service}),this.name_service=""):this.error_message="El nombre del servicio es obligatorios"}deleteService(t){this.new_services.splice(t,1)}save_services(){let t=new FormData;t.append("pool",this.pool?"1":"0"),t.append("gym",this.gym?"1":"0"),t.append("playroom",this.playroom?"1":"0"),t.append("cafe",this.cafe?"1":"0"),t.append("restaurant",this.restaurant?"1":"0"),t.append("shop",this.shop?"1":"0"),console.log(this.new_services),t.append("more_services",JSON.stringify(this.new_services)),this.clubSrv.storeServices(t).subscribe(n=>{200==n.message?this.success_message=this.translations.commun_translations.data_save_correctly:422==n.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=n.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}};let i=r;return r.\u0275fac=function(n){return new(n||r)(e.Y36(g.I),e.Y36(d.sK))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-services"]],decls:41,vars:31,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"],[1,"feather","icon-chevron-right"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-item","active"],["class","row",4,"ngIf"],[1,"col-md-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"card-body","pt-0"],[1,"settings-form"],[1,"col-md-6"],[1,"status-toggle","d-flex","justify-content-between","align-items-center"],["type","checkbox","id","pool","name","pool",1,"check",3,"ngModel","ngModelChange"],["for","pool",1,"checktoggle"],["type","checkbox","id","gym","name","gym",1,"check",3,"ngModel","ngModelChange"],["for","gym",1,"checktoggle"],["type","checkbox","id","playroom","name","playroom",1,"check",3,"ngModel","ngModelChange"],["for","playroom",1,"checktoggle"],["type","checkbox","id","cafe","name","cafe",1,"check",3,"ngModel","ngModelChange"],["for","cafe",1,"checktoggle"],["type","checkbox","id","restaurant","name","restaurant",1,"check",3,"ngModel","ngModelChange"],["for","restaurant",1,"checktoggle"],["type","checkbox","id","shop","name","shop",1,"check",3,"ngModel","ngModelChange"],["for","shop",1,"checktoggle"],[1,"row","my-4"],[1,"row","col-12"],[1,"col-6"],[1,"row","settings-form"],[1,"col-9"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name_service","type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-2"],["href","javascript:void(0);",1,"btn","trash",3,"click"],[1,"fa","fa-plus","me-1"],[1,"col-6","settings-form"],[1,"table-responsive"],[1,"table","mb-0"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"form-group","mb-0","text-end","my-4"],[1,"settings-btns"],["type","submit","class","border-0 btn btn-primary btn-gradient-primary btn-rounded",3,"click",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[1,"align-items-center"],["href","javascript:void(0);","class","btn trash trash-style",3,"click",4,"ngIf"],["href","javascript:void(0);",1,"btn","trash","trash-style",3,"click"],[1,"feather","icon-trash-2","service"],["type","submit",1,"border-0","btn","btn-primary","btn-gradient-primary","btn-rounded",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"li",7),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"li",6),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()(),e.TgZ(14,"div",9)(15,"ul",10)(16,"li",11)(17,"a",12),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"li",11)(21,"a",12),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"li",11)(25,"a",12),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"li",11)(29,"a",12),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"li",13)(33,"a",12),e._uU(34),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"li",11)(37,"a",12),e._uU(38),e.ALo(39,"translate"),e.qZA()()()(),e.YNc(40,T,97,42,"div",14),e.qZA()()),2&n&&(e.xp6(7),e.Oqu(e.lcZ(8,15,"club_translations.dashboard")),e.xp6(5),e.Oqu(e.lcZ(13,17,"club_translations.club")),e.xp6(5),e.Q6J("routerLink",a.routes.club),e.xp6(1),e.Oqu(e.lcZ(19,19,"club_translations.tabs.general_data")),e.xp6(3),e.Q6J("routerLink",a.routes.description),e.xp6(1),e.Oqu(e.lcZ(23,21,"club_translations.tabs.description")),e.xp6(3),e.Q6J("routerLink",a.routes.clubSchedule),e.xp6(1),e.Oqu(e.lcZ(27,23,"club_translations.tabs.schedule")),e.xp6(3),e.Q6J("routerLink",a.routes.clubCourts),e.xp6(1),e.Oqu(e.lcZ(31,25,"club_translations.tabs.courts")),e.xp6(3),e.Q6J("routerLink",a.routes.clubServices),e.xp6(1),e.Oqu(e.lcZ(35,27,"club_translations.tabs.services")),e.xp6(3),e.Q6J("routerLink",a.routes.clubSocialLinks),e.xp6(1),e.Oqu(e.lcZ(39,29,"club_translations.tabs.social_links")),e.xp6(2),e.Q6J("ngIf",a.isLoaded))},dependencies:[u.sg,u.O5,l.rH,c._Y,c.Fj,c.Wl,c.JJ,c.JL,c.On,c.F,d.X$],styles:[".settings-form[_ngcontent-%COMP%]   .trash-style[_ngcontent-%COMP%]{width:30px!important;height:30px!important}"]}),i})()}];let C=(()=>{const r=class{};let i=r;return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[l.Bz.forChild(q),l.Bz]}),i})();var y=o(80529),M=o(25108);let k=(()=>{const r=class{};let i=r;return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.ez,C,c.u5,c.UX,y.JF,l.Bz,M.m]}),i})()}}]);