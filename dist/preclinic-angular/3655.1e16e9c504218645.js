"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[3655],{3655:($t,v,_)=>{_.r(v),_.d(v,{TournamentModule:()=>Et});var u=_(6895),d=_(27),A=_(6382),C=_(5226),p=_.n(C),t=_(4650),y=_(7191),b=_(3296),q=_(3182),x=_(2466),Z=_(3238),l=_(4006),h=_(3125),w=_(9549),J=_(4385);const M=["closebutton"],U=["closebutton_delete_draws"];function k(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.tabSeleted(2))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"tournaments.schedule")))}function N(e,a){1&e&&(t.TgZ(0,"a",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"tournaments.schedule")))}function Q(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.tabSeleted(3))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"leagues.categories")))}function L(e,a){1&e&&(t.TgZ(0,"a",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"leagues.categories")))}const O=function(e){return["/category/draw/all-matchs",e]};function I(e,a){if(1&e&&(t.TgZ(0,"li",31)(1,"a",32),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(4,O,n.id_tournament)),t.xp6(1),t.Oqu(t.lcZ(3,2,"tournaments.match_schedule"))}}const Y=function(e){return["/category/draw/all-players",e]};function K(e,a){if(1&e&&(t.TgZ(0,"li",31)(1,"a",32),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(4,Y,n.id_tournament)),t.xp6(1),t.Oqu(t.lcZ(3,2,"tournaments.payments"))}}function S(e,a){if(1&e&&(t.TgZ(0,"mat-option",68),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij(" ",n.name," ")}}function F(e,a){if(1&e&&(t.TgZ(0,"mat-option",68),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("value",n.format_hour),t.xp6(1),t.hij(" ",n.format_hour," ")}}function j(e,a){if(1&e&&(t.TgZ(0,"mat-option",68),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("value",n.format_hour),t.xp6(1),t.hij(" ",n.format_hour," ")}}function G(e,a){if(1&e&&(t.TgZ(0,"div",69),t._UZ(1,"img",70),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("src",n.image_preview,t.LSH)}}function H(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.save("1"))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"tournaments.save_as_draft")))}function D(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"button",72),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.save("0"))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"tournaments.publish")))}function E(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"button",72),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.save("0"))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commun_translations.save")))}function P(e,a){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n)}}function $(e,a){if(1&e&&(t.TgZ(0,"ul"),t.YNc(1,P,2,1,"li",77),t.qZA()),2&e){const n=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",n.message_errors)}}function B(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",73)(1,"div",74)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",75),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.cleanMessage())}),t._UZ(7,"span",76),t.qZA(),t.YNc(8,$,2,1,"ul",23),t.qZA()()}if(2&e){const n=t.oxw(3);t.xp6(3),t.hij("",t.lcZ(4,3,"commun_translations.error")," "),t.xp6(2),t.hij(" ",n.error_message," "),t.xp6(3),t.Q6J("ngIf",n.message_errors.length>0)}}function V(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",73)(1,"div",78)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",75),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.cleanMessage())}),t._UZ(7,"span",76),t.qZA()()()}if(2&e){const n=t.oxw(3);t.xp6(3),t.hij("",t.lcZ(4,2,"commun_translations.success")," "),t.xp6(2),t.hij(" ",n.success_message," ")}}const m=function(){return{standalone:!0}};function z(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",35)(1,"form")(2,"div",3)(3,"div",36)(4,"div",37)(5,"h4"),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"div",38)(9,"div",39)(10,"label"),t._uU(11),t.ALo(12,"translate"),t.TgZ(13,"span",40),t._uU(14,"*"),t.qZA()(),t.TgZ(15,"input",41),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.name=i)}),t.qZA()()(),t.TgZ(16,"div",38)(17,"div",39)(18,"label"),t._uU(19),t.ALo(20,"translate"),t.TgZ(21,"span",40),t._uU(22,"*"),t.qZA()(),t.TgZ(23,"mat-select",42),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.type_sport=i)}),t.ALo(24,"translate"),t.YNc(25,S,2,2,"mat-option",43),t.qZA()()(),t.TgZ(26,"div",38)(27,"div",39)(28,"label"),t._uU(29),t.ALo(30,"translate"),t.TgZ(31,"span",40),t._uU(32,"*"),t.qZA()(),t.TgZ(33,"input",44),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.date_start=i)}),t.qZA(),t._UZ(34,"mat-datepicker",null,45)(36,"mat-datepicker-toggle",46),t.qZA()(),t.TgZ(37,"div",38)(38,"div",39)(39,"label"),t._uU(40),t.ALo(41,"translate"),t.TgZ(42,"span",40),t._uU(43,"*"),t.qZA()(),t.TgZ(44,"input",47),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.date_end=i)}),t.qZA(),t._UZ(45,"mat-datepicker",null,48)(47,"mat-datepicker-toggle",46),t.qZA()(),t.TgZ(48,"div",38)(49,"div",39)(50,"label"),t._uU(51),t.ALo(52,"translate"),t.TgZ(53,"span",40),t._uU(54,"*"),t.qZA()(),t.TgZ(55,"input",49),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.date_starts_registration=i)}),t.qZA(),t._UZ(56,"mat-datepicker",null,50)(58,"mat-datepicker-toggle",46),t.qZA()(),t.TgZ(59,"div",51)(60,"div",39)(61,"label"),t._uU(62,"At "),t.TgZ(63,"span",40),t._uU(64,"*"),t.qZA()(),t.TgZ(65,"mat-select",42),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.hour_starts_registration=i)}),t.ALo(66,"translate"),t.YNc(67,F,2,2,"mat-option",43),t.qZA()()(),t.TgZ(68,"div",38)(69,"div",39)(70,"label"),t._uU(71),t.ALo(72,"translate"),t.TgZ(73,"span",40),t._uU(74,"*"),t.qZA()(),t.TgZ(75,"input",52),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.date_ends_registration=i)}),t.qZA(),t._UZ(76,"mat-datepicker",null,53)(78,"mat-datepicker-toggle",46),t.qZA()(),t.TgZ(79,"div",51)(80,"div",39)(81,"label"),t._uU(82,"At "),t.TgZ(83,"span",40),t._uU(84,"*"),t.qZA()(),t.TgZ(85,"mat-select",42),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.hour_ends_registration=i)}),t.ALo(86,"translate"),t.YNc(87,j,2,2,"mat-option",43),t.qZA()()(),t.TgZ(88,"div",38)(89,"div",39)(90,"label"),t._uU(91),t.ALo(92,"translate"),t.TgZ(93,"span",40),t._uU(94,"*"),t.qZA()(),t.TgZ(95,"input",54),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.price=i)}),t.qZA()()(),t.TgZ(96,"div",38)(97,"div",39)(98,"label"),t._uU(99),t.ALo(100,"translate"),t.TgZ(101,"span",40),t._uU(102,"*"),t.qZA()(),t.TgZ(103,"input",55),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.price_member=i)}),t.qZA()()(),t.TgZ(104,"div",38)(105,"div",39)(106,"label"),t._uU(107),t.ALo(108,"translate"),t.TgZ(109,"span",40),t._uU(110,"*"),t.qZA()(),t.TgZ(111,"input",56),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.time_per_match=i)}),t.qZA()()(),t.TgZ(112,"div",57)(113,"div",58)(114,"label",59),t._uU(115),t.ALo(116,"translate"),t.qZA(),t.TgZ(117,"div",60)(118,"input",61),t.NdJ("change",function(i){t.CHM(n);const o=t.oxw(2);return t.KtG(o.loadFile(i))}),t.qZA(),t.TgZ(119,"label",62),t._uU(120),t.ALo(121,"translate"),t.qZA()()()(),t.YNc(122,G,2,1,"div",63),t.TgZ(123,"div",36)(124,"div",64),t.YNc(125,H,3,3,"button",65),t.YNc(126,D,3,3,"button",66),t.YNc(127,E,3,3,"button",66),t.qZA()(),t.YNc(128,B,9,5,"div",67),t.YNc(129,V,8,4,"div",67),t.qZA()()()}if(2&e){const n=t.MAs(35),s=t.MAs(46),i=t.MAs(57),o=t.MAs(77),r=t.oxw(2);t.xp6(6),t.Oqu(t.lcZ(7,46,"leagues.data")),t.xp6(5),t.Oqu(t.lcZ(12,48,"tournaments.name")),t.xp6(4),t.Q6J("ngModel",r.name),t.xp6(4),t.hij("",t.lcZ(20,50,"club_translations.sport")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(24,52,"club_translations.select_sport_type")),t.Q6J("ngModel",r.type_sport)("ngModelOptions",t.DdM(76,m)),t.xp6(2),t.Q6J("ngForOf",r.kind_sport),t.xp6(4),t.hij("",t.lcZ(30,54,"tournaments.start_date")," "),t.xp6(4),t.Q6J("ngModel",r.date_start)("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(4),t.hij("",t.lcZ(41,56,"tournaments.end_date")," "),t.xp6(4),t.Q6J("ngModel",r.date_end)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(4),t.hij("",t.lcZ(52,58,"tournaments.start_registration")," "),t.xp6(4),t.Q6J("ngModel",r.date_starts_registration)("matDatepicker",i),t.xp6(3),t.Q6J("for",i),t.xp6(7),t.s9C("placeholder",t.lcZ(66,60,"club_translations.schedule.hour")),t.Q6J("ngModel",r.hour_starts_registration)("ngModelOptions",t.DdM(77,m)),t.xp6(2),t.Q6J("ngForOf",r.hours),t.xp6(4),t.hij("",t.lcZ(72,62,"tournaments.end_registration")," "),t.xp6(4),t.Q6J("ngModel",r.date_ends_registration)("matDatepicker",o),t.xp6(3),t.Q6J("for",o),t.xp6(7),t.s9C("placeholder",t.lcZ(86,64,"club_translations.schedule.hour")),t.Q6J("ngModel",r.hour_ends_registration)("ngModelOptions",t.DdM(78,m)),t.xp6(2),t.Q6J("ngForOf",r.hours),t.xp6(4),t.Oqu(t.lcZ(92,66,"tournaments.price")),t.xp6(4),t.Q6J("ngModel",r.price),t.xp6(4),t.Oqu(t.lcZ(100,68,"tournaments.member_price")),t.xp6(4),t.Q6J("ngModel",r.price_member),t.xp6(4),t.Oqu(t.lcZ(108,70,"tournaments.time_match")),t.xp6(4),t.Q6J("ngModel",r.time_per_match),t.xp6(4),t.hij("",t.lcZ(116,72,"leagues.logo")," "),t.xp6(5),t.Oqu(t.lcZ(121,74,"leagues.form_select_img")),t.xp6(2),t.Q6J("ngIf",r.image_preview),t.xp6(3),t.Q6J("ngIf",r.hasPermission("edit_tournament")),t.xp6(1),t.Q6J("ngIf",r.hasPermission("edit_tournament")&&"1"==r.is_draft),t.xp6(1),t.Q6J("ngIf",r.hasPermission("edit_tournament")&&"0"==r.is_draft),t.xp6(1),t.Q6J("ngIf",""!=r.error_message),t.xp6(1),t.Q6J("ngIf",""!=r.success_message)}}function R(e,a){if(1&e&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",33),t.YNc(3,z,130,79,"div",34),t.qZA()()()),2&e){const n=t.oxw();t.xp6(3),t.Q6J("ngIf",1==n.loaded)}}function X(e,a){if(1&e&&(t.TgZ(0,"mat-option",68),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("value",n.format_hour),t.xp6(1),t.hij(" ",n.format_hour," ")}}function W(e,a){if(1&e&&(t.TgZ(0,"mat-option",68),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("value",n.format_hour),t.xp6(1),t.hij(" ",n.format_hour," ")}}function tt(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",87)(1,"div",88)(2,"div",36)(3,"div",39)(4,"label"),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"span",40),t._uU(8,"*"),t.qZA()(),t.TgZ(9,"input",89),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(3);return t.KtG(o.date_schedule=i)}),t.qZA(),t._UZ(10,"mat-datepicker",null,90)(12,"mat-datepicker-toggle",46),t.qZA(),t.TgZ(13,"div",39)(14,"label"),t._uU(15),t.ALo(16,"translate"),t.TgZ(17,"span",40),t._uU(18,"*"),t.qZA()(),t.TgZ(19,"mat-select",42),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(3);return t.KtG(o.opening_time=i)}),t.ALo(20,"translate"),t.YNc(21,X,2,2,"mat-option",43),t.qZA()(),t.TgZ(22,"div",39)(23,"label"),t._uU(24),t.ALo(25,"translate"),t.TgZ(26,"span",40),t._uU(27,"*"),t.qZA()(),t.TgZ(28,"mat-select",42),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(3);return t.KtG(o.closing_time=i)}),t.ALo(29,"translate"),t.YNc(30,W,2,2,"mat-option",43),t.qZA()(),t.TgZ(31,"div",39)(32,"div",91)(33,"button",92),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.addSchedule())}),t._uU(34,"GUARDAR"),t.qZA()()()()()()}if(2&e){const n=t.MAs(11),s=t.oxw(3);t.xp6(5),t.hij("",t.lcZ(6,16,"tournaments.day")," "),t.xp6(4),t.Q6J("min",s.date_start)("max",s.date_end)("ngModel",s.date_schedule)("matDatepicker",n),t.xp6(3),t.Q6J("for",n),t.xp6(3),t.hij("",t.lcZ(16,18,"tournaments.start_hour")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(20,20,"club_translations.schedule.hour")),t.Q6J("ngModel",s.opening_time)("ngModelOptions",t.DdM(26,m)),t.xp6(2),t.Q6J("ngForOf",s.hours),t.xp6(3),t.hij("",t.lcZ(25,22,"tournaments.end_hour")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(29,24,"club_translations.schedule.hour")),t.Q6J("ngModel",s.closing_time)("ngModelOptions",t.DdM(27,m)),t.xp6(2),t.Q6J("ngForOf",s.hours)}}function et(e,a){1&e&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commun_translations.action")))}function nt(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"td")(1,"a",94),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(),o=i.$implicit,r=i.index,c=t.oxw(3);return t.KtG(c.selectItem(o,r,1))}),t._UZ(2,"i",95),t.qZA(),t.TgZ(3,"a",96),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(),o=i.$implicit,r=i.index,c=t.oxw(3);return t.KtG(c.selectSchedule(o,r))}),t._UZ(4,"i",97),t.qZA()()}}function st(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",93)(2,"td"),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.YNc(9,nt,5,0,"td",23),t.qZA(),t.BQk()),2&e){const n=a.$implicit,s=t.oxw(3);t.xp6(3),t.hij(" ",t.xi3(4,4,n.date,"dd/MM/yyyy")," "),t.xp6(3),t.hij(" ",n.opening_time," "),t.xp6(2),t.hij(" ",n.closing_time," "),t.xp6(1),t.Q6J("ngIf",1==s.can_edit)}}function it(e,a){1&e&&(t.TgZ(0,"tr")(1,"td",98),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"tournaments.no_schedule_created")))}function at(e,a){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n)}}function ot(e,a){if(1&e&&(t.TgZ(0,"ul"),t.YNc(1,at,2,1,"li",77),t.qZA()),2&e){const n=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",n.message_errors_schedule)}}function rt(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",73)(1,"div",74)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",75),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.cleanMessage())}),t._UZ(7,"span",76),t.qZA(),t.YNc(8,ot,2,1,"ul",23),t.qZA()()}if(2&e){const n=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,3,"commun_translations.error")),t.xp6(2),t.hij(" ",n.error_message_schedule," "),t.xp6(3),t.Q6J("ngIf",n.message_errors_schedule.length>0)}}function _t(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",73)(1,"div",78)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",75),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.cleanMessage())}),t._UZ(7,"span",76),t.qZA()()()}if(2&e){const n=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,2,"commun_translations.success")),t.xp6(2),t.hij(" ",n.success_message_schedule," ")}}function ct(e,a){if(1&e&&(t.TgZ(0,"div",35)(1,"form")(2,"div",3),t.ynx(3),t.TgZ(4,"div",79)(5,"div",80)(6,"h5",81),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"p"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"form")(13,"div",82),t.YNc(14,tt,35,28,"div",83),t.TgZ(15,"div",84)(16,"div",85)(17,"table",86)(18,"thead")(19,"tr")(20,"th"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"th"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.YNc(29,et,3,3,"th",23),t.qZA()(),t.TgZ(30,"tbody"),t.YNc(31,st,10,7,"ng-container",77),t.YNc(32,it,4,3,"tr",23),t.qZA()()()()(),t.TgZ(33,"div",3),t.YNc(34,rt,9,5,"div",67),t.YNc(35,_t,8,4,"div",67),t.qZA()()(),t.BQk(),t.qZA()()()),2&e){const n=t.oxw(2);t.xp6(7),t.hij("",t.lcZ(8,11,"tournaments.schedule")," "),t.xp6(3),t.hij("(*) ",t.lcZ(11,13,"tournaments.default_schedule"),""),t.xp6(4),t.Q6J("ngIf",n.hasPermission("register_tournament")),t.xp6(7),t.Oqu(t.lcZ(22,15,"tournaments.day")),t.xp6(3),t.Oqu(t.lcZ(25,17,"tournaments.start_hour")),t.xp6(3),t.Oqu(t.lcZ(28,19,"tournaments.end_hour")),t.xp6(2),t.Q6J("ngIf",1==n.can_edit),t.xp6(2),t.Q6J("ngForOf",n.schedule_list),t.xp6(1),t.Q6J("ngIf",0==n.schedule_list.length),t.xp6(2),t.Q6J("ngIf",""!=n.error_message_schedule),t.xp6(1),t.Q6J("ngIf",""!=n.success_message_schedule)}}function lt(e,a){if(1&e&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",33),t.YNc(3,ct,36,21,"div",34),t.qZA()()()),2&e){const n=t.oxw();t.xp6(3),t.Q6J("ngIf",1==n.loaded)}}function ut(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",87)(1,"div",88)(2,"div",99)(3,"div",39)(4,"label"),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"span",40),t._uU(8,"*"),t.qZA()(),t.TgZ(9,"input",100),t.NdJ("ngModelChange",function(i){t.CHM(n);const o=t.oxw(3);return t.KtG(o.name_category=i)}),t.qZA()()(),t.TgZ(10,"div",39)(11,"div",101)(12,"button",92),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.addCategory())}),t._uU(13,"GUARDAR"),t.qZA()()()()()}if(2&e){const n=t.oxw(3);t.xp6(5),t.hij("",t.lcZ(6,2,"leagues.name")," "),t.xp6(4),t.Q6J("ngModel",n.name_category)}}function dt(e,a){1&e&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commun_translations.remove")))}function mt(e,a){1&e&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"leagues.setting")))}function gt(e,a){1&e&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commun_translations.view")))}const g=function(e){return{incomplete_category:e}};function pt(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"td",103)(1,"a",94),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(),o=i.$implicit,r=i.index,c=t.oxw(3);return t.KtG(c.selectItem(o,r,2))}),t._UZ(2,"i",95),t.qZA()()}if(2&e){const n=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(1,g,0==n.type||0==n.total_couple))}}const T=function(e){return["/category/data",e,1]};function ht(e,a){if(1&e&&(t.TgZ(0,"td",103)(1,"a",105),t._UZ(2,"img",106),t.qZA()()),2&e){const n=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(2,g,0==n.type||0==n.total_couple)),t.xp6(1),t.Q6J("routerLink",t.VKq(4,T,n.id))}}function ft(e,a){if(1&e&&(t.TgZ(0,"td",103)(1,"a",105),t._UZ(2,"img",106),t.qZA()()),2&e){const n=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(2,g,0==n.type||0==n.total_couple)),t.xp6(1),t.Q6J("routerLink",t.VKq(4,T,n.id))}}const vt=function(e){return{"table-primary":e}};function xt(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"tr",102)(2,"td",103),t._uU(3),t.qZA(),t.TgZ(4,"td",103),t._uU(5),t.qZA(),t.YNc(6,pt,3,3,"td",104),t.YNc(7,ht,3,6,"td",104),t.YNc(8,ft,3,6,"td",104),t.qZA(),t.BQk()),2&e){const n=a.$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(9,vt,0!=n.type)),t.xp6(1),t.Q6J("ngClass",t.VKq(11,g,0==n.type||0==n.total_couple)),t.xp6(1),t.AsE(" ",n.name," (",n.total_couple,") "),t.xp6(1),t.Q6J("ngClass",t.VKq(13,g,0==n.type||0==n.total_couple)),t.xp6(1),t.hij(" ",n.type_name," "),t.xp6(1),t.Q6J("ngIf",1==s.can_edit),t.xp6(1),t.Q6J("ngIf",1==s.can_edit),t.xp6(1),t.Q6J("ngIf",0==s.can_edit)}}function Zt(e,a){1&e&&(t.TgZ(0,"tr")(1,"td",98),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"tournaments.no_category_created")))}function Tt(e,a){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n)}}function At(e,a){if(1&e&&(t.TgZ(0,"ul"),t.YNc(1,Tt,2,1,"li",77),t.qZA()),2&e){const n=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",n.message_errors_category)}}function Ct(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",73)(1,"div",74)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",75),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.cleanMessage())}),t._UZ(7,"span",76),t.qZA(),t.YNc(8,At,2,1,"ul",23),t.qZA()()}if(2&e){const n=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,3,"commun_translations.error")),t.xp6(2),t.hij(" ",n.error_message_category," "),t.xp6(3),t.Q6J("ngIf",n.message_errors_category.length>0)}}function yt(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",73)(1,"div",78)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",75),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.cleanMessage())}),t._UZ(7,"span",76),t.qZA()()()}if(2&e){const n=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,2,"commun_translations.success")),t.xp6(2),t.hij(" ",n.success_message_category," ")}}function bt(e,a){if(1&e&&(t.TgZ(0,"li")(1,"div",110)(2,"div",111)(3,"span"),t._uU(4),t.qZA()()()()),2&e){const n=a.$implicit;t.xp6(4),t.hij(" ",n,"")}}function qt(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",79)(2,"div",107)(3,"div",33)(4,"div",35)(5,"div",108)(6,"div",109)(7,"ul"),t.YNc(8,bt,5,1,"li",77),t.qZA()()()()()()(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(8),t.Q6J("ngForOf",n.messages)}}function wt(e,a){1&e&&(t.TgZ(0,"div",116)(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.hij("",t.lcZ(3,3,"tournaments.draw_to_be_defined"),". "),t.xp6(3),t.hij(" ",t.lcZ(6,5,"tournaments.no_draw"),"."),t.xp6(3),t.hij("",t.lcZ(9,7,"tournaments.create_draw_text"),"."))}function Jt(e,a){1&e&&(t.TgZ(0,"div",117)(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()()()),2&e&&(t.xp6(2),t.hij("",t.lcZ(3,2,"tournaments.draw_to_be_defined"),". "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"tournaments.no_draw_no_couples"),"."))}function Mt(e,a){1&e&&(t.TgZ(0,"div",117)(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.hij("",t.lcZ(3,3,"tournaments.torunament_setup"),". "),t.xp6(3),t.hij(" ",t.lcZ(6,5,"tournaments.torunament_setup_info"),"."),t.xp6(3),t.hij("",t.lcZ(9,7,"tournaments.consult_categories"),"."))}function Ut(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",118)(1,"div",119)(2,"button",120),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(4);return t.KtG(i.configureDraw())}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"tournaments.create_tournament")))}function kt(e,a){1&e&&(t.TgZ(0,"div",118)(1,"div",119)(2,"a",121),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"tournaments.reset_tournament")))}function Nt(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",79)(2,"div",107)(3,"div",33)(4,"div",35)(5,"div",108)(6,"div",109)(7,"ul",112)(8,"li")(9,"div",110),t.YNc(10,wt,10,9,"div",113),t.YNc(11,Jt,7,6,"div",114),t.YNc(12,Mt,10,9,"div",114),t.qZA()()(),t.YNc(13,Ut,5,3,"div",115),t.YNc(14,kt,5,3,"div",115),t.qZA()()()()()(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(10),t.Q6J("ngIf",0==n.category_no_couple&&0==n.draw_generated),t.xp6(1),t.Q6J("ngIf",1==n.category_no_couple&&0==n.draw_generated),t.xp6(1),t.Q6J("ngIf",1==n.draw_generated),t.xp6(1),t.Q6J("ngIf",0==n.category_no_couple&&n.hasPermission("edit_league")&&0==n.draw_generated),t.xp6(1),t.Q6J("ngIf",0==n.category_no_couple&&n.hasPermission("edit_league")&&1==n.draw_generated)}}function Qt(e,a){if(1&e&&(t.TgZ(0,"div",35)(1,"form")(2,"div",3),t.ynx(3),t.TgZ(4,"div",79)(5,"div",80)(6,"h5",81),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"form")(10,"div",82),t.YNc(11,ut,14,4,"div",83),t.TgZ(12,"div",84)(13,"div",85)(14,"table",86)(15,"thead")(16,"tr")(17,"th"),t._uU(18),t.ALo(19,"translate"),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"th"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.YNc(24,dt,3,3,"th",23),t.YNc(25,mt,3,3,"th",23),t.YNc(26,gt,3,3,"th",23),t.qZA()(),t.TgZ(27,"tbody"),t.YNc(28,xt,9,15,"ng-container",77),t.YNc(29,Zt,4,3,"tr",23),t.qZA()()()()()()(),t.TgZ(30,"div",3),t.YNc(31,Ct,9,5,"div",67),t.YNc(32,yt,8,4,"div",67),t.qZA(),t.BQk(),t.qZA()(),t.YNc(33,qt,9,1,"ng-container",23),t.YNc(34,Nt,15,5,"ng-container",23),t.qZA()),2&e){const n=t.oxw(2);t.xp6(7),t.Oqu(t.lcZ(8,14,"leagues.categories")),t.xp6(4),t.Q6J("ngIf",n.hasPermission("edit_league")),t.xp6(7),t.AsE("",t.lcZ(19,16,"leagues.categories")," (",t.lcZ(20,18,"leagues.couples"),")"),t.xp6(4),t.Oqu(t.lcZ(23,20,"tournaments.type_category.type")),t.xp6(2),t.Q6J("ngIf",1==n.can_edit),t.xp6(1),t.Q6J("ngIf",1==n.can_edit),t.xp6(1),t.Q6J("ngIf",0==n.can_edit),t.xp6(2),t.Q6J("ngForOf",n.categories_list),t.xp6(1),t.Q6J("ngIf",0==n.categories_list.length),t.xp6(2),t.Q6J("ngIf",""!=n.error_message_category),t.xp6(1),t.Q6J("ngIf",""!=n.success_message_category),t.xp6(1),t.Q6J("ngIf",1==n.creating_draw),t.xp6(1),t.Q6J("ngIf",0==n.creating_draw)}}function Lt(e,a){if(1&e&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",33),t.YNc(3,Qt,35,22,"div",34),t.qZA()()()),2&e){const n=t.oxw();t.xp6(3),t.Q6J("ngIf",1==n.loaded)}}function Ot(e,a){1&e&&(t.TgZ(0,"div",35),t._UZ(1,"form"),t.qZA())}function It(e,a){if(1&e&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",33),t.YNc(3,Ot,2,0,"div",34),t.qZA()()()),2&e){const n=t.oxw();t.xp6(3),t.Q6J("ngIf",1==n.loaded)}}function Yt(e,a){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"date"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.HOy("",t.lcZ(2,4,"tournaments.sure_delete_schedule")," ",t.xi3(3,6,n.schedule_selected.date,"dd/MM/yyyy")," ",n.schedule_selected.opening_time," - ",n.schedule_selected.closing_time,"?")}}function Kt(e,a){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.AsE("",t.lcZ(2,2,"tournaments.sure_delete_category")," ",n.category_selected.name," ?")}}function St(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",26)(1,"a",27,122),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",29),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.deleteSchedule())}),t._uU(6),t.ALo(7,"translate"),t.qZA()()}2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"commun_translations.close")),t.xp6(3),t.Oqu(t.lcZ(7,4,"commun_translations.remove")))}function Ft(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",26)(1,"a",27,122),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",29),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.deleteCategory())}),t._uU(6),t.ALo(7,"translate"),t.qZA()()}2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"commun_translations.close")),t.xp6(3),t.Oqu(t.lcZ(7,4,"commun_translations.remove")))}const f=function(e){return{active:e}},jt=[{path:"",component:(()=>{const a=class{constructor(s,i,o,r,c,Pt){this.clubSrv=s,this.tournamentSrv=i,this.activateRoute=o,this.categorySrv=r,this.translate=c,this.routes=A._,this.name="",this.date_start="",this.date_end="",this.date_starts_registration="",this.hour_starts_registration="",this.date_ends_registration="",this.hour_ends_registration="",this.price=0,this.price_member=0,this.time_per_match=0,this.draw_generated=0,this.image_preview="assets/img/img-06.jpg",this.id_tournament="",this.success_message="",this.error_message="",this.message_errors=[],this.message_errors_category=[],this.name_category="",this.description_category="",this.categories_list=[],this.error_message_category="",this.success_message_category="",this.can_edit=!1,this.translations=[],this.error_message_schedule="",this.success_message_schedule="",this.message_errors_schedule=[],this.date_schedule="",this.opening_time="",this.closing_time="",this.hours=[],this.schedule_list=[],this.total_couples=1,this.category_no_couple=!1,this.exist_category_not_configured=!1,this.enough_courts=!1,this.category_id="",this.loaded=!1,this.timeLeft=60,this.messages=[],this.creating_draw=0,this.tab_selected=1,this.kind_sport=[],this.type_sport="0",this.courts=[],this.hasPadelCourts=!1,this.hasTennisCourts=!1,this.hasPickleballCourts=!1,this.hasSquashCourts=!1,this.hasBadmintonCourts=!1,this.is_draft="","es"==this.tournamentSrv.authSrv.language&&(Pt.getFirstDayOfWeek=()=>1)}ngOnInit(){this.initializeLanguage(),this.user=this.tournamentSrv.authSrv.user,this.hasPermission(),this.clubSrv.config().subscribe(s=>{this.hours=s.hours_days,this.courts=s.courts,this.typeOfCourtsClub(),this.loaded=!0}),this.activateRoute.params.subscribe(s=>{s.id?(this.id_tournament=s.id,this.getTournamentSelected()):this.loaded=!0,s.tab&&(this.tab_selected=s.tab)})}startTimer(){let s=0;this.messages.push(this.translations.tournaments.start_setting_up),this.interval=setInterval(()=>{this.timeLeft>=0?(this.messages.push(s<this.categories_list.length?this.translations.tournaments.setting_up+this.categories_list[s].name:this.translations.tournaments.success_draw_created),this.timeLeft--,s++):(this.messages=[],this.creating_draw=0)},2500)}initializeLanguage(){this.translate.use(this.tournamentSrv.authSrv.language),this.translate.setDefaultLang(this.tournamentSrv.authSrv.language),this.translate.get(["commun_translations","tournaments","club_translations","tournaments.tournaments_messages","tournaments.type_category"]).subscribe(s=>{this.translations=s})}hasPermission(s=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes(s))&&(this.can_edit=!0,!0)}getTournamentSelected(){this.tournamentSrv.getTournament(this.id_tournament).subscribe(s=>{this.tournament_selected=s.league,this.type_sport=this.tournament_selected.sport_type,this.name=this.tournament_selected.name,this.date_start=this.tournament_selected.start_date,this.date_end=this.tournament_selected.end_date,this.date_starts_registration=this.tournament_selected.date_starts_registration,this.date_ends_registration=this.tournament_selected.date_ends_registration,this.hour_starts_registration=this.tournament_selected.hour_starts_registration,this.hour_ends_registration=this.tournament_selected.hour_ends_registration,this.image_preview=this.tournament_selected.avatar,this.categories_list=this.tournament_selected.category,this.timeLeft=this.categories_list.length,this.schedule_list=this.tournament_selected.schedule,this.price=this.tournament_selected.price,this.price_member=this.tournament_selected.price_member,this.time_per_match=this.tournament_selected.time_per_match,this.draw_generated=this.tournament_selected.draw_generated,this.is_draft=this.tournament_selected.is_draft,this.existsNoCoupleCategory(),this.addTypeNameCategories(),this.loaded=!0})}loadFile(s){if(s.target.files[0].type.indexOf("image")<0)return alert(this.translations.commun_translations.only_type_img),void(this.image_preview=this.image_preview?this.image_preview:"assets/img/img-06.jpg");if(s.target.files[0].size>2e6)return alert(this.translations.commun_translations.max_size_img),void(this.fileAvatar="");if(s.target.files[0].size>2e6)return alert(this.translations.commun_translations.max_size_img),void(this.fileAvatar="");this.fileAvatar=s.target.files[0];let i=new FileReader;i.readAsDataURL(this.fileAvatar),i.onloadend=()=>this.image_preview=i.result}cleanMessage(){this.error_message="",this.success_message="",this.message_errors=[],this.error_message_category="",this.success_message_category="",this.error_message_schedule="",this.success_message_schedule="",this.message_errors_schedule=[],this.message_errors_category=[]}allowOperation(){return 1!=this.draw_generated||(p().fire({title:this.translations["tournaments.tournaments_messages"].operation_not_permitted,text:this.translations["tournaments.tournaments_messages"].cannot_save_changes,icon:"question"}),!1)}save(s="1"){if(this.is_draft=s,0==this.allowOperation())return;if(this.cleanMessage(),""==this.name)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_1);if(this.name&&this.name.length>191)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_2);if("0"==this.type_sport)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_13);if(""==this.date_start)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_3);if(""==this.date_end)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_4);if(""==this.date_starts_registration)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_9);if(""==this.hour_starts_registration)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_10);if(""==this.date_ends_registration)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_11);if(""==this.hour_ends_registration)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_12);if("number"!=typeof+this.price)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_5);if("number"!=typeof+this.price_member)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_6);if("number"!=typeof+this.time_per_match)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_8);let i=new FormData;i.append("name",this.name),i.append("sport_type",this.type_sport),i.append("start_date",this.date_start),i.append("end_date",this.date_end),i.append("price",this.price.toString()),i.append("price_member",this.price_member.toString()),i.append("time_per_match",this.time_per_match.toString()),null!=this.fileAvatar&&i.append("imagen",this.fileAvatar),i.append("date_starts_registration",this.date_starts_registration),i.append("hour_starts_registration",this.hour_starts_registration),i.append("date_ends_registration",this.date_ends_registration),i.append("hour_ends_registration",this.hour_ends_registration),i.append("is_draft",s),this.tournamentSrv.saveTournament(this.id_tournament,i).subscribe(o=>{200==o.message?(this.success_message=this.translations.commun_translations.data_save_correctly,""==this.id_tournament&&(this.id_tournament=o.id_tournament)):422==o.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=o.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}addSchedule(){if(0==this.allowOperation())return;if(this.cleanMessage(),this.date_schedule>this.date_end||this.date_schedule<this.date_start)return void(this.error_message_schedule="La fecha tiene que estar comprendida entre la Fecha de inicio y Fecha de fin.");const s=this.opening_time.split(":"),i=this.closing_time.split(":");if(Number(s[0])>Number(i[0])||Number(s[0])==Number(i[0])&&Number(s[1])>Number(i[1]))return void(this.error_message_schedule="La hora de inicio no puede ser mayor que la hora de fin.");let o=new u.uU("en-US"),r={id:null,tournament_id:this.id_tournament,date:o.transform(this.date_schedule,"yyyy-MM-dd"),opening_time:this.opening_time,closing_time:this.closing_time};null!=this.schedule_selected?(r.id=this.schedule_selected,this.tournamentSrv.editSchedule(r,this.schedule_selected).subscribe(c=>{200==c.message?(r.id=c.schedule_id,this.schedule_list[this.index_selected]=r,this.date_schedule="",this.opening_time="",this.closing_time="",this.schedule_selected=null,this.success_message_schedule=this.translations.commun_translations.data_save_correctly):422==c.message?(this.error_message_schedule=this.translations.commun_translations.data_save_error,this.message_errors_schedule=c.errors_text):this.error_message_schedule=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})):this.tournamentSrv.saveSchedule(r).subscribe(c=>{200==c.message?(r.id=c.schedule_id,this.schedule_list.push(r),this.date_schedule="",this.opening_time="",this.closing_time="",this.success_message_schedule=this.translations.commun_translations.data_save_correctly):422==c.message?(this.error_message_schedule=this.translations.commun_translations.data_save_error,this.message_errors_schedule=c.errors_text):this.error_message_schedule=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}selectItem(s,i,o){this.cleanMessage(),1==o?(this.category_selected=null,this.schedule_selected=s):(this.schedule_selected=null,this.category_selected=s),this.index_selected=i}existsNoCoupleCategory(){for(let s=0;s<this.categories_list.length;s++)if(0==this.categories_list[s].total_couple&&0==this.category_no_couple)return void(this.category_no_couple=!0)}addTypeNameCategories(){let s=[];s[1]=this.translations["tournaments.type_category"].normal_league,s[2]=this.translations["tournaments.type_category"].two_small_league,s[3]=this.translations["tournaments.type_category"].draw_and_losser_draw,s[4]=this.translations["tournaments.type_category"].normal_draw,s[5]=this.translations["tournaments.type_category"].american,s[6]=this.translations["tournaments.type_category"].round_robin_two_legs;for(let i=0;i<this.categories_list.length;i++){let o=this.categories_list[i].type;this.categories_list[i].type_name=o?s[o]:". . ."}}existsCategoryNotDonfigure(){for(let s=0;s<this.categories_list.length;s++)if(0==this.categories_list[s].type&&0==this.exist_category_not_configured)return void(this.exist_category_not_configured=!0)}deleteSchedule(){0!=this.allowOperation()?(this.cleanMessage(),this.tournamentSrv.deleteSchedule(this.schedule_selected.id).subscribe(s=>{200==s.message?(this.schedule_selected=null,this.schedule_list.splice(this.index_selected,1),this.name_category="",this.description_category="",this.success_message_category=this.translations["tournaments.tournaments_messages"].success_delete_schedule,this.closebutton.nativeElement.click()):this.success_message_category=this.translations.commun_translations.data_delete_error})):this.closebutton.nativeElement.click()}addCategory(){if(0==this.allowOperation())return;if(this.cleanMessage(),!this.name_category)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_7);let s={id:null,name:this.name_category,description:this.description_category,tournament_id:this.id_tournament,total_couple:0};this.categorySrv.storeCategory(s).subscribe(i=>{200==i.message?(s.id=i.category_id,this.categories_list.push(s),this.name_category="",this.description_category="",this.category_no_couple=!0,this.success_message_category=this.translations.commun_translations.data_save_correctly):422==i.message?(this.error_message_category=this.translations.commun_translations.data_save_error,this.message_errors_category=i.errors_text):this.error_message_category=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}deleteCategory(){0!=this.allowOperation()?(this.cleanMessage(),this.categorySrv.deleteCategory(this.category_selected.id).subscribe(s=>{200==s.message?(this.categories_list.splice(this.index_selected,1),this.category_selected=null,this.name_category="",this.description_category="",this.closebutton.nativeElement.click(),this.success_message_category=this.translations["tournaments.tournaments_messages"].success_delete_category,this.category_no_couple=!1,this.existsNoCoupleCategory()):this.success_message_category=this.translations.commun_translations.data_delete_error})):this.closebutton.nativeElement.click()}cancelCategory(){this.name_category="",this.description_category=""}configureDraw(){this.existsCategoryNotDonfigure(),this.existsNoCoupleCategory(),1!=this.category_no_couple&&1!=this.exist_category_not_configured?0==this.category_no_couple&&0==this.exist_category_not_configured&&(this.draw_generated=1,this.creating_draw=1,this.tournamentSrv.configureTournament(this.id_tournament).subscribe(s=>{200==s.message?(this.startTimer(),this.draw_generated=1):(p().fire({title:this.translations["tournaments.tournaments_messages"].operation_not_permitted,text:this.translations["tournaments.tournaments_messages"].not_enough_courts,icon:"warning"}),this.draw_generated=0,this.creating_draw=0)})):p().fire({title:this.translations["tournaments.tournaments_messages"].operation_not_permitted,text:this.translations["tournaments.tournaments_messages"].cannot_configure_tournament,icon:"warning"})}deleteDraw(){this.categorySrv.deleteDraw(this.id_tournament).subscribe(s=>{200==s.message?(this.draw_generated=0,this.closebutton_delete_draw.nativeElement.click()):this.draw_generated=1})}tabSeleted(s){this.tab_selected=s}selectSchedule(s,i){this.date_schedule=s.date,this.opening_time=s.opening_time,this.closing_time=s.closing_time,this.schedule_selected=s.id,this.index_selected=i}typeOfCourtsClub(){this.kind_sport.push({id:0,name:"..."}),this.courts.some(s=>{1==s.sport_type&&(this.hasPadelCourts=!0),2==s.sport_type&&(this.hasTennisCourts=!0),3==s.sport_type&&(this.hasPickleballCourts=!0),4==s.sport_type&&(this.hasSquashCourts=!0),5==s.sport_type&&(this.hasBadmintonCourts=!0)}),this.hasPadelCourts&&this.kind_sport.push({id:1,name:this.translations.club_translations.sport_1}),this.hasTennisCourts&&this.kind_sport.push({id:2,name:this.translations.club_translations.sport_2}),this.hasPickleballCourts&&this.kind_sport.push({id:3,name:this.translations.club_translations.sport_3}),this.hasSquashCourts&&this.kind_sport.push({id:4,name:this.translations.club_translations.sport_4}),this.hasBadmintonCourts&&this.kind_sport.push({id:5,name:this.translations.club_translations.sport_5})}};let e=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(y.I),t.Y36(b.Z),t.Y36(d.gz),t.Y36(q.H),t.Y36(x.sK),t.Y36(Z._A))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-tournament"]],viewQuery:function(i,o){if(1&i&&(t.Gf(M,5),t.Gf(U,5)),2&i){let r;t.iGM(r=t.CRH())&&(o.closebutton=r.first),t.iGM(r=t.CRH())&&(o.closebutton_delete_draw=r.first)}},decls:61,vars:45,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item",3,"ngClass"],["href","#","onclick","return false;",1,"nav-link",3,"click"],["href","#","onclick","return false;","class","nav-link",3,"click",4,"ngIf"],["class","nav-link nav-link-disabled",4,"ngIf"],["class","nav-item",4,"ngIf"],["class","row",4,"ngIf"],["id","delete_schedule","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],["class","m-t-20",4,"ngIf"],["id","delete_draw","role","dialog",1,"modal","fade","delete-modal"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton_delete_draws",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"nav-link","nav-link-disabled"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"card"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-3","col-xl-3"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","date_start","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"ngModel","matDatepicker","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],["name","date_end","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"ngModel","matDatepicker","ngModelChange"],["picker2",""],["name","date_starts_registration","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"ngModel","matDatepicker","ngModelChange"],["picker4",""],[1,"col-12","col-md-2","col-xl-2"],["name","date_ends_registration","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"ngModel","matDatepicker","ngModelChange"],["picker5",""],["name","price","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","price_member","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","time_per_match","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],["type","file","accept","image/*","name","image","id","file",1,"hide-input",3,"change"],["for","file",1,"upload"],["class","",4,"ngIf"],[1,"doctor-submit","text-end"],["type","submit","class","btn btn-secondary submit-form me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-primary submit-form",3,"click",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[3,"value"],[1,""],["alt","","width","150px","height","150px",3,"src"],["type","submit",1,"btn","btn-secondary","submit-form","me-3",3,"click"],["type","button",1,"btn","btn-primary","submit-form",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"row","my-4"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"row","col-12"],["class","col-4",4,"ngIf"],[1,"col-8","settings-form"],[1,"table-responsive"],[1,"table","mb-0"],[1,"col-4"],[1,"row","settings-form"],["lang","es","name","date_schedule","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"min","max","ngModel","matDatepicker","ngModelChange"],["picker3",""],[1,"doctor-submit","text-center"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],[1,"align-items-center"],["onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_schedule",1,"btn","trash","trash-style",3,"click"],[1,"feather","icon-trash-2","service"],["onclick","return false;",1,"btn","trash","trash-style",3,"click"],[1,"feather","icon-edit","service"],["colspan","4",1,"text-center"],[1,"col-9"],["name","name_category","type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"doctor-submit"],[1,"align-items-center",3,"ngClass"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],["href","#",1,"btn","trash","trash-style",3,"routerLink"],["src","assets/img/icons/menu-icon-16.svg","alt",""],[1,"col-md-12"],[1,"activity"],[1,"activity-box","comman-activitys"],[1,"activity-content","timeline-group-blk"],[1,"flex-grow-1"],[1,"activity-list","text-center"],["class"," flex-grow-1 comman-activitys",4,"ngIf"],["class","comman-activitys flex-grow-1",4,"ngIf"],["class","col-12 d-flex align-items-center",4,"ngIf"],[1,"flex-grow-1","comman-activitys"],[1,"comman-activitys","flex-grow-1"],[1,"col-12","d-flex","align-items-center"],[1,"follow-btn-group"],["type","submit",1,"btn","btn-info","message-btns",3,"click"],["onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_draw",1,"btn","btn-warning","message-btns"],["closebutton",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"li",6),t._UZ(11,"i",8),t.qZA(),t.TgZ(12,"li",9),t._uU(13),t.ALo(14,"translate"),t.qZA()()()()(),t.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"a",13),t.NdJ("click",function(){return o.tabSeleted(1)}),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"li",12),t.YNc(22,k,3,3,"a",14),t.YNc(23,N,3,3,"a",15),t.qZA(),t.TgZ(24,"li",12),t.YNc(25,Q,3,3,"a",14),t.YNc(26,L,3,3,"a",15),t.qZA(),t.YNc(27,I,4,6,"li",16),t.YNc(28,K,4,6,"li",16),t.qZA()(),t.YNc(29,R,4,1,"div",17),t.YNc(30,lt,4,1,"div",17),t.YNc(31,Lt,4,1,"div",17),t.YNc(32,It,4,1,"div",17),t.qZA()(),t.TgZ(33,"div",18)(34,"div",19)(35,"div",20)(36,"div",21),t._UZ(37,"img",22),t.YNc(38,Yt,4,9,"h3",23),t.YNc(39,Kt,3,4,"h3",23),t.YNc(40,St,8,6,"div",24),t.YNc(41,Ft,8,6,"div",24),t.qZA()()()(),t.TgZ(42,"div",25)(43,"div",19)(44,"div",20)(45,"div",21),t._UZ(46,"img",22),t.TgZ(47,"h3"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"p"),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"div",26)(54,"a",27,28),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"button",29),t.NdJ("click",function(){return o.deleteDraw()}),t._uU(59),t.ALo(60,"translate"),t.qZA()()()()()()),2&i&&(t.xp6(7),t.Q6J("routerLink",o.routes.staffList),t.xp6(1),t.hij("",t.lcZ(9,25,"leagues.category")," "),t.xp6(5),t.Oqu(t.lcZ(14,27,"leagues.update")),t.xp6(4),t.Q6J("ngClass",t.VKq(39,f,1==o.tab_selected)),t.xp6(2),t.Oqu(t.lcZ(20,29,"leagues.tabs.general_data")),t.xp6(2),t.Q6J("ngClass",t.VKq(41,f,2==o.tab_selected)),t.xp6(1),t.Q6J("ngIf",""!=o.id_tournament),t.xp6(1),t.Q6J("ngIf",""==o.id_tournament),t.xp6(1),t.Q6J("ngClass",t.VKq(43,f,3==o.tab_selected)),t.xp6(1),t.Q6J("ngIf",""!=o.id_tournament),t.xp6(1),t.Q6J("ngIf",""==o.id_tournament),t.xp6(1),t.Q6J("ngIf",""!=o.id_tournament),t.xp6(1),t.Q6J("ngIf",""!=o.id_tournament),t.xp6(1),t.Q6J("ngIf",1==o.tab_selected),t.xp6(1),t.Q6J("ngIf",2==o.tab_selected),t.xp6(1),t.Q6J("ngIf",3==o.tab_selected),t.xp6(1),t.Q6J("ngIf",4==o.tab_selected),t.xp6(6),t.Q6J("ngIf",o.schedule_selected),t.xp6(1),t.Q6J("ngIf",o.category_selected),t.xp6(1),t.Q6J("ngIf",o.schedule_selected),t.xp6(1),t.Q6J("ngIf",o.category_selected),t.xp6(7),t.Oqu(t.lcZ(49,31,"tournaments.sure_delete_draw")),t.xp6(3),t.Oqu(t.lcZ(52,33,"tournaments.info_delete_draw")),t.xp6(5),t.Oqu(t.lcZ(57,35,"commun_translations.close")),t.xp6(3),t.Oqu(t.lcZ(60,37,"commun_translations.remove")))},dependencies:[u.mk,u.sg,u.O5,d.rH,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,h.Mq,h.hl,h.nW,w.R9,J.gD,Z.ey,u.uU,x.X$],styles:[".settings-form[_ngcontent-%COMP%]   .trash[_ngcontent-%COMP%]{display:inline!important}p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#33344880;margin-bottom:0}.incomplete_category[_ngcontent-%COMP%]{background-color:#f6a700}.nav-link-disabled[_ngcontent-%COMP%]{background-color:gray!important;cursor:no-drop}"]}),e})()}];let Gt=(()=>{const a=class{};let e=a;return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[d.Bz.forChild(jt),d.Bz]}),e})();var Ht=_(529),Dt=_(5108);let Et=(()=>{const a=class{};let e=a;return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.ez,Gt,l.u5,l.UX,Ht.JF,d.Bz,Dt.m]}),e})()}}]);