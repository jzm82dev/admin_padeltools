"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[614],{90614:(T,d,a)=>{a.r(d),a.d(d,{DescriptionModule:()=>L});var m=a(36895),c=a(30027),u=a(32728),p=a(46382),o=a(24006),t=a(94650),g=a(57191),h=a(42466);function b(e,s){if(1&e){const l=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"button",27),t.NdJ("click",function(){t.CHM(l);const i=t.oxw();return t.KtG(i.saveDescription())}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\xa0\xa0 "),t.qZA()()}2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"commun_translations.save")))}function v(e,s){if(1&e){const l=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",30),t.NdJ("click",function(){t.CHM(l);const i=t.oxw();return t.KtG(i.cleanMessage())}),t._UZ(7,"span",31),t.qZA()()()}if(2&e){const l=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,"commun_translations.error")),t.xp6(2),t.hij(" ",l.error_message," ")}}function _(e,s){if(1&e){const l=t.EpF();t.TgZ(0,"div",28)(1,"div",32)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",30),t.NdJ("click",function(){t.CHM(l);const i=t.oxw();return t.KtG(i.cleanMessage())}),t._UZ(7,"span",31),t.qZA()()()}if(2&e){const l=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,2,"commun_translations.success")," "),t.xp6(2),t.hij("",l.success_message," ")}}const f=[{path:"",component:(()=>{const s=class{constructor(r,i){this.clubSrv=r,this.translate=i,this.routes=p._,this.html="",this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.can_edit=!1,this.language="en",this.translations=[],this.description="",this.success_message="",this.error_message="",this.message_errors=[],this.form=new o.cw({description:new o.NI({value:this.description,disabled:!1},u.kI.required())})}ngOnInit(){this.editor=new u.ML,this.initializeLanguage(),this.user=this.clubSrv.authSrv.user,this.hasPermission(),this.clubSrv.getClubDescriptionData().subscribe(r=>{200==r.message&&this.form.reset({description:r.description})})}initializeLanguage(){this.translate.use(this.clubSrv.authSrv.language),this.translate.setDefaultLang(this.clubSrv.authSrv.language),this.translate.get(["commun_translations","club_translations.club_information_messages"]).subscribe(r=>{this.translations=r})}hasPermission(r=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes("edit_club"))&&(this.can_edit=!0,!0)}ngOnDestroy(){this.editor.destroy()}cleanMessage(){this.error_message="",this.success_message="",this.message_errors=[]}saveDescription(){let r=new FormData;r.append("description",this.form.value.description?this.form.value.description:""),console.log(this.form.value.description),this.clubSrv.updateDescriptionClub(r).subscribe(i=>{200==i.message?this.success_message=this.translations.commun_translations.data_save_correctly:422==i.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=i.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}};let e=s;return s.\u0275fac=function(i){return new(i||s)(t.Y36(g.I),t.Y36(h.sK))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-description"]],decls:55,vars:40,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"],[1,"feather","icon-chevron-right"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-item","active"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body","pt-0"],[3,"formGroup"],[1,"editor"],[3,"editor","toolbar"],["formControlName","description",3,"editor"],["class","form-group mb-0 text-end my-3",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[1,"form-group","mb-0","text-end","my-3"],[1,"settings-btns"],["type","submit",1,"border-0","btn","btn-primary","btn-gradient-primary","btn-rounded",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"li",7),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"li",6),t._uU(12),t.ALo(13,"translate"),t.qZA()()()()(),t.TgZ(14,"div",9)(15,"ul",10)(16,"li",11)(17,"a",12),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"li",13)(21,"a",12),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"li",11)(25,"a",12),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"li",11)(29,"a",12),t._uU(30),t.ALo(31,"translate"),t.qZA()(),t.TgZ(32,"li",11)(33,"a",12),t._uU(34),t.ALo(35,"translate"),t.qZA()(),t.TgZ(36,"li",11)(37,"a",12),t._uU(38),t.ALo(39,"translate"),t.qZA()()()(),t.TgZ(40,"div",3)(41,"div",14)(42,"div",15)(43,"div",16)(44,"h5",17),t._uU(45),t.ALo(46,"translate"),t.qZA()(),t.TgZ(47,"div",18)(48,"form",19)(49,"div",20),t._UZ(50,"ngx-editor-menu",21)(51,"ngx-editor",22),t.qZA(),t.YNc(52,b,6,3,"div",23),t.YNc(53,v,8,4,"div",24),t.YNc(54,_,8,4,"div",24),t.qZA()()()()()()()),2&i&&(t.xp6(7),t.Oqu(t.lcZ(8,22,"club_translations.dashboard")),t.xp6(5),t.Oqu(t.lcZ(13,24,"club_translations.club")),t.xp6(5),t.Q6J("routerLink",n.routes.club),t.xp6(1),t.Oqu(t.lcZ(19,26,"club_translations.tabs.general_data")),t.xp6(3),t.Q6J("routerLink",n.routes.description),t.xp6(1),t.Oqu(t.lcZ(23,28,"club_translations.tabs.description")),t.xp6(3),t.Q6J("routerLink",n.routes.clubSchedule),t.xp6(1),t.Oqu(t.lcZ(27,30,"club_translations.tabs.schedule")),t.xp6(3),t.Q6J("routerLink",n.routes.clubCourts),t.xp6(1),t.Oqu(t.lcZ(31,32,"club_translations.tabs.courts")),t.xp6(3),t.Q6J("routerLink",n.routes.clubServices),t.xp6(1),t.Oqu(t.lcZ(35,34,"club_translations.tabs.services")),t.xp6(3),t.Q6J("routerLink",n.routes.clubSocialLinks),t.xp6(1),t.Oqu(t.lcZ(39,36,"club_translations.tabs.social_links")),t.xp6(7),t.Oqu(t.lcZ(46,38,"club_translations.club_information.title")),t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(2),t.Q6J("editor",n.editor)("toolbar",n.toolbar),t.xp6(1),t.Q6J("editor",n.editor),t.xp6(1),t.Q6J("ngIf",1==n.can_edit),t.xp6(1),t.Q6J("ngIf",""!=n.error_message),t.xp6(1),t.Q6J("ngIf",""!=n.success_message))},dependencies:[m.O5,c.rH,o._Y,o.JJ,o.JL,o.sg,o.u,u.tP,u.Mn,h.X$]}),e})()}];let Z=(()=>{const s=class{};let e=s;return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[c.Bz.forChild(f),c.Bz]}),e})();var A=a(25108),x=a(80529);let L=(()=>{const s=class{};let e=s;return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[m.ez,Z,o.u5,o.UX,x.JF,c.Bz,A.m]}),e})()}}]);