"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[4600],{4600:(ut,m,c)=>{c.r(m),c.d(m,{BookingModule:()=>dt});var _=c(6895),d=c(27),f=c(6382),t=c(4650),b=c(5626),x=c(3210),v=c(2466),k=c(2113),h=c(3125),C=c(9549),g=c(4006),Z=c(3384);const w=["closebuttonAddShedule"],y=["closebuttonShowhedule"],T=["closebuttonDeleteReservation"],u=function(s){return{active:s}},M=function(s,i){return["/club/booking","padel",s,i]};function A(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"li",62)(1,"a",63),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.loadFalse())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&s){const n=t.oxw(3);t.Q6J("ngClass",t.VKq(5,u,"padel"==n.sport_selected)),t.xp6(1),t.Q6J("routerLink",t.WLB(7,M,n.hash_club,n.date)),t.xp6(1),t.Oqu(t.lcZ(3,3,"club_translations.sport_1"))}}const q=function(s,i){return["/club/booking","tennis",s,i]};function B(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"li",62)(1,"a",63),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.loadFalse())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&s){const n=t.oxw(3);t.Q6J("ngClass",t.VKq(5,u,"tennis"==n.sport_selected)),t.xp6(1),t.Q6J("routerLink",t.WLB(7,q,n.hash_club,n.date)),t.xp6(1),t.Oqu(t.lcZ(3,3,"club_translations.sport_2"))}}const J=function(s,i){return["/club/booking","pickleball",s,i]};function O(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"li",62)(1,"a",63),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.loadFalse())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&s){const n=t.oxw(3);t.Q6J("ngClass",t.VKq(5,u,"pickleball"==n.sport_selected)),t.xp6(1),t.Q6J("routerLink",t.WLB(7,J,n.hash_club,n.date)),t.xp6(1),t.Oqu(t.lcZ(3,3,"club_translations.sport_3"))}}const S=function(s,i){return["/club/booking","squash",s,i]};function U(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"li",62)(1,"a",63),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.loadFalse())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&s){const n=t.oxw(3);t.Q6J("ngClass",t.VKq(5,u,"squash"==n.sport_selected)),t.xp6(1),t.Q6J("routerLink",t.WLB(7,S,n.hash_club,n.date)),t.xp6(1),t.Oqu(t.lcZ(3,3,"club_translations.sport_4"))}}const P=function(s,i){return["/club/booking","badminton",s,i]};function N(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"li",62)(1,"a",64),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.loadFalse())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&s){const n=t.oxw(3);t.Q6J("ngClass",t.VKq(5,u,"badminton"==n.sport_selected)),t.xp6(1),t.Q6J("routerLink",t.WLB(7,P,n.hash_club,n.date)),t.xp6(1),t.Oqu(t.lcZ(3,3,"club_translations.sport_5"))}}function Q(s,i){if(1&s&&(t.TgZ(0,"div",9)(1,"div",58)(2,"ul",59),t.YNc(3,A,4,10,"li",60),t.YNc(4,B,4,10,"li",60),t.YNc(5,O,4,10,"li",61),t.YNc(6,U,4,10,"li",61),t.YNc(7,N,4,10,"li",61),t.qZA()()()),2&s){const n=t.oxw(2);t.xp6(3),t.Q6J("ngIf",1==n.hasPadelCourts),t.xp6(1),t.Q6J("ngIf",1==n.hasTennisCourts),t.xp6(1),t.Q6J("ngIf",1==n.hasPickleballCourts),t.xp6(1),t.Q6J("ngIf",1==n.hasSquashCourts),t.xp6(1),t.Q6J("ngIf",1==n.hasBadmintonCourts)}}function D(s,i){if(1&s&&(t.TgZ(0,"div",9)(1,"div",10)(2,"h2"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"h3"),t._uU(6),t.ALo(7,"translate"),t.qZA()()()),2&s){const n=t.oxw(2);t.xp6(3),t.AsE("",t.lcZ(4,3,"reservations.phrase_club_closed")," ",n.day_name,""),t.xp6(3),t.Oqu(t.lcZ(7,5,"commun_translations.sorry_inconvenience"))}}function I(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.openPopup())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&s){const n=t.oxw(3);t.Q6J("disabled",n.disableButtonReserve),t.xp6(1),t.Oqu(t.lcZ(2,2,"reservations.reserve_court"))}}function L(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"button",69),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.scrollToBottom())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"reservations.reserve_court")))}function H(s,i){if(1&s&&(t.TgZ(0,"div",65),t.YNc(1,I,3,4,"button",66),t.YNc(2,L,3,3,"button",67),t.qZA()),2&s){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0==n.disableButtonReserve),t.xp6(1),t.Q6J("ngIf",1==n.disableButtonReserve)}}function Y(s,i){if(1&s&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s){const n=i.$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"reservations.court")," ",n.name,"")}}function R(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"td",74),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,r=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.selectHour(r,o.id))}),t.qZA()}if(2&s){const n=t.oxw().$implicit,e=t.oxw().$implicit;t.hYB("id","",e.id,"_",n.id,"")}}function F(s,i){1&s&&t._UZ(0,"td",75)}const E=function(s,i,n,e,o,r){return{"recurrent-booking-first border-td":s,"recurrent-booking border-td":i,"class-lesson-booking-first border-td":n,"class-lesson-booking border-td":e,"one-time-booking-first border-td":o,"one-time-booking border-td":r}};function G(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"td",76),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showReserve(o.reservation_id))}),t.TgZ(1,"p",77),t._uU(2),t.qZA()()}if(2&s){const n=t.oxw().$implicit;t.Q6J("ngClass",t.HTZ(2,E,"recurrent"==n.type&&""!=n.reservation_name,""==n.reservation_name&&"recurrent"==n.type,"class-lessons"==n.type&&""!=n.reservation_name,""==n.reservation_name&&"class-lessons"==n.type,"one-time"==n.type&&""!=n.reservation_name,""==n.reservation_name&&"one-time"==n.type)),t.xp6(2),t.Oqu(n.reservation_name)}}function K(s,i){if(1&s&&(t.ynx(0),t.YNc(1,R,1,2,"td",71),t.YNc(2,F,1,0,"td",72),t.YNc(3,G,3,9,"td",73),t.BQk()),2&s){const n=i.$implicit,e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!n.reservation_id&&e.hour_open),t.xp6(1),t.Q6J("ngIf",!e.hour_open),t.xp6(1),t.Q6J("ngIf",n.reservation_id&&e.hour_open)}}function j(s,i){if(1&s&&(t.TgZ(0,"tr")(1,"td",70),t._uU(2),t.qZA(),t.YNc(3,K,4,3,"ng-container",33),t.qZA()),2&s){const n=i.$implicit;t.xp6(2),t.hij("",n.format_hour_start,"h"),t.xp6(1),t.Q6J("ngForOf",n.courts)}}function z(s,i){if(1&s&&(t.TgZ(0,"div",80),t._uU(1),t.qZA()),2&s){const n=t.oxw(3);t.xp6(1),t.hij(" ",n.error_message," ")}}function W(s,i){if(1&s&&(t.TgZ(0,"div",78),t.YNc(1,z,2,1,"div",79),t.qZA()),2&s){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.schedule.length>0)}}function $(s,i){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const n=i.$implicit;t.xp6(1),t.Oqu(n)}}function V(s,i){if(1&s&&(t.TgZ(0,"ul"),t.YNc(1,$,2,1,"li",33),t.qZA()),2&s){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.message_errors)}}function X(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"div",78)(1,"div",81)(2,"strong"),t._uU(3,"Error!"),t.qZA(),t._uU(4),t.TgZ(5,"button",82),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.cleanMessage())}),t._UZ(6,"span",83),t.qZA(),t.YNc(7,V,2,1,"ul",52),t.qZA()()}if(2&s){const n=t.oxw(2);t.xp6(4),t.hij(" ",n.error_message_popup," "),t.xp6(3),t.Q6J("ngIf",n.message_errors.length>0)}}function tt(s,i){if(1&s&&(t.TgZ(0,"div",78)(1,"div",84)(2,"strong"),t._uU(3,"Bien!"),t.qZA(),t._uU(4),t.qZA()()),2&s){const n=t.oxw(2);t.xp6(4),t.hij(" ",n.susccess_message_popup," ")}}function et(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"button",85),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.addReservation())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commun_translations.save")))}function ot(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.closePopupShowReservation())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"reservations.cancel")))}function nt(s,i){if(1&s&&(t.TgZ(0,"div",86)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",8)(5,"div",39)(6,"h3"),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",87)(10,"div",16)(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",88),t.qZA()(),t.TgZ(15,"div",87)(16,"div",16)(17,"label"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"input",88),t.qZA()(),t.TgZ(21,"div",87)(22,"div",16)(23,"label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._UZ(26,"input",88),t.qZA()(),t.TgZ(27,"div",89)(28,"div",16)(29,"label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._UZ(32,"input",88),t.qZA()()(),t.TgZ(33,"div",44)(34,"div",45)(35,"a",55,90),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.YNc(39,ot,3,3,"button",91),t.qZA()()()()()),2&s){const n=t.oxw(2);t.xp6(7),t.Oqu(t.lcZ(8,13,"reservations.booking_data")),t.xp6(5),t.Oqu(t.lcZ(13,15,"reservations.name")),t.xp6(2),t.hYB("value","",n.reservation.name," ",n.reservation.surname,""),t.xp6(4),t.Oqu(t.lcZ(19,17,"reservations.telephone")),t.xp6(2),t.s9C("value",n.reservation.mobile),t.xp6(4),t.Oqu(t.lcZ(25,19,"reservations.type")),t.xp6(2),t.s9C("value",n.reservation.type_name),t.xp6(4),t.Oqu(t.lcZ(31,21,"reservations.booking_time")),t.xp6(2),t.hYB("value","",n.reservation.start_time," - ",n.reservation.end_time,""),t.xp6(5),t.Oqu(t.lcZ(38,23,"commun_translations.close")),t.xp6(2),t.Q6J("ngIf",""==n.susccess_message_popup)}}function st(s,i){if(1&s&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s){const n=t.oxw(2);t.xp6(1),t.AsE("",t.lcZ(2,2,"reservations.sure_to_cancel")," ",n.reservation.name,"?")}}function it(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"div",78)(1,"div",81)(2,"strong"),t._uU(3,"Error!"),t.qZA(),t._uU(4),t.TgZ(5,"button",82),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.cleanMessage())}),t._UZ(6,"span",83),t.qZA()()()}if(2&s){const n=t.oxw(2);t.xp6(4),t.hij(" ",n.error_cancel_reservsation_message," ")}}function rt(s,i){if(1&s&&(t.TgZ(0,"div",78)(1,"div",84)(2,"strong"),t._uU(3,"Bien!"),t.qZA(),t._uU(4),t.qZA()()),2&s){const n=t.oxw(2);t.xp6(4),t.hij(" ",n.success_cancel_reservsation_message," ")}}function at(s,i){if(1&s){const n=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"h2"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",11)(9,"div",12)(10,"a",13),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.lessDay())}),t._UZ(11,"i",14),t.qZA()(),t.TgZ(12,"div",15)(13,"div",16)(14,"input",17),t.NdJ("ngModelChange",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.date_reservation=o)})("dateChange",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.changeDateReservations(o))}),t.qZA(),t._UZ(15,"mat-datepicker",null,18)(17,"mat-datepicker-toggle",19),t.qZA()(),t.TgZ(18,"div",20)(19,"a",13),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.moreDay())}),t._UZ(20,"i",21),t.qZA()()(),t.TgZ(21,"div",22)(22,"div",23)(23,"a",13),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.lessDay())}),t._UZ(24,"i",14),t.qZA()(),t.TgZ(25,"div",24)(26,"div",16)(27,"input",17),t.NdJ("ngModelChange",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.date_reservation=o)})("dateChange",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.changeDateReservations(o))}),t.qZA(),t._UZ(28,"mat-datepicker",null,25)(30,"mat-datepicker-toggle",19),t.qZA()(),t.TgZ(31,"div",26)(32,"a",13),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.moreDay())}),t._UZ(33,"i",21),t.qZA()()(),t.YNc(34,Q,8,5,"div",27),t.YNc(35,D,8,7,"div",27),t.TgZ(36,"div",9)(37,"div",28),t.YNc(38,H,3,2,"div",29),t.TgZ(39,"div",30)(40,"table",31)(41,"thead")(42,"tr")(43,"th",32),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.YNc(46,Y,3,4,"th",33),t.qZA()(),t.TgZ(47,"tbody"),t.YNc(48,j,4,2,"tr",33),t.qZA()()()()(),t.YNc(49,W,2,1,"div",34),t.qZA()()()(),t.TgZ(50,"div",35)(51,"div",36)(52,"div",37)(53,"div",38)(54,"div",8)(55,"div",39)(56,"h3"),t._uU(57),t.ALo(58,"translate"),t.qZA()()(),t.TgZ(59,"div",40)(60,"div",16)(61,"label"),t._uU(62),t.ALo(63,"translate"),t.TgZ(64,"span",41),t._uU(65,"*"),t.qZA()(),t.TgZ(66,"input",42),t.NdJ("ngModelChange",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.email_reservation=o)}),t.qZA()()(),t.TgZ(67,"div",40)(68,"div",16)(69,"label"),t._uU(70),t.ALo(71,"translate"),t.TgZ(72,"span",41),t._uU(73,"*"),t.qZA()(),t.TgZ(74,"input",43),t.NdJ("ngModelChange",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.password_reservation=o)}),t.qZA()()()(),t.TgZ(75,"div",8),t.YNc(76,X,8,2,"div",34),t.YNc(77,tt,5,1,"div",34),t.qZA(),t.TgZ(78,"div",44)(79,"div",45)(80,"a",46,47),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.closPopupCreateRervation())}),t._uU(82),t.ALo(83,"translate"),t.qZA(),t.YNc(84,et,3,3,"button",48),t.qZA()()()()(),t.YNc(85,nt,40,25,"div",49),t.TgZ(86,"div",50)(87,"div",36)(88,"div",37)(89,"div",38),t._UZ(90,"img",51),t.YNc(91,st,3,4,"h3",52),t.TgZ(92,"div",40)(93,"div",16)(94,"label"),t._uU(95),t.ALo(96,"translate"),t.TgZ(97,"span",41),t._uU(98,"*"),t.qZA()(),t.TgZ(99,"input",53),t.NdJ("ngModelChange",function(o){t.CHM(n);const r=t.oxw();return t.KtG(r.password_cancel_reservation=o)}),t.qZA()()(),t.TgZ(100,"div",54)(101,"a",55,56),t._uU(103,"Cerrar"),t.qZA(),t.TgZ(104,"button",57),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.removeReservation())}),t._uU(105,"Borrar"),t.qZA()(),t.TgZ(106,"div",8),t.YNc(107,it,7,1,"div",34),t.YNc(108,rt,5,1,"div",34),t.qZA()()()()()()}if(2&s){const n=t.MAs(16),e=t.MAs(29),o=t.oxw();t.xp6(6),t.AsE("",t.lcZ(7,30,"reservations.reservation")," ",o.day_name,""),t.xp6(8),t.Q6J("matDatepicker",n)("ngModel",o.date_reservation),t.xp6(3),t.Q6J("for",n),t.xp6(10),t.Q6J("matDatepicker",e)("ngModel",o.date_reservation),t.xp6(3),t.Q6J("for",e),t.xp6(4),t.Q6J("ngIf",o.total_sport_clubs>1&&o.schedule.length>0),t.xp6(1),t.Q6J("ngIf",1==o.loaded&&0==o.schedule.length),t.xp6(3),t.Q6J("ngIf",0==o.can_edit),t.xp6(6),t.Oqu(t.lcZ(45,32,"reservations.time")),t.xp6(2),t.Q6J("ngForOf",o.courts),t.xp6(2),t.Q6J("ngForOf",o.schedule),t.xp6(1),t.Q6J("ngIf",""!=o.error_message),t.xp6(8),t.Oqu(t.lcZ(58,34,"reservations.create")),t.xp6(5),t.hij("",t.lcZ(63,36,"reservations.email")," "),t.xp6(4),t.Q6J("ngModel",o.email_reservation),t.xp6(4),t.hij("",t.lcZ(71,38,"reservations.password")," "),t.xp6(4),t.Q6J("ngModel",o.password_reservation),t.xp6(2),t.Q6J("ngIf",""!=o.error_message_popup),t.xp6(1),t.Q6J("ngIf",""!=o.susccess_message_popup),t.xp6(5),t.Oqu(t.lcZ(83,40,"commun_translations.close")),t.xp6(2),t.Q6J("ngIf",""==o.susccess_message_popup),t.xp6(1),t.Q6J("ngIf",o.reservation),t.xp6(6),t.Q6J("ngIf",o.reservation),t.xp6(4),t.hij("",t.lcZ(96,42,"reservations.password")," "),t.xp6(4),t.Q6J("ngModel",o.password_cancel_reservation),t.xp6(8),t.Q6J("ngIf",""!=o.error_cancel_reservsation_message),t.xp6(1),t.Q6J("ngIf",""!=o.success_cancel_reservsation_message)}}const ct=[{path:"",component:(()=>{const i=class{constructor(e,o,r,a,l,p){this.reservationSrv=e,this.activateRoute=o,this.clubDataSrv=r,this.router=a,this.translate=l,this.memberSrv=p,this.tab_selected="booking",this.WeekDays=[],this.routes=f._,this.hoursSelected=[],this.email_reservation="",this.password_reservation="",this.error_message_popup="",this.susccess_message_popup="",this.error_message="Para poder reservar tienes que seleccionar la menos 1.5h",this.day_name="",this.courts=[],this.all_courts=[],this.schedule_club=[],this.schedule=[],this.day_week_number="",this.loaded=!1,this.correctSchedule=!0,this.disableButtonReserve=!0,this.reservations=[],this.reservation_hours=[],this.club_reservations=[],this.reservation=[],this.message_errors=[],this.translations=[],this.sport_selected="padel",this.hasPadelCourts=!1,this.hasTennisCourts=!1,this.hasPickleballCourts=!1,this.hasSquashCourts=!1,this.hasBadmintonCourts=!1,this.type_reservations=[],this.potential_member_found=[],this.data_search_members={name:"",mobile:""},this.total_sport_clubs=0,this.can_edit=!1,this.pipe=new _.uU("en-US"),this.hash_club="",this.sport="",this.password_cancel_reservation="",this.error_cancel_reservsation_message="",this.success_cancel_reservsation_message="",this.major_sport=0}ngOnInit(){this.date=this.pipe.transform(new Date,"yyyy-MM-dd"),this.reserve_day=new Date,this.activateRoute.params.subscribe(o=>{this.date=o.date,this.hash_club=o.hash,this.sport=o.sport,this.sport_selected=o.sport,this.initializeLanguage()}),this.loaded=!1}loadFalse(){this.loaded=!1}initializeLanguage(){this.translate.use(this.reservationSrv.authSrv.language),this.translate.setDefaultLang(this.reservationSrv.authSrv.language),this.translate.get(["commun_translations","club_translations.schedule","reservations"]).subscribe(e=>{this.translations=e,this.WeekDays=[this.translations.commun_translations.day_1,this.translations.commun_translations.day_2,this.translations.commun_translations.day_3,this.translations.commun_translations.day_4,this.translations.commun_translations.day_5,this.translations.commun_translations.day_6,this.translations.commun_translations.day_7],this.getDayWeek(),this.getReservationsDay(),this.error_message=this.translations.reservations.notice_5,this.type_reservations["one-time"]=this.translations.reservations.type_one_time,this.type_reservations.recurrent=this.translations.reservations.type_recurrent,this.type_reservations["class-lessons"]=this.translations.reservations.type_lessons})}getReservationsDay(){let e=this.getSportSelectedId();this.clubDataSrv.config(this.hash_club,this.day_week_number,this.date,e).subscribe(o=>{200==o.message&&(this.total_sport_clubs=o.total_types_sport,this.loaded=!0,this.courts=o.courts,this.all_courts=o.all_courts,this.schedule=o.finalScheduleHours,this.reservations=o.reservations,this.major_sport=o.major_sport,this.configureHoursReserve(),this.typeOfCourtsClub())})}scrollToBottom(){window.scrollTo(0,window.document.body.scrollHeight-window.innerHeight)}configureHoursReserve(){this.reservations.forEach(e=>{this.schedule.forEach(o=>{e.schedule_id==o.id&&o.courts.forEach(r=>{e.court_id==r.id&&(r.reservation_id=e.reservation_id,r.reservation_name=e.reservation_name,r.reservation_schedule=e.start_time+"-"+e.end_time,r.is_recurrent=e.recurrent,r.type=e.type)})})});for(let e=1;e<this.schedule.length;e++)for(let o=0;o<this.schedule[e].courts.length;o++)this.schedule[e-1].courts[o].reservation_id&&this.schedule[e].courts[o].reservation_id==this.schedule[e-1].courts[o].reservation_id&&(this.schedule[e].courts[o].reservation_name="",this.schedule[e].courts[o].reservation_schedule="")}getDayWeek(){this.date_format=this.pipe.transform(this.date,"dd-MM-yyyy"),this.date_reservation=new Date(this.date).toISOString(),this.reserve_day=new Date(this.date);let e=this.reserve_day.getDay();0==e&&(e=7),this.day_week_number="day_"+e,this.day_name=this.WeekDays[e-1]}lessDay(){this.hoursSelected=[];let e=new Date(this.date);e.setDate(e.getDate()-1),this.date=this.pipe.transform(e,"yyyy-MM-dd"),this.router.navigate(["/club/booking",this.sport_selected,this.hash_club,this.date]),this.reserve_day=new Date(this.date)}moreDay(){this.hoursSelected=[];let e=new Date(this.date);e.setDate(e.getDate()+1),this.date=this.pipe.transform(e,"yyyy-MM-dd"),this.router.navigate(["/club/booking",this.sport_selected,this.hash_club,this.date]),this.reserve_day=new Date(this.date)}changeDateReservations(e){this.hoursSelected=[],this.date=this.pipe.transform(this.date_reservation,"yyyy-MM-dd"),this.reserve_day=new Date(this.date),this.getDayWeek(),this.getReservationsDay()}selectHour(e,o){var r=document.getElementById(e.id+"_"+o);let a=this.hoursSelected.findIndex(l=>l.court==o&&l.schedule_id==e.id);-1!=a?(this.hoursSelected.splice(a,1),r&&r.classList.remove("color-red-first")):(this.hoursSelected.push({court:o,schedule_id:e.id,hour_start:e.format_hour_start,hour_end:e.format_hour_end}),r&&r.classList.add("color-red-first")),this.checkCorrectHours()}cleanMessage(){this.error_message_popup="",this.message_errors=[],this.error_cancel_reservsation_message=""}openPopup(){this.potential_member_found=[],this.susccess_message_popup="",this.email_reservation="",this.password_reservation="",this.password_cancel_reservation="",this.cleanMessage()}addReservation(){if(""==this.email_reservation||""==this.password_reservation||0==this.hoursSelected.length)return void(this.error_message_popup=this.translations.reservations.error_5);if(this.email_reservation&&this.email_reservation.length>191)return void(this.error_message_popup=this.translations.reservations.error_2);if(this.password_reservation&&this.password_reservation.length>50)return void(this.error_message_popup=this.translations.reservations.error_2);if(this.hoursSelected&&this.hoursSelected.length<2)return void(this.error_message_popup=this.translations.reservations.error_4);let e=new FormData;e.append("hash_club",this.hash_club),e.append("court_id",this.court_selected),e.append("email",this.email_reservation),e.append("password",this.password_reservation);let o=this.hoursSelected.length;e.append("day_week_number",this.day_week_number),e.append("start_time",this.hoursSelected[0].hour_start),e.append("end_time",this.hoursSelected[o-1].hour_end),e.append("date",this.date),e.append("hours_selected",JSON.stringify(this.hoursSelected)),this.clubDataSrv.storeReservation(e).subscribe(r=>{200==r.message?(this.hoursSelected.forEach(a=>{this.reservations.push({court_id:a.court,reservation_id:r.reservation_id,reservation_name:this.email_reservation,schedule_id:a.schedule_id})}),this.hoursSelected=[],this.disableButtonReserve=!0,this.susccess_message_popup=this.translations.commun_translations.data_save_correctly,this.error_message=this.translations.reservations.error_4):422==r.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=r.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}showReserve(e){this.clubDataSrv.getBooking(e).subscribe(o=>{200==o.message&&(this.reservation=o.reservation,this.reservation.type_name=this.type_reservations[o.reservation.type])})}closPopupCreateRervation(){document.location.reload()}checkCorrectHours(){for(let e=0;e<this.hoursSelected.length-1;e++)if(this.court_selected=this.hoursSelected[e].court,this.hoursSelected[e+1].court!=this.hoursSelected[e].court)return this.error_message=this.translations.reservations.notice_1,this.court_selected=null,void(this.disableButtonReserve=!0);if(this.hoursSelected.length>2&&this.hoursSelected.length<5&&(this.hoursSelected=this.hoursSelected.sort((e,o)=>e.schedule_id<o.schedule_id?-1:1),this.error_message="",this.disableButtonReserve=!1),this.hoursSelected.length>4)return this.error_message=this.translations.reservations.notice_2,void(this.disableButtonReserve=!0);if(this.hoursSelected.length<2)return this.error_message=this.translations.reservations.notice_5,void(this.disableButtonReserve=!0);this.hoursSelected=this.hoursSelected.sort((e,o)=>e.schedule_id<o.schedule_id?-1:1);for(let e=0;e<this.hoursSelected.length-1;e++)if(this.hoursSelected[e+1].schedule_id-this.hoursSelected[e].schedule_id!=1)return this.error_message=this.translations.reservations.notice_4,void(this.disableButtonReserve=!0)}closePopupShowReservation(){this.closeShowbutton.nativeElement.click()}removeReservation(){if(""==this.password_cancel_reservation)return void(this.error_cancel_reservsation_message=this.translations.reservations.error_6);if(this.password_cancel_reservation&&this.password_cancel_reservation.length>50)return void(this.error_cancel_reservsation_message=this.translations.reservations.error_2);let e=new FormData;e.append("reservation_id",this.reservation.id),e.append("password",this.password_cancel_reservation),this.clubDataSrv.cancelBooking(e).subscribe(o=>{if(200==o.message){let r=[];for(let a=0;a<this.reservations.length;a++)this.reservations[a].reservation_id===this.reservation.id&&(r.push(this.reservations[a]),this.reservations.splice(a--,1));r.forEach(a=>{this.schedule.forEach(l=>{a.schedule_id==l.id&&l.courts.forEach(p=>{a.court_id==p.id&&(p.reservation_id=null,p.reservation_name=null)})})}),this.closebuttonDeleteReservation.nativeElement.click()}else console.log(o)})}typeOfCourtsClub(){this.all_courts.some(e=>{1==e.sport_type&&(this.hasPadelCourts=!0),2==e.sport_type&&(this.hasTennisCourts=!0),3==e.sport_type&&(this.hasPickleballCourts=!0),4==e.sport_type&&(this.hasSquashCourts=!0),5==e.sport_type&&(this.hasBadmintonCourts=!0)})}getSportSelectedId(){let e=this.major_sport;switch(this.sport_selected){case"padel":default:e=1;break;case"tennis":e=2;break;case"pickleball":e=3;break;case"squash":e=4;break;case"badminton":e=5}return e}};let s=i;return i.\u0275fac=function(o){return new(o||i)(t.Y36(b.E),t.Y36(d.gz),t.Y36(x.E),t.Y36(d.F0),t.Y36(v.sK),t.Y36(k.Z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-booking"]],viewQuery:function(o,r){if(1&o&&(t.Gf(w,5),t.Gf(y,5),t.Gf(T,5)),2&o){let a;t.iGM(a=t.CRH())&&(r.closebutton=a.first),t.iGM(a=t.CRH())&&(r.closeShowbutton=a.first),t.iGM(a=t.CRH())&&(r.closebuttonDeleteReservation=a.first)}},decls:7,vars:1,consts:[["id","home",1,"main-wrapper"],[1,"hero-section","auto-height","text-center"],[1,"container"],[1,"profile-tabs"],[1,"tab-content"],["class","tab-pane show active","id","booking",4,"ngIf"],["id","booking",1,"tab-pane","show","active"],[1,"good-morning-blk"],[1,"row"],[1,"col-12"],[1,"morning-user","text-center"],[1,"row","hide-desktop","test"],[1,"col-3","text-start"],["href","javascript:void(0);",1,"btn","trash",3,"click"],[1,"icon","fa","fa-long-arrow-left","ms-2"],[1,"col-6","center"],[1,"form-group","local-forms"],["type","text","matInput","","name","date_reservation",1,"form-control","datetimepicker",3,"matDatepicker","ngModel","ngModelChange","dateChange"],["picker_mobile",""],["matIconSuffix","",3,"for"],[1,"col-2"],[1,"icon","fa","fa-long-arrow-right","ms-2"],[1,"row","hide-mobile"],[1,"col-5","text-end"],[1,"col-2","center"],["picker",""],[1,"col-5","text-start"],["class","col-12",4,"ngIf"],[1,"card-block"],["class","fabs ","role","group","aria-label","Floating action buttons",4,"ngIf"],[1,"table-responsive"],[1,"table","mb-0"],[2,"width","70px !important"],[4,"ngFor","ngForOf"],["class","col-md-12 my-4",4,"ngIf"],["id","add_schedule","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"col-12","col-md-12","col-xl-12"],[1,"col-12","col-md-12","col-xl-12","my-4","text-center"],[1,"login-danger"],["name","name_schedule","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","password_reservation","type","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","my-2","center"],[1,"m-t-20","text-center"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1",3,"click"],["closebuttonAddShedule",""],["type","submit","style","width: auto;","class","btn btn-primary text-white",3,"click",4,"ngIf"],["id","show_reservation","class","modal fade delete-modal","role","dialog",4,"ngIf"],["id","delete_reservation","role","dialog",1,"modal","fade","delete-modal"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],["name","password_cancel_reservation","type","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebuttonDeleteReservation",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],["class","nav-item ",3,"ngClass",4,"ngIf"],["class","nav-item",3,"ngClass",4,"ngIf"],[1,"nav-item",3,"ngClass"],[1,"nav-link",3,"routerLink","click"],[3,"routerLink","click"],["role","group","aria-label","Floating action buttons",1,"fabs"],["class","btn btn-sm btn-primary","data-bs-toggle","modal","data-bs-target","#add_schedule",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-primary disabled-button-color",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#add_schedule",1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"btn","btn-sm","btn-primary","disabled-button-color",3,"click"],[1,"table-primary"],["class"," border-td",3,"id","click",4,"ngIf"],["class","color-gray border-td",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#show_reservation",3,"ngClass","click",4,"ngIf"],[1,"border-td",3,"id","click"],[1,"color-gray","border-td"],["data-bs-toggle","modal","data-bs-target","#show_reservation",3,"ngClass","click"],[1,"booking-name"],[1,"col-md-12","my-4"],["class","alert alert-warning alert-dismissible fade show text-center","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","text-center"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["type","submit",1,"btn","btn-primary","text-white",2,"width","auto",3,"click"],["id","show_reservation","role","dialog",1,"modal","fade","delete-modal"],[1,"col-6","col-md-6","col-xl-12","my-4","text-center"],["type","text",1,"form-control",3,"value"],[1,"col-3","col-md-3","col-xl-6","my-6","text-center"],["closebuttonShowhedule",""],["type","submit","style","width: auto;","class","btn btn-danger text-white","href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_reservation",3,"click",4,"ngIf"],["type","submit","href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_reservation",1,"btn","btn-danger","text-white",2,"width","auto",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"app-club-info"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.YNc(6,at,109,44,"div",5),t.qZA()()()()()),2&o&&(t.xp6(6),t.Q6J("ngIf","booking"==r.tab_selected))},dependencies:[_.mk,_.sg,_.O5,d.rH,h.Mq,h.hl,h.nW,C.R9,g.Fj,g.JJ,g.On,Z.o,v.X$],styles:["table[_ngcontent-%COMP%]{width:100%;display:table;table-layout:fixed;border-collapse:collapse}td[_ngcontent-%COMP%]{display:table-cell;text-align:center;vertical-align:middle;word-wrap:break-word}th[_ngcontent-%COMP%]{text-align:center;border:none}.color-gray[_ngcontent-%COMP%]{background-color:gray!important;border:none}h3[_ngcontent-%COMP%]{color:#c9bdbd}p[_ngcontent-%COMP%]{text-align:left;color:#3f4f84;font-size:14px;font-weight:700;margin-bottom:0;text-transform:uppercase}.color-red[_ngcontent-%COMP%]{background-color:#ffd3b6;border-top:none;border-bottom:none;cursor:pointer}.reservation_schedule[_ngcontent-%COMP%]{text-align:left;color:#213d90!important;font-size:12px!important;margin-left:20px}.recurrent-booking[_ngcontent-%COMP%]{border-left:3px solid #f6f4f4!important;background-color:#ffd1d3;border-bottom:none;cursor:pointer}.recurrent-booking-first[_ngcontent-%COMP%]{border-left:3px solid #f6f4f4!important;border-top:3px solid #f6f4f4!important;background-color:#ffd1d3;border-bottom:none;cursor:pointer}.border-td[_ngcontent-%COMP%]{padding:10px;border:3px solid #f6f4f4;border-collapse:collapse;background-color:#fff;cursor:pointer}.one-time-booking[_ngcontent-%COMP%]{background-color:#98affc;border-top:none;border-bottom:none;border-right:3px solid #f6f4f4!important;border-left:3px solid #f6f4f4!important;cursor:pointer}.one-time-booking-first[_ngcontent-%COMP%]{border-left:3px solid #f6f4f4!important;border-top:3px solid #f6f4f4!important;background-color:#98affc;border-bottom:none;cursor:pointer}.class-lesson-booking[_ngcontent-%COMP%]{background-color:#f5e5c8;border-top:none;border-bottom:none;border-right:3px solid #f6f4f4!important;border-left:3px solid #f6f4f4!important;cursor:pointer}.class-lesson-booking-first[_ngcontent-%COMP%]{border-left:3px solid #f6f4f4!important;border-right:3px solid #f6f4f4!important;border-top:3px solid #f6f4f4!important;background-color:#f5e5c8;border-bottom:none;cursor:pointer}.recurrent-booking[_ngcontent-%COMP%]{background-color:#fbcfd2;border-top:none;border-bottom:none;border-right:3px solid #f6f4f4!important;border-left:3px solid #f6f4f4!important;cursor:pointer}.recurrent-booking-first[_ngcontent-%COMP%]{border-left:3px solid #f6f4f4!important;border-top:3px solid #f6f4f4!important;background-color:#fbcfd2;border-bottom:none;cursor:pointer}.color-red-first[_ngcontent-%COMP%]{background-color:#ffd3b6;border-bottom:none;cursor:pointer}.top-border[_ngcontent-%COMP%]{border-top:3px solid #f6f4f4}@media screen and (max-width: 800px){p[_ngcontent-%COMP%]{font-size:15px}.reservation_schedule[_ngcontent-%COMP%]{margin-left:2px;font-size:12px!important;display:block}}@media screen and (max-width: 480px){.hide-mobile[_ngcontent-%COMP%]{display:none!important}}@media screen and (min-width: 481px){.hide-desktop[_ngcontent-%COMP%]{display:none!important}}h2[_ngcontent-%COMP%]{color:gray}.morning-user[_ngcontent-%COMP%]{padding:20px 0 20px 35px}.morning-user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .card-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#c9bdbd;font-size:20px;font-weight:400}.card-title[_ngcontent-%COMP%]{margin-bottom:.125rem}input[_ngcontent-%COMP%]{color:#c9bdbd;font-size:17px;font-weight:400}.icon[_ngcontent-%COMP%]{align-items:center;height:42px;width:46px;display:flex;justify-content:center;-webkit-justify-content:center;-ms-flex-pack:center;background-color:#eee;color:#333548;position:relative;font-size:16px;margin-left:6px}.background_yellow[_ngcontent-%COMP%]{background-color:#ffed00!important;color:#424242!important;font-weight:700!important}.background_yellow_light[_ngcontent-%COMP%]{background-color:#efe88e!important;color:#424242!important;font-weight:700!important}.background_yellow_light[_ngcontent-%COMP%]:hover{background-color:#ffed00!important;color:#424242!important;font-weight:700!important}li[_ngcontent-%COMP%]{cursor:pointer}.fabs[_ngcontent-%COMP%]{--_viewport-margin: 2.5vmin;position:fixed;z-index:var(--layer-1);inset-block:auto var(--_viewport-margin);inset-inline:auto var(--_viewport-margin)}.disabled-button-color[_ngcontent-%COMP%]{background-color:#5da3fb}.occupied-court[_ngcontent-%COMP%]{background-color:#f4c1c4}.booking-name[_ngcontent-%COMP%]{text-align:left;color:#3f4f84!important;font-size:14px!important;font-weight:700!important;margin-bottom:0!important}@media (max-width: 482px){#home[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px!important;line-height:normal;font-weight:lighter!important}}"]}),s})()}];let lt=(()=>{const i=class{};let s=i;return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.Bz.forChild(ct),d.Bz]}),s})();var _t=c(5108);let dt=(()=>{const i=class{};let s=i;return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[_.ez,lt,_t.m]}),s})()}}]);