"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[8405],{8405:(Q,h,i)=>{i.r(h),i.d(h,{CalendarAppointmentModule:()=>G});var c=i(6895),s=i(27),t=i(4650);let v=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-calendar-appointment"]],decls:1,vars:0,template:function(a,o){1&a&&t._UZ(0,"router-outlet")},dependencies:[s.lC]})}return e})();var g=i(6382),f=i(5911),C=i(821),A=i(7552),Z=i(7945),y=i(3564),p=i(529),M=i(5862),b=i(866);let T=(()=>{class e{constructor(n,a){this.http=n,this.authSrv=a}calendarAppointment(n="",a="",o=""){let l=new p.WM({Authorization:"Bearer "+this.authSrv.token}),d="";return""!=n&&(d+="&search_doctor="+n),""!=a&&(d+="&search_patient="+a),""!=o&&(d+="&specialitie_id="+o),this.http.get(M.$g+"/appointment/calendar?"+d,{headers:l})}static#t=this.\u0275fac=function(a){return new(a||e)(t.LFG(p.eN),t.LFG(b.e))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var r=i(433),D=i(4385),x=i(3238),J=i(9476);function U(e,m){if(1&e){const n=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"label"),t._uU(3,"Doctor Name "),t.qZA(),t.TgZ(4,"input",30),t.NdJ("ngModelChange",function(o){t.CHM(n);const l=t.oxw();return t.KtG(l.searchDataDoctorValue=o)}),t.qZA()()()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("ngModel",n.searchDataDoctorValue)}}function F(e,m){if(1&e&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&e){const n=m.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij(" ",n.name," ")}}const S=function(){return{standalone:!0}};function P(e,m){if(1&e){const n=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"label"),t._uU(3,"Specialities "),t.qZA(),t.TgZ(4,"mat-select",31),t.NdJ("ngModelChange",function(o){t.CHM(n);const l=t.oxw();return t.KtG(l.specialitie_value=o)}),t.YNc(5,F,2,2,"mat-option",32),t.qZA()()()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("ngModel",n.specialitie_value)("ngModelOptions",t.DdM(3,S)),t.xp6(1),t.Q6J("ngForOf",n.specialities)}}const N=[{path:"",component:v,children:[{path:"appointments",component:(()=>{class e{constructor(n,a,o){this.data=n,this.appointmentPaysSrv=a,this.calendarSrv=o,this.routes=g._,this.events=[],this.searchDataDoctorValue="",this.searchDataPatientValue="",this.specialitie_value="",this.specialities=[],this.options={plugins:[A.Z,f.Z,C.ZP],initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:[{title:"Meeting",start:new Date}]}}ngOnInit(){this.appointmentPaysSrv.config().subscribe(n=>{this.specialities=n.specialities}),this.user=this.appointmentPaysSrv.authSrv.user,this.calendarAppointment()}isPermited(){let n=!1;return this.user.role.forEach(o=>{"DOCTOR"==o.toUpperCase()&&(n=!0)}),n}calendarAppointment(){this.calendarSrv.calendarAppointment(this.searchDataDoctorValue,this.searchDataPatientValue,this.specialitie_value).subscribe(n=>{this.events=n.appointment,this.options={...this.options,events:n.appointment},console.log(this.events)})}filter(){this.calendarAppointment()}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(Z.D),t.Y36(y.E),t.Y36(T))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-appointment-calendar"]],decls:44,vars:4,consts:[[1,"page-wrapper"],[1,"content"],[1,"row"],[1,"col-sm-8","col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#","onclick","return false; "],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"col-12","col-md-6","col-xl-3"],[1,"form-group","local-forms"],["name","name_patient","id","name_patient","type","text",1,"form-control",3,"ngModel","ngModelChange"],["class","col-12 col-md-6 col-xl-3",4,"ngIf"],[1,"doctor-submit"],["type","submit",1,"btn","btn-primary","submit-list-form","me-2",3,"click"],[1,"col-lg-12"],[1,"card-box","mb-0"],[1,"col-md-12"],["id","calendar",1,"full-cal"],[3,"options"],["id","event-modal",1,"modal","fade","none-border"],[1,"modal-dialog"],[1,"modal-content","modal-md"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"modal-footer","text-center"],["type","button",1,"btn","btn-primary","submit-btn","save-event"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","btn-lg","delete-event"],["name","name_doctor","id","name_doctor","type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Select Specialitie",1,"form-control","select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),t._uU(7,"Appointment "),t.qZA()(),t.TgZ(8,"li",5),t._UZ(9,"i",7),t.qZA(),t.TgZ(10,"li",8),t._uU(11,"Calendar"),t.qZA()()()(),t.TgZ(12,"div",2)(13,"div",9)(14,"div",10)(15,"label"),t._uU(16,"Patient Name "),t.qZA(),t.TgZ(17,"input",11),t.NdJ("ngModelChange",function(u){return o.searchDataPatientValue=u}),t.qZA()()(),t.YNc(18,U,5,1,"div",12),t.YNc(19,P,6,4,"div",12),t.TgZ(20,"div",9)(21,"div",13)(22,"button",14),t.NdJ("click",function(){return o.filter()}),t._uU(23,"Search"),t.qZA()()()(),t.TgZ(24,"div",2)(25,"div",15)(26,"div",16)(27,"div",2)(28,"div",17)(29,"div",18),t._UZ(30,"full-calendar",19),t.qZA()()()(),t.TgZ(31,"div",20)(32,"div",21)(33,"div",22)(34,"div",23)(35,"h4",24),t._uU(36,"Add Event"),t.qZA(),t._UZ(37,"button",25),t.qZA(),t._UZ(38,"div",26),t.TgZ(39,"div",27)(40,"button",28),t._uU(41,"Create event"),t.qZA(),t.TgZ(42,"button",29),t._uU(43,"Delete"),t.qZA()()()()()()()()()),2&a&&(t.xp6(17),t.Q6J("ngModel",o.searchDataPatientValue),t.xp6(1),t.Q6J("ngIf",!o.isPermited()),t.xp6(1),t.Q6J("ngIf",!o.isPermited()),t.xp6(11),t.Q6J("options",o.options))},dependencies:[c.sg,c.O5,r.Fj,r.JJ,r.On,D.gD,x.ey,J.w]})}return e})()}]}];let O=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[s.Bz.forChild(N),s.Bz]})}return e})();var V=i(6943);let G=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[c.ez,O,r.u5,r.UX,p.JF,s.Bz,V.m]})}return e})()}}]);