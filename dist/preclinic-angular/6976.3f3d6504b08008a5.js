"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[6976],{46976:(Ut,M,_)=>{_.r(M),_.d(M,{LeagueModule:()=>Mt});var g=_(36895),d=_(30027),e=_(94650);let D=(()=>{const r=class{};let a=r;return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-league"]],decls:1,vars:0,template:function(i,n){1&i&&e._UZ(0,"router-outlet")},dependencies:[d.lC]}),a})();var T=_(46382),u=_(80529),h=_(75862),F=_(40866);let y=(()=>{const r=class{constructor(t,i){this.http=t,this.authSrv=i}listLeagues(t=1,i=""){let n=new u.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(h.$g+"/leagues?page="+t+"&search="+i,{headers:n})}config(){let t=new u.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(h.$g+"/leagues/config",{headers:t})}getLeague(t){let i=new u.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(h.$g+"/leagues/"+t,{headers:i})}storeLeague(t){let i=new u.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(h.$g+"/leagues",t,{headers:i})}editLeague(t,i){let n=new u.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(h.$g+"/leagues/update/"+t,i,{headers:n})}deleteLeague(t){let i=new u.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.delete(h.$g+"/leagues/"+t,{headers:i})}getAllPlayersLeague(t,i=1,n="",o="",c="",p=null,w=null){let x=new u.WM({Authorization:"Bearer "+this.authSrv.token}),v="";return""!=n&&(v+="&player_name_search="+n),""!=o&&(v+="&status_match_id="+o),""!=c&&(v+="&court_id="+c),null!=p&&(v+="&date="+p),""!=w&&(v+="&category_id="+w),this.http.get(h.$g+"/leagues/get-all-players?league_id="+t+"&page="+i+v,{headers:x})}paidPlayerLeague(t){let i=new u.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(h.$g+"/leagues/paid-player-tournament/"+t,null,{headers:i})}unpaidPlayerLeague(t){let i=new u.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(h.$g+"/leagues/unpaid-player-tournament/"+t,null,{headers:i})}resetLeague(t){let i=new u.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.delete(h.$g+"/leagues/reset-league/"+t,{headers:i})}};let a=r;return r.\u0275fac=function(i){return new(i||r)(e.LFG(u.eN),e.LFG(F.e))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),a})();var J=_(53182),m=_(42466),Z=_(3238),l=_(24006),f=_(3125),U=_(59549),C=_(84385);const K=["closebutton"];function G(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.tabSeleted(2))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.categories")))}function H(a,r){1&a&&(e.TgZ(0,"a",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.categories")))}const z=function(a){return["/leagues/all-players",a]};function V(a,r){if(1&a&&(e.TgZ(0,"a",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const s=e.oxw();e.Q6J("routerLink",e.VKq(4,z,s.id_league)),e.xp6(1),e.Oqu(e.lcZ(2,2,"tournaments.payments"))}}function $(a,r){1&a&&(e.TgZ(0,"a",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"tournaments.payments")))}function B(a,r){if(1&a&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&a){const s=r.$implicit;e.Q6J("value",s.id),e.xp6(1),e.hij(" ",s.name," ")}}function W(a,r){if(1&a&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&a){const s=r.$implicit;e.Q6J("value",s.id),e.xp6(1),e.hij(" ",s.name," ")}}const N=function(){return{standalone:!0}};function R(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",37)(1,"div",34)(2,"label"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",35),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"mat-select",43),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw(2);return e.KtG(n.match_type_id=i)}),e.ALo(8,"translate"),e.YNc(9,W,2,2,"mat-option",44),e.qZA()()()}if(2&a){const s=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,5,"club_translations.type_match")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(8,7,"club_translations.select_type")),e.Q6J("ngModel",s.match_type_id)("ngModelOptions",e.DdM(9,N)),e.xp6(2),e.Q6J("ngForOf",s.match_types)}}function X(a,r){if(1&a&&(e.TgZ(0,"div",60),e._UZ(1,"img",61),e.qZA()),2&a){const s=e.oxw(2);e.xp6(1),e.Q6J("src",s.image_preview,e.LSH)}}function ee(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",31)(1,"div",62)(2,"button",63),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"commun_translations.save")))}function te(a,r){if(1&a&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&a){const s=r.$implicit;e.xp6(1),e.Oqu(s)}}function ae(a,r){if(1&a&&(e.TgZ(0,"ul"),e.YNc(1,te,2,1,"li",69),e.qZA()),2&a){const s=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",s.message_errors)}}function se(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",66),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.cleanMessage())}),e._UZ(7,"span",67),e.qZA(),e.YNc(8,ae,2,1,"ul",68),e.qZA()()}if(2&a){const s=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,3,"commun_translations.error")," "),e.xp6(2),e.hij(" ",s.error_message," "),e.xp6(3),e.Q6J("ngIf",s.message_errors.length>0)}}function ie(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",64)(1,"div",70)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",66),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.cleanMessage())}),e._UZ(7,"span",67),e.qZA()()()}if(2&a){const s=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,2,"commun_translations.success")," "),e.xp6(2),e.hij(" ",s.success_message," ")}}function ne(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",29)(3,"div",30)(4,"form")(5,"div",3)(6,"div",31)(7,"div",32)(8,"h4"),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",33)(12,"div",34)(13,"label"),e._uU(14),e.ALo(15,"translate"),e.TgZ(16,"span",35),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"input",36),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.name=i)}),e.qZA()()(),e.TgZ(19,"div",37)(20,"div",34)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.TgZ(24,"span",35),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"input",38),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.date_start=i)}),e.qZA(),e._UZ(27,"mat-datepicker",null,39)(29,"mat-datepicker-toggle",40),e.qZA()(),e.TgZ(30,"div",41)(31,"div",34)(32,"label"),e._uU(33),e.ALo(34,"translate"),e.TgZ(35,"span",35),e._uU(36,"*"),e.qZA()(),e.TgZ(37,"input",42),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.price=i)}),e.qZA()()(),e.TgZ(38,"div",37)(39,"div",34)(40,"label"),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",35),e._uU(44,"*"),e.qZA()(),e.TgZ(45,"mat-select",43),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.type_sport=i)}),e.ALo(46,"translate"),e.YNc(47,B,2,2,"mat-option",44),e.qZA()()(),e.YNc(48,R,10,10,"div",45),e.TgZ(49,"div",31)(50,"div",32)(51,"h4"),e._uU(52),e.ALo(53,"translate"),e.qZA()()(),e.TgZ(54,"div",41)(55,"div",34)(56,"label"),e._uU(57),e.ALo(58,"translate"),e.TgZ(59,"span",35),e._uU(60,"*"),e.qZA()(),e.TgZ(61,"input",46),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.points_per_win_2_0=i)}),e.qZA()()(),e.TgZ(62,"div",41)(63,"div",34)(64,"label"),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"span",35),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",47),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.points_per_lost_0_2=i)}),e.qZA()()(),e.TgZ(70,"div",41)(71,"div",34)(72,"label"),e._uU(73),e.ALo(74,"translate"),e.TgZ(75,"span",35),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"input",48),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.points_per_win_2_1=i)}),e.qZA()()(),e.TgZ(78,"div",41)(79,"div",34)(80,"label"),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",35),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"input",49),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.points_per_lost_1_2=i)}),e.qZA()()(),e.TgZ(86,"div",50)(87,"div",51)(88,"label",52),e._uU(89),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"div",53)(92,"input",54),e.NdJ("change",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.loadFile(i))}),e.qZA(),e.TgZ(93,"label",55),e._uU(94),e.ALo(95,"translate"),e.qZA()()()(),e.YNc(96,X,2,1,"div",56),e.qZA(),e.TgZ(97,"div",3),e.YNc(98,ee,5,3,"div",57),e.YNc(99,se,9,5,"div",58),e.YNc(100,ie,8,4,"div",58),e.qZA()()()()()()}if(2&a){const s=e.MAs(28),t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,30,"leagues.data")),e.xp6(5),e.Oqu(e.lcZ(15,32,"leagues.league_name")),e.xp6(4),e.Q6J("ngModel",t.name),e.xp6(4),e.hij("",e.lcZ(23,34,"leagues.day_start")," "),e.xp6(4),e.Q6J("ngModel",t.date_start)("matDatepicker",s),e.xp6(3),e.Q6J("for",s),e.xp6(4),e.Oqu(e.lcZ(34,36,"tournaments.price")),e.xp6(4),e.Q6J("ngModel",t.price),e.xp6(4),e.hij("",e.lcZ(42,38,"club_translations.sport")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(46,40,"club_translations.select_sport_type")),e.Q6J("ngModel",t.type_sport)("ngModelOptions",e.DdM(56,N)),e.xp6(2),e.Q6J("ngForOf",t.kind_sport),e.xp6(1),e.Q6J("ngIf","2"==t.type_sport),e.xp6(4),e.Oqu(e.lcZ(53,42,"club_translations.points")),e.xp6(5),e.hij("",e.lcZ(58,44,"leagues.points_for_winning")," 2-0"),e.xp6(4),e.Q6J("ngModel",t.points_per_win_2_0),e.xp6(4),e.hij("",e.lcZ(66,46,"leagues.points_set_winning_loser")," 0-2"),e.xp6(4),e.Q6J("ngModel",t.points_per_lost_0_2),e.xp6(4),e.hij("",e.lcZ(74,48,"leagues.points_for_winning")," 2-1"),e.xp6(4),e.Q6J("ngModel",t.points_per_win_2_1),e.xp6(4),e.hij("",e.lcZ(82,50,"leagues.points_set_winning_loser")," 1-2"),e.xp6(4),e.Q6J("ngModel",t.points_per_lost_1_2),e.xp6(4),e.hij("",e.lcZ(90,52,"leagues.logo")," "),e.xp6(5),e.Oqu(e.lcZ(95,54,"leagues.form_select_img")),e.xp6(2),e.Q6J("ngIf",t.image_preview),e.xp6(2),e.Q6J("ngIf",""==t.league_inserted_id),e.xp6(1),e.Q6J("ngIf",""!=t.error_message),e.xp6(1),e.Q6J("ngIf",""!=t.success_message)}}function re(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",37)(1,"div",74)(2,"div",75)(3,"div",34)(4,"label"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"span",35),e._uU(8,"*"),e.qZA()(),e.TgZ(9,"input",76),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw(2);return e.KtG(n.name_category=i)}),e.qZA()()(),e.TgZ(10,"div",34)(11,"div",77)(12,"button",63),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.addCategory())}),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()()}if(2&a){const s=e.oxw(2);e.xp6(5),e.hij("",e.lcZ(6,3,"leagues.name")," "),e.xp6(4),e.Q6J("ngModel",s.name_category),e.xp6(4),e.hij("",e.lcZ(14,5,"leagues.add")," ")}}function oe(a,r){1&a&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.remove")))}function le(a,r){1&a&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.setting")))}function _e(a,r){1&a&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.view")))}function ce(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"td")(1,"a",79),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(),n=i.$implicit,o=i.index,c=e.oxw(2);return e.KtG(c.selectCategory(n,o))}),e._UZ(2,"i",80),e.qZA()()}}const Q=function(a){return["/category/data",a,1]};function ge(a,r){if(1&a&&(e.TgZ(0,"td")(1,"a",81),e._UZ(2,"img",82),e.qZA()()),2&a){const s=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,Q,s.id))}}function ue(a,r){if(1&a&&(e.TgZ(0,"td")(1,"a",81),e._UZ(2,"img",82),e.qZA()()),2&a){const s=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,Q,s.id))}}function de(a,r){if(1&a&&(e.ynx(0),e.TgZ(1,"tr",78)(2,"td"),e._uU(3),e.qZA(),e.YNc(4,ce,3,0,"td",68),e.YNc(5,ge,3,3,"td",68),e.YNc(6,ue,3,3,"td",68),e.qZA(),e.BQk()),2&a){const s=r.$implicit,t=e.oxw(2);e.xp6(3),e.AsE(" ",s.name," (",s.total_couple,") "),e.xp6(1),e.Q6J("ngIf",1==t.can_edit),e.xp6(1),e.Q6J("ngIf",1==t.can_edit),e.xp6(1),e.Q6J("ngIf",0==t.can_edit)}}function pe(a,r){if(1&a&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",29)(3,"div",30)(4,"form")(5,"div",3),e.YNc(6,re,15,7,"div",45),e.TgZ(7,"div",71)(8,"div",72)(9,"table",73)(10,"thead")(11,"tr")(12,"th"),e._uU(13),e.ALo(14,"translate"),e.ALo(15,"translate"),e.qZA(),e.YNc(16,oe,3,3,"th",68),e.YNc(17,le,3,3,"th",68),e.YNc(18,_e,3,3,"th",68),e.qZA()(),e.TgZ(19,"tbody"),e.YNc(20,de,7,5,"ng-container",69),e.qZA()()()()()()()()()()),2&a){const s=e.oxw();e.xp6(6),e.Q6J("ngIf",s.hasPermission("edit_league")),e.xp6(7),e.AsE("",e.lcZ(14,7,"leagues.categories")," (",e.lcZ(15,9,"leagues.couples"),")"),e.xp6(3),e.Q6J("ngIf",1==s.can_edit),e.xp6(1),e.Q6J("ngIf",1==s.can_edit),e.xp6(1),e.Q6J("ngIf",0==s.can_edit),e.xp6(2),e.Q6J("ngForOf",s.categories_list)}}const L=function(a){return{active:a}};let he=(()=>{const r=class{constructor(t,i,n,o){this.leagueSrv=t,this.categorySrv=i,this.translate=n,this.routes=T._,this.name="",this.date_start="",this.points_per_win_2_0=0,this.points_per_win_2_1=0,this.points_per_lost_0_2=0,this.points_per_lost_1_2=0,this.image_preview="assets/img/img-06.jpg",this.league_inserted_id="",this.success_message="",this.error_message="",this.message_errors=[],this.message_errors_category=[],this.can_edit=!1,this.name_category="",this.description_category="",this.categories_list=[],this.error_message_category="",this.success_message_category="",this.translations=[],this.type_sport="0",this.price=0,this.courts=[],this.hasPadelCourts=!1,this.hasTennisCourts=!1,this.hasPickleballCourts=!1,this.hasSquashCourts=!1,this.hasBadmintonCourts=!1,this.kind_sport=[],this.match_types=[],this.match_type_id="0",this.tab_selected=1,this.id_league=0,this.category_selected_name="","es"==this.leagueSrv.authSrv.language&&(o.getFirstDayOfWeek=()=>1)}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.leagueSrv.config().subscribe(t=>{this.courts=t.courts,this.typeOfCourtsClub(),this.typeMatch()})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","leagues","leagues.leagues_messages","club_translations","tournaments.tournaments_messages"]).subscribe(t=>{this.translations=t})}hasPermission(t=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes(t))&&(this.can_edit=!0,!0)}loadFile(t){if(t.target.files[0].type.indexOf("image")<0)return alert(this.translations.commun_translations.only_type_img),void(this.image_preview=this.image_preview?this.image_preview:"assets/img/img-06.jpg");if(t.target.files[0].size>2e6)return alert(this.translations.commun_translations.max_size_img),void(this.fileAvatar="");this.fileAvatar=t.target.files[0];let i=new FileReader;i.readAsDataURL(this.fileAvatar),i.onloadend=()=>this.image_preview=i.result}cleanMessage(){this.error_message="",this.success_message="",this.error_message_category="",this.success_message_category=""}save(){if(this.cleanMessage(),""==this.name)return void(this.error_message=this.translations["leagues.leagues_messages"].error_1);if("0"==this.type_sport)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_13);if("2"==this.type_sport&&"0"==this.match_type_id)return void(this.error_message=this.translations["leagues.leagues_messages"].error_11);if(this.name&&this.name.length>191)return void(this.error_message=this.translations["leagues.leagues_messages"].error_2);if(""==this.date_start)return void(this.error_message=this.translations["leagues.leagues_messages"].error_3);if("number"!=typeof+this.points_per_win_2_0)return void(this.error_message=this.translations["leagues.leagues_messages"].error_4);if("number"!=typeof+this.points_per_win_2_1)return void(this.error_message=this.translations["leagues.leagues_messages"].error_8);if("number"!=typeof+this.points_per_lost_0_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_9);if("number"!=typeof+this.points_per_lost_1_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_10);let t=new FormData;t.append("name",this.name),t.append("sport_type",this.type_sport),t.append("points_per_win_2_0",this.points_per_win_2_0.toString()),t.append("points_per_win_2_1",this.points_per_win_2_1.toString()),t.append("points_per_lost_0_2",this.points_per_lost_0_2.toString()),t.append("points_per_lost_1_2",this.points_per_lost_1_2.toString()),t.append("start_date",this.date_start),t.append("imagen",this.fileAvatar),t.append("price",this.price.toString()),"1"==this.match_type_id&&t.append("match_type","double"),"2"==this.match_type_id&&t.append("match_type","singles"),this.leagueSrv.storeLeague(t).subscribe(i=>{200==i.message?(this.league_inserted_id=i.id_league,this.id_league=i.id_league,this.success_message=this.translations.commun_translations.data_save_correctly):403==i.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=i.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}addCategory(){if(this.cleanMessage(),!this.name_category)return void(this.error_message=this.translations["leagues.leagues_messages"].error_6);let t={id:null,name:this.name_category,description:this.description_category,league_id:this.league_inserted_id,total_couple:0};this.categorySrv.storeCategory(t).subscribe(i=>{200==i.message?(t.id=i.category_id,this.categories_list.push(t),this.name_category="",this.description_category="",this.success_message_category=this.translations.commun_translations.data_save_correctly):422==i.message?(this.error_message_category=this.translations.commun_translations.data_save_error,this.message_errors_category=i.errors_text):this.error_message_category=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}deleteCategory(){this.cleanMessage(),this.categorySrv.deleteCategory(this.category_selected_id).subscribe(t=>{200==t.message?(this.categories_list.splice(this.index,1),this.name_category="",this.description_category="",this.category_selected_name="",this.category_selected_id="",this.closebutton.nativeElement.click(),this.success_message_category=this.translations["leagues.leagues_messages"].success_delete):this.success_message_category=this.translations.commun_translations.data_delete_error})}typeMatch(){this.match_types.push({id:0,name:"..."},{id:1,name:this.translations.club_translations.match_type_double},{id:2,name:this.translations.club_translations.match_type_single})}typeOfCourtsClub(){this.kind_sport.push({id:0,name:"..."}),this.courts.some(t=>{1==t.sport_type&&(this.hasPadelCourts=!0),2==t.sport_type&&(this.hasTennisCourts=!0),3==t.sport_type&&(this.hasPickleballCourts=!0),4==t.sport_type&&(this.hasSquashCourts=!0),5==t.sport_type&&(this.hasBadmintonCourts=!0)}),this.hasPadelCourts&&this.kind_sport.push({id:1,name:this.translations.club_translations.sport_1}),this.hasTennisCourts&&this.kind_sport.push({id:2,name:this.translations.club_translations.sport_2}),this.hasPickleballCourts&&this.kind_sport.push({id:3,name:this.translations.club_translations.sport_3}),this.hasSquashCourts&&this.kind_sport.push({id:4,name:this.translations.club_translations.sport_4}),this.hasBadmintonCourts&&this.kind_sport.push({id:5,name:this.translations.club_translations.sport_5})}tabSeleted(t){this.tab_selected=t}selectCategory(t,i){this.category_selected_id=t.id,this.category_selected_name=t.name,this.index=i}};let a=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(y),e.Y36(J.H),e.Y36(m.sK),e.Y36(Z._A))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-league"]],viewQuery:function(i,n){if(1&i&&e.Gf(K,5),2&i){let o;e.iGM(o=e.CRH())&&(n.closebutton=o.first)}},decls:43,vars:29,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item",3,"ngClass"],["href","#","onclick","return false;",1,"nav-link",3,"click"],["href","#","onclick","return false;","class","nav-link",3,"click",4,"ngIf"],["class","nav-link nav-link-disabled",4,"ngIf"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","row",4,"ngIf"],["id","delete_category","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"nav-link","nav-link-disabled"],[1,"nav-link",3,"routerLink"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-5","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-4","col-xl-4"],["name","date_start","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"ngModel","matDatepicker","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],[1,"col-12","col-md-3","col-xl-3"],["name","price","type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 col-md-4 col-xl-4",4,"ngIf"],["name","points_per_win_2_0","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_0_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_win_2_1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_1_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],["type","file","accept","image/*","name","image","id","file",1,"hide-input",3,"change"],["for","file",1,"upload"],["class","",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[3,"value"],[1,""],["alt","","width","150px","height","150px",3,"src"],[1,"doctor-submit","text-end"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngIf"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"col-12","col-md-8","col-xl-8","settings-form"],[1,"table-responsive"],[1,"table","mb-0"],[1,"row","settings-form"],[1,"col-9"],["name","name_category","type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"doctor-submit"],[1,"align-items-center","table-primary"],["data-bs-toggle","modal","data-bs-target","#delete_category","href","#","onclick","return false;",1,"btn","trash","trash-style",3,"click"],[1,"feather","icon-trash-2","service"],["href","#",1,"btn","trash","trash-style",3,"routerLink"],["src","assets/img/icons/menu-icon-16.svg","alt",""]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"li",6),e._UZ(11,"i",8),e.qZA(),e.TgZ(12,"li",9),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()(),e.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"a",13),e.NdJ("click",function(){return n.tabSeleted(1)}),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"li",12),e.YNc(22,G,3,3,"a",14),e.YNc(23,H,3,3,"a",15),e.qZA(),e.TgZ(24,"li",12),e.YNc(25,V,3,6,"a",16),e.YNc(26,$,3,3,"a",15),e.qZA()()(),e.YNc(27,ne,101,57,"div",17),e.YNc(28,pe,21,11,"div",17),e.qZA()(),e.TgZ(29,"div",18)(30,"div",19)(31,"div",20)(32,"div",21),e._UZ(33,"img",22),e.TgZ(34,"h3"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"div",23)(38,"a",24,25),e._uU(40,"Cerrar"),e.qZA(),e.TgZ(41,"button",26),e.NdJ("click",function(){return n.deleteCategory()}),e._uU(42,"Borrar"),e.qZA()()()()()()),2&i&&(e.xp6(7),e.Q6J("routerLink",n.routes.leagueList),e.xp6(1),e.hij("",e.lcZ(9,15,"leagues.leagues")," "),e.xp6(5),e.Oqu(e.lcZ(14,17,"commun_translations.add")),e.xp6(4),e.Q6J("ngClass",e.VKq(23,L,1==n.tab_selected)),e.xp6(2),e.Oqu(e.lcZ(20,19,"leagues.tabs.general_data")),e.xp6(2),e.Q6J("ngClass",e.VKq(25,L,2==n.tab_selected)),e.xp6(1),e.Q6J("ngIf",0!=n.id_league),e.xp6(1),e.Q6J("ngIf",0==n.id_league),e.xp6(1),e.Q6J("ngClass",e.VKq(27,L,3==n.tab_selected)),e.xp6(1),e.Q6J("ngIf",0!=n.id_league),e.xp6(1),e.Q6J("ngIf",0==n.id_league),e.xp6(1),e.Q6J("ngIf",1==n.tab_selected),e.xp6(1),e.Q6J("ngIf",2==n.tab_selected),e.xp6(7),e.AsE("",e.lcZ(36,21,"tournaments.sure_delete_category"),": ",n.category_selected_name,"?"))},dependencies:[g.mk,g.sg,g.O5,d.rH,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.F,f.Mq,f.hl,f.nW,U.R9,C.gD,Z.ey,m.X$],styles:[".nav-link-disabled[_ngcontent-%COMP%]{background-color:gray!important;cursor:no-drop}.settings-form[_ngcontent-%COMP%]   .trash[_ngcontent-%COMP%]{display:inline!important}"]}),a})();var A=_(30671),me=_(74742),q=_(96308);const fe=["closebutton"],P=function(a){return["edit",a]};function ve(a,r){if(1&a&&(e.TgZ(0,"a",67),e._UZ(1,"i",68),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&a){const s=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(4,P,s.id)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"commun_translations.view"),"")}}function Ze(a,r){if(1&a&&(e.TgZ(0,"a",67),e._UZ(1,"i",69),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&a){const s=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(4,P,s.id)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"commun_translations.edit"),"")}}function xe(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"a",70),e.NdJ("click",function(){e.CHM(s);const i=e.oxw().$implicit,n=e.oxw();return e.KtG(n.selectLeague(i))}),e._UZ(1,"i",71),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commun_translations.remove"),""))}const ye=function(a,r){return{"status-green":a,"status-pink":r}};function Ae(a,r){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td")(9,"button",59),e._uU(10),e.qZA()(),e.TgZ(11,"td",60)(12,"div",61)(13,"a",62),e._UZ(14,"i",63),e.qZA(),e.TgZ(15,"div",64),e.YNc(16,ve,4,6,"a",65),e.YNc(17,Ze,4,6,"a",65),e.YNc(18,xe,4,3,"a",66),e.qZA()()()()),2&a){const s=r.$implicit,t=e.oxw();e.xp6(2),e.Oqu(s.name),e.xp6(2),e.Oqu(t.kind_sport[s.sport_type].name),e.xp6(2),e.Oqu(e.xi3(7,8,s.start_date,"dd/MM/yyyy")),e.xp6(3),e.Q6J("ngClass",e.WLB(11,ye,0==s.match_finished,s.match_finished>0)),e.xp6(1),e.Oqu(s.status),e.xp6(6),e.Q6J("ngIf",0==t.hasPermission("edit_league")&&t.hasPermission("list_league")),e.xp6(1),e.Q6J("ngIf",t.hasPermission("edit_league")),e.xp6(1),e.Q6J("ngIf",t.hasPermission("delete_league"))}}function be(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"li",73),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.moveToPage(i.currentPage-2))}),e.TgZ(1,"a",74),e._uU(2," ... "),e.qZA()()}if(2&a){const s=e.oxw(2);e.Q6J("hidden",1===s.currentPage)}}function Te(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"li",73),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.moveToPage(i.currentPage+2))}),e.TgZ(1,"a",74),e._uU(2," ... "),e.qZA()()}if(2&a){const s=e.oxw(2);e.Q6J("hidden",s.currentPage>=s.pageNumberArray[s.pageNumberArray.length-2]||s.totalData<s.serialNumberArray[s.serialNumberArray.length-1])}}function Ce(a,r){if(1&a){const s=e.EpF();e.ynx(0),e.TgZ(1,"li",46)(2,"a",48),e.NdJ("click",function(){const n=e.CHM(s).$implicit,o=e.oxw();return e.KtG(o.moveToPage(n))}),e._uU(3),e.qZA()(),e.YNc(4,be,3,1,"li",72),e.YNc(5,Te,3,1,"li",72),e.BQk()}if(2&a){const s=r.$implicit,t=r.index,i=e.oxw();e.xp6(1),e.ekj("active",s===i.currentPage),e.Q6J("ngClass",i.pageNumberArray[i.currentPage-2]>s&&1!==s&&i.pageNumberArray.length>6||i.pageNumberArray[i.currentPage]<s&&1!==s&&i.pageNumberArray.length>6&&i.pageNumberArray.length!==s?"hide-page-no":"show-page-no"),e.xp6(2),e.hij(" ",s," "),e.xp6(1),e.Q6J("ngIf",0===t&&i.pageNumberArray.length>6&&i.currentPage>2),e.xp6(1),e.Q6J("ngIf",t===i.pageNumberArray.length-2&&i.pageNumberArray.length>6)}}function Le(a,r){if(1&a&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&a){const s=e.oxw();e.xp6(1),e.hij("Est\xe1s seguro de borrar esta liga: ",s.league_selected.name,"?")}}const S=function(a){return{disabled:a}};let qe=(()=>{const r=class{constructor(t,i,n){this.data=t,this.leagueSrv=i,this.translate=n,this.leaguesList=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.leagues_general=[],this.statusText="",this.kind_sport=[],this.type_sport="0",this.translations=[]}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.getTableData()}getTableData(t=1,i=""){this.leaguesList=[],this.serialNumberArray=[],this.leagueSrv.listLeagues(t,this.searchDataValue).subscribe(n=>{this.totalData=n.total,this.leaguesList=n.leagues,this.getTextStatus(n.match_finished,n.match_pending),this.dataSource=new A.by(this.leaguesList),this.calculateTotalPages(this.totalData,this.pageSize)})}getTextStatus(t,i){this.leaguesList.forEach(n=>{1==n.preregistrations?n.status=this.translations.leagues.preregistrations:0==n.match_finished&&0==n.match_pending?n.status=this.translations.leagues.open:0==n.match_pending&&n.match_finished>0||"1"==n.finished?n.status=this.translations.leagues.finished:n.match_pending>0&&(n.status=this.translations.leagues.in_play)})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","leagues","club_translations"]).subscribe(t=>{this.translations=t,this.getTypeSports()})}hasPermission(t=""){return!(!this.user.role.includes("Super-Admin")&&!this.user.permissions.includes(t))}getTableDataGeneral(){new g.uU("en-US"),this.leaguesList=[],this.serialNumberArray=[],this.leagues_general.map((i,n)=>{const o=n+1;n>=this.skip&&o<=this.limit&&(this.leaguesList.push(i),this.serialNumberArray.push(o))}),this.dataSource=new A.by(this.leaguesList),this.calculateTotalPages(this.totalData,this.pageSize)}searchData(t){this.dataSource.filter=t.trim().toLowerCase(),this.getTableData(this.currentPage,this.searchDataValue)}sortData(t){const i=this.leaguesList.slice();this.leaguesList=t.active&&""!==t.direction?i.sort((n,o)=>(n[t.active]<o[t.active]?-1:1)*("asc"===t.direction?1:-1)):i}getMoreData(t){"next"==t?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData(this.currentPage)):"previous"==t&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableData(this.currentPage))}moveToPage(t){this.currentPage=t,this.skip=this.pageSelection[t-1].skip,this.limit=this.pageSelection[t-1].limit,t>this.currentPage?this.pageIndex=t-1:t<this.currentPage&&(this.pageIndex=t+1),this.getTableData(this.currentPage)}refresh(){this.pageSelection=[],this.searchDataValue="",this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableData()}calculateTotalPages(t,i){this.pageNumberArray=[],this.totalPages=t/i,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(var n=1;n<=this.totalPages;n++){const o=i*n,c=o-i;this.pageNumberArray.push(n),this.pageSelection.push({skip:c,limit:o})}}selectLeague(t){this.league_selected=t}removeLeague(){this.leagueSrv.deleteLeague(this.league_selected.id).subscribe(t=>{if(200==t.message){let i=this.leaguesList.findIndex(n=>n.id==this.league_selected.id);-1!=i&&(this.leaguesList.splice(i,1),this.closebutton.nativeElement.click(),this.league_selected=null)}else console.log(t)})}getTypeSports(){this.kind_sport.push({id:0,name:"..."},{id:1,name:this.translations.club_translations.sport_1},{id:2,name:this.translations.club_translations.sport_2},{id:3,name:this.translations.club_translations.sport_3},{id:4,name:this.translations.club_translations.sport_4},{id:5,name:this.translations.club_translations.sport_5})}};let a=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(me.D),e.Y36(y),e.Y36(m.sK))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-league"]],viewQuery:function(i,n){if(1&i&&e.Gf(fe,5),2&i){let o;e.iGM(o=e.CRH())&&(n.closebutton=o.first)}},decls:90,vars:34,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],["placeholder","Search here",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"add-group"],["routerLink","/leagues/add-league","routerLinkActive","router-link-active",1,"btn","btn-primary","add-pluss","ms-2"],["src","assets/img/icons/plus.svg","alt",""],["href","javascript:;",1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],["href","javascript:;",1,"me-2"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["src","assets/img/icons/pdf-icon-02.svg","alt",""],["src","assets/img/icons/pdf-icon-03.svg","alt",""],["href","javascript:;"],["src","assets/img/icons/pdf-icon-04.svg","alt",""],[1,"table-responsive"],["matSort","",1,"table","border-0","custom-table","comman-table","datatable","mb-0",3,"matSortChange"],["mat-sort-header","name"],["mat-sort-header","type_sportt"],["mat-sort-header","joining_date"],["mat-sort-header","status"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click"],["href","javascript:void(0);",1,"page-link",3,"click"],["id","delete_staff_modal","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"custom-badge",3,"ngClass"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],["class","dropdown-item","href","#",3,"routerLink",4,"ngIf"],["class","dropdown-item","href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_staff_modal",3,"click",4,"ngIf"],["href","#",1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-eye","m-r-5"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_staff_modal",1,"dropdown-item",3,"click"],[1,"fa","fa-trash-alt","m-r-5"],["class","page-item",3,"hidden","click",4,"ngIf"],[1,"page-item",3,"hidden","click"],["href","javascript:void(0);",1,"page-link"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"li",6),e._UZ(11,"i",8),e.qZA(),e.TgZ(12,"li",9),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()(),e.TgZ(15,"div",3)(16,"div",4)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",15)(23,"h3"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",16)(27,"div",17)(28,"input",18),e.NdJ("ngModelChange",function(c){return n.searchDataValue=c})("ngModelChange",function(){return n.searchData(n.searchDataValue)}),e.qZA(),e.TgZ(29,"a",19),e._UZ(30,"img",20),e.qZA()(),e.TgZ(31,"div",21)(32,"a",22),e._UZ(33,"img",23),e.qZA(),e.TgZ(34,"a",24),e.NdJ("click",function(){return n.refresh()}),e._UZ(35,"img",25),e.qZA()()()()(),e.TgZ(36,"div",26)(37,"a",27),e._UZ(38,"img",28),e.qZA(),e.TgZ(39,"a",27),e._UZ(40,"img",29),e.qZA(),e.TgZ(41,"a",27),e._UZ(42,"img",30),e.qZA(),e.TgZ(43,"a",31),e._UZ(44,"img",32),e.qZA()()()(),e.TgZ(45,"div",33)(46,"table",34),e.NdJ("matSortChange",function(c){return n.sortData(c)}),e.TgZ(47,"thead")(48,"tr")(49,"th",35),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"th",36),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"th",37),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"th",38),e._uU(59),e.ALo(60,"translate"),e.qZA(),e._UZ(61,"th"),e.qZA()(),e.TgZ(62,"tbody"),e.YNc(63,Ae,19,14,"tr",39),e.qZA()(),e.TgZ(64,"div",40)(65,"div",41)(66,"div",42),e._uU(67),e.qZA()(),e.TgZ(68,"div",43)(69,"div",44)(70,"ul",45)(71,"li",46)(72,"a",47),e.NdJ("click",function(){return n.getMoreData("previous")}),e._uU(73,"Previous"),e.qZA()(),e.YNc(74,Ce,6,6,"ng-container",39),e.TgZ(75,"li",46)(76,"a",48),e.NdJ("click",function(){return n.getMoreData("next")}),e._uU(77,"Next "),e.qZA()()()()()()()()()()()()(),e.TgZ(78,"div",49)(79,"div",50)(80,"div",51)(81,"div",52),e._UZ(82,"img",53),e.YNc(83,Le,2,1,"h3",54),e.TgZ(84,"div",55)(85,"a",56,57),e._uU(87,"Cerrar"),e.qZA(),e.TgZ(88,"button",58),e.NdJ("click",function(){return n.removeLeague()}),e._uU(89,"Borrar"),e.qZA()()()()()()),2&i&&(e.xp6(8),e.hij("",e.lcZ(9,16,"leagues.league")," "),e.xp6(5),e.Oqu(e.lcZ(14,18,"commun_translations.list")),e.xp6(11),e.Oqu(e.lcZ(25,20,"leagues.league_list")),e.xp6(4),e.Q6J("ngModel",n.searchDataValue),e.xp6(22),e.Oqu(e.lcZ(51,22,"leagues.name")),e.xp6(3),e.Oqu(e.lcZ(54,24,"club_translations.sport")),e.xp6(3),e.Oqu(e.lcZ(57,26,"leagues.day_start")),e.xp6(3),e.Oqu(e.lcZ(60,28,"leagues.status")),e.xp6(4),e.Q6J("ngForOf",n.leaguesList),e.xp6(4),e.lnq(" Showing ",n.serialNumberArray[0]," to ",n.serialNumberArray[n.serialNumberArray.length-1]," of ",n.totalData," entries "),e.xp6(4),e.Q6J("ngClass",e.VKq(30,S,1===n.currentPage)),e.xp6(3),e.Q6J("ngForOf",n.pageNumberArray),e.xp6(1),e.Q6J("ngClass",e.VKq(32,S,n.currentPage===n.pageNumberArray[n.pageNumberArray.length-1]||0===n.leaguesList.length)),e.xp6(8),e.Q6J("ngIf",n.league_selected))},dependencies:[g.mk,g.sg,g.O5,d.rH,d.Od,l.Fj,l.JJ,l.On,q.YE,q.nU,g.uU,m.X$]}),a})();var ke=_(35226),we=_.n(ke),Me=_(22477);const Je=["closebutton"],Ue=["closebutton_delete_draws"];function Ne(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.tabSeleted(2))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.categories")))}function Qe(a,r){1&a&&(e.TgZ(0,"a",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.categories")))}const Pe=function(a){return["/leagues/all-players",a]};function Se(a,r){if(1&a&&(e.TgZ(0,"a",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const s=e.oxw();e.Q6J("routerLink",e.VKq(4,Pe,s.id_league)),e.xp6(1),e.Oqu(e.lcZ(2,2,"tournaments.payments"))}}function Oe(a,r){1&a&&(e.TgZ(0,"a",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"tournaments.payments")))}function Ie(a,r){if(1&a&&(e.TgZ(0,"mat-option",63),e._uU(1),e.qZA()),2&a){const s=r.$implicit;e.Q6J("value",s.id),e.xp6(1),e.hij(" ",s.name," ")}}function je(a,r){if(1&a&&(e.TgZ(0,"mat-option",63),e._uU(1),e.qZA()),2&a){const s=r.$implicit;e.Q6J("value",s.id),e.xp6(1),e.hij(" ",s.name," ")}}const O=function(){return{standalone:!0}};function Ee(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"label"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",38),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"mat-select",45),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw(2);return e.KtG(n.match_type_id=i)}),e.ALo(8,"translate"),e.YNc(9,je,2,2,"mat-option",46),e.qZA()()()}if(2&a){const s=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,5,"club_translations.type_match")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(8,7,"club_translations.select_type")),e.Q6J("ngModel",s.match_type_id)("ngModelOptions",e.DdM(9,O)),e.xp6(2),e.Q6J("ngForOf",s.match_types)}}function Ye(a,r){if(1&a&&(e.TgZ(0,"div",64),e._UZ(1,"img",65),e.qZA()),2&a){const s=e.oxw(2);e.xp6(1),e.Q6J("src",s.image_preview,e.LSH)}}function De(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.save")))}function Fe(a,r){if(1&a&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&a){const s=r.$implicit;e.xp6(1),e.Oqu(s)}}function Ke(a,r){if(1&a&&(e.TgZ(0,"ul"),e.YNc(1,Fe,2,1,"li",71),e.qZA()),2&a){const s=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",s.message_errors)}}function Ge(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",67)(1,"div",68)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",69),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.cleanMessage())}),e._UZ(7,"span",70),e.qZA(),e.YNc(8,Ke,2,1,"ul",23),e.qZA()()}if(2&a){const s=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,3,"commun_translations.error")," "),e.xp6(2),e.hij(" ",s.error_message," "),e.xp6(3),e.Q6J("ngIf",s.message_errors.length>0)}}function He(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",67)(1,"div",72)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",69),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.cleanMessage())}),e._UZ(7,"span",70),e.qZA()()()}if(2&a){const s=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,2,"commun_translations.success")," "),e.xp6(2),e.hij(" ",s.success_message," ")}}function ze(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",32)(3,"div",33)(4,"form")(5,"div",3)(6,"div",34)(7,"div",35)(8,"h4"),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",36)(12,"div",37)(13,"label"),e._uU(14),e.ALo(15,"translate"),e.TgZ(16,"span",38),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"input",39),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.name=i)}),e.qZA()()(),e.TgZ(19,"div",36)(20,"div",37)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.TgZ(24,"span",38),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"input",40),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.date_start=i)}),e.qZA(),e._UZ(27,"mat-datepicker",null,41)(29,"mat-datepicker-toggle",42),e.qZA()(),e.TgZ(30,"div",43)(31,"div",37)(32,"label"),e._uU(33),e.ALo(34,"translate"),e.TgZ(35,"span",38),e._uU(36,"*"),e.qZA()(),e.TgZ(37,"input",44),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.price=i)}),e.qZA()()(),e.TgZ(38,"div",36)(39,"div",37)(40,"label"),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",38),e._uU(44,"*"),e.qZA()(),e.TgZ(45,"mat-select",45),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.type_sport=i)}),e.ALo(46,"translate"),e.YNc(47,Ie,2,2,"mat-option",46),e.qZA()()(),e.YNc(48,Ee,10,10,"div",47),e.TgZ(49,"div",34)(50,"div",35)(51,"h4"),e._uU(52),e.ALo(53,"translate"),e.qZA()()(),e.TgZ(54,"div",43)(55,"div",37)(56,"label"),e._uU(57),e.ALo(58,"translate"),e.TgZ(59,"span",38),e._uU(60,"*"),e.qZA()(),e.TgZ(61,"input",48),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.points_per_win_2_0=i)}),e.qZA()()(),e.TgZ(62,"div",43)(63,"div",37)(64,"label"),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"span",38),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"input",49),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.points_per_lost_0_2=i)}),e.qZA()()(),e.TgZ(70,"div",43)(71,"div",37)(72,"label"),e._uU(73),e.ALo(74,"translate"),e.TgZ(75,"span",38),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"input",50),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.points_per_win_2_1=i)}),e.qZA()()(),e.TgZ(78,"div",43)(79,"div",37)(80,"label"),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",38),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"input",51),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.points_per_lost_1_2=i)}),e.qZA()()(),e.TgZ(86,"div",52)(87,"div",53)(88,"label",54),e._uU(89),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"div",55)(92,"input",56),e.NdJ("change",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.loadFile(i))}),e.qZA(),e.TgZ(93,"label",57),e._uU(94),e.ALo(95,"translate"),e.qZA()()()(),e.YNc(96,Ye,2,1,"div",58),e.TgZ(97,"div",34)(98,"div",59)(99,"button",60),e._uU(100),e.ALo(101,"translate"),e.qZA(),e._uU(102,"\xa0 "),e.YNc(103,De,3,3,"button",61),e.qZA()(),e.YNc(104,Ge,9,5,"div",62),e.YNc(105,He,8,4,"div",62),e.qZA()()()()()()}if(2&a){const s=e.MAs(28),t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,32,"leagues.data")),e.xp6(5),e.Oqu(e.lcZ(15,34,"leagues.league_name")),e.xp6(4),e.Q6J("ngModel",t.name),e.xp6(4),e.hij("",e.lcZ(23,36,"leagues.day_start")," "),e.xp6(4),e.Q6J("ngModel",t.date_start)("matDatepicker",s),e.xp6(3),e.Q6J("for",s),e.xp6(4),e.Oqu(e.lcZ(34,38,"tournaments.price")),e.xp6(4),e.Q6J("ngModel",t.price),e.xp6(4),e.hij("",e.lcZ(42,40,"club_translations.sport")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(46,42,"club_translations.select_sport_type")),e.Q6J("ngModel",t.type_sport)("ngModelOptions",e.DdM(60,O)),e.xp6(2),e.Q6J("ngForOf",t.kind_sport),e.xp6(1),e.Q6J("ngIf","2"==t.type_sport),e.xp6(4),e.Oqu(e.lcZ(53,44,"club_translations.points")),e.xp6(5),e.hij("",e.lcZ(58,46,"leagues.points_for_winning")," 2-0"),e.xp6(4),e.Q6J("ngModel",t.points_per_win_2_0),e.xp6(4),e.hij("",e.lcZ(66,48,"leagues.points_set_winning_loser")," 0-2"),e.xp6(4),e.Q6J("ngModel",t.points_per_lost_0_2),e.xp6(4),e.hij("",e.lcZ(74,50,"leagues.points_for_winning")," 2-1"),e.xp6(4),e.Q6J("ngModel",t.points_per_win_2_1),e.xp6(4),e.hij("",e.lcZ(82,52,"leagues.points_set_winning_loser")," 1-2"),e.xp6(4),e.Q6J("ngModel",t.points_per_lost_1_2),e.xp6(4),e.hij("",e.lcZ(90,54,"leagues.logo")," "),e.xp6(5),e.Oqu(e.lcZ(95,56,"leagues.form_select_img")),e.xp6(2),e.Q6J("ngIf",t.image_preview),e.xp6(3),e.Q6J("routerLink",t.routes.leagueList),e.xp6(1),e.Oqu(e.lcZ(101,58,"commun_translations.come_back")),e.xp6(3),e.Q6J("ngIf",t.hasPermission("edit_league")&&0==t.matchs_finished),e.xp6(1),e.Q6J("ngIf",""!=t.error_message),e.xp6(1),e.Q6J("ngIf",""!=t.success_message)}}function Ve(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",36)(1,"div",79)(2,"div",80)(3,"div",37)(4,"label"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"span",38),e._uU(8,"*"),e.qZA()(),e.TgZ(9,"input",81),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw(2);return e.KtG(n.name_category=i)}),e.qZA()()(),e.TgZ(10,"div",37)(11,"div",82)(12,"button",66),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.addCategory())}),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()()}if(2&a){const s=e.oxw(2);e.xp6(5),e.hij("",e.lcZ(6,3,"leagues.name")," "),e.xp6(4),e.Q6J("ngModel",s.name_category),e.xp6(4),e.hij("",e.lcZ(14,5,"leagues.add")," ")}}function $e(a,r){1&a&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.remove")))}function Be(a,r){1&a&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"leagues.setting")))}function We(a,r){1&a&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commun_translations.view")))}const b=function(a){return{incomplete_category:a}};function Re(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"td",84)(1,"a",86),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(),n=i.$implicit,o=i.index,c=e.oxw(2);return e.KtG(c.selectCategory(n,o))}),e._UZ(2,"i",87),e.qZA()()}if(2&a){const s=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,b,null==s.type||0==s.total_couple))}}const I=function(a){return["/category/data",a,1]};function Xe(a,r){if(1&a&&(e.TgZ(0,"td",84)(1,"a",88),e._UZ(2,"img",89),e.qZA()()),2&a){const s=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(2,b,null==s.type||0==s.total_couple)),e.xp6(1),e.Q6J("routerLink",e.VKq(4,I,s.id))}}function et(a,r){if(1&a&&(e.TgZ(0,"td",84)(1,"a",88),e._UZ(2,"img",89),e.qZA()()),2&a){const s=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(2,b,null==s.type||0==s.total_couple)),e.xp6(1),e.Q6J("routerLink",e.VKq(4,I,s.id))}}function tt(a,r){if(1&a&&(e.ynx(0),e.TgZ(1,"tr",83)(2,"td",84),e._uU(3),e.qZA(),e.YNc(4,Re,3,3,"td",85),e.YNc(5,Xe,3,6,"td",85),e.YNc(6,et,3,6,"td",85),e.qZA(),e.BQk()),2&a){const s=r.$implicit,t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(6,b,null==s.type||0==s.total_couple)),e.xp6(1),e.AsE(" ",s.name," (",s.total_couple,") "),e.xp6(1),e.Q6J("ngIf",1==t.can_edit),e.xp6(1),e.Q6J("ngIf",1==t.can_edit),e.xp6(1),e.Q6J("ngIf",0==t.can_edit)}}function at(a,r){if(1&a&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&a){const s=r.$implicit;e.xp6(1),e.Oqu(s)}}function st(a,r){if(1&a&&(e.TgZ(0,"ul"),e.YNc(1,at,2,1,"li",71),e.qZA()),2&a){const s=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",s.message_errors_category)}}function it(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",67)(1,"div",68)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",69),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.cleanMessage())}),e._UZ(7,"span",70),e.qZA(),e.YNc(8,st,2,1,"ul",23),e.qZA()()}if(2&a){const s=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,3,"commun_translations.error")),e.xp6(2),e.hij(" ",s.error_message_category," "),e.xp6(3),e.Q6J("ngIf",s.message_errors_category.length>0)}}function nt(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",67)(1,"div",72)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5),e.TgZ(6,"button",69),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(2);return e.KtG(i.cleanMessage())}),e._UZ(7,"span",70),e.qZA()()()}if(2&a){const s=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,"commun_translations.success")),e.xp6(2),e.hij(" ",s.success_message_category," ")}}function rt(a,r){if(1&a&&(e.TgZ(0,"li")(1,"div",93)(2,"div",94)(3,"span"),e._uU(4),e.qZA()()()()),2&a){const s=r.$implicit;e.xp6(4),e.hij(" ",s,"")}}function ot(a,r){if(1&a&&(e.ynx(0),e.TgZ(1,"div",73)(2,"div",90)(3,"div",32)(4,"div",33)(5,"div",91)(6,"div",92)(7,"ul"),e.YNc(8,rt,5,1,"li",71),e.qZA()()()()()()(),e.BQk()),2&a){const s=e.oxw(2);e.xp6(8),e.Q6J("ngForOf",s.messages)}}function lt(a,r){1&a&&(e.TgZ(0,"div",99)(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.hij("",e.lcZ(3,3,"leagues.journeys_to_be_defined"),". "),e.xp6(3),e.hij(" ",e.lcZ(6,5,"leagues.no_journeys"),"."),e.xp6(3),e.hij("",e.lcZ(9,7,"leagues.create_jorney_text"),"."))}function _t(a,r){1&a&&(e.TgZ(0,"div",100)(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()()),2&a&&(e.xp6(2),e.hij("",e.lcZ(3,2,"leagues.journeys_to_be_defined"),". "),e.xp6(3),e.hij(" ",e.lcZ(6,4,"leagues.no_draw_no_couples"),"."))}function ct(a,r){1&a&&(e.TgZ(0,"div",100)(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.hij("",e.lcZ(3,3,"leagues.league_setup"),". "),e.xp6(3),e.hij(" ",e.lcZ(6,5,"leagues.league_setup_info"),"."),e.xp6(3),e.hij("",e.lcZ(9,7,"leagues.consult_categories"),"."))}function gt(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",101)(1,"div",102)(2,"button",103),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(3);return e.KtG(i.configureJourneys())}),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"leagues.create_jorneys")))}function ut(a,r){1&a&&(e.TgZ(0,"div",101)(1,"div",102)(2,"a",104),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"leagues.reset_league")))}function dt(a,r){if(1&a&&(e.ynx(0),e.TgZ(1,"div",73)(2,"div",90)(3,"div",32)(4,"div",33)(5,"div",91)(6,"div",92)(7,"ul",95)(8,"li")(9,"div",93),e.YNc(10,lt,10,9,"div",96),e.YNc(11,_t,7,6,"div",97),e.YNc(12,ct,10,9,"div",97),e.qZA()()(),e.YNc(13,gt,5,3,"div",98),e.YNc(14,ut,5,3,"div",98),e.qZA()()()()()(),e.BQk()),2&a){const s=e.oxw(2);e.xp6(10),e.Q6J("ngIf",0==s.category_no_couple&&0==s.league_created),e.xp6(1),e.Q6J("ngIf",1==s.category_no_couple&&0==s.league_created),e.xp6(1),e.Q6J("ngIf",1==s.league_created),e.xp6(1),e.Q6J("ngIf",0==s.category_no_couple&&s.hasPermission("edit_league")&&0==s.league_created),e.xp6(1),e.Q6J("ngIf",0==s.category_no_couple&&s.hasPermission("edit_league")&&1==s.league_created)}}function pt(a,r){if(1&a&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",32)(3,"div",33)(4,"form"),e.ynx(5),e.TgZ(6,"div",73)(7,"div",74)(8,"h5",75),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"form")(12,"div",3),e.YNc(13,Ve,15,7,"div",47),e.TgZ(14,"div",76)(15,"div",77)(16,"table",78)(17,"thead")(18,"tr")(19,"th"),e._uU(20),e.ALo(21,"translate"),e.ALo(22,"translate"),e.qZA(),e.YNc(23,$e,3,3,"th",23),e.YNc(24,Be,3,3,"th",23),e.YNc(25,We,3,3,"th",23),e.qZA()(),e.TgZ(26,"tbody"),e.YNc(27,tt,7,8,"ng-container",71),e.qZA()()()(),e.TgZ(28,"div",3),e.YNc(29,it,9,5,"div",62),e.YNc(30,nt,8,4,"div",62),e.qZA(),e.YNc(31,ot,9,1,"ng-container",23),e.YNc(32,dt,15,5,"ng-container",23),e.qZA()()(),e.BQk(),e.qZA()()()()()),2&a){const s=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,12,"leagues.categories")),e.xp6(4),e.Q6J("ngIf",s.hasPermission("edit_league")),e.xp6(7),e.AsE("",e.lcZ(21,14,"leagues.categories")," (",e.lcZ(22,16,"leagues.couples"),")"),e.xp6(3),e.Q6J("ngIf",1==s.can_edit),e.xp6(1),e.Q6J("ngIf",1==s.can_edit),e.xp6(1),e.Q6J("ngIf",0==s.can_edit),e.xp6(2),e.Q6J("ngForOf",s.categories_list),e.xp6(2),e.Q6J("ngIf",""!=s.error_message_category),e.xp6(1),e.Q6J("ngIf",""!=s.success_message_category),e.xp6(1),e.Q6J("ngIf",1==s.creating_journey),e.xp6(1),e.Q6J("ngIf",0==s.creating_journey)}}function ht(a,r){if(1&a&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const s=e.oxw();e.xp6(1),e.AsE("",e.lcZ(2,2,"tournaments.sure_delete_category")," ",s.category_selected_name,"?")}}const k=function(a){return{active:a}};let j=(()=>{const r=class{constructor(t,i,n,o,c,p){this.leagueSrv=t,this.activateRoute=i,this.categorySrv=n,this.translate=o,this.journeySrv=p,this.routes=T._,this.name="",this.date_start="",this.image_preview="assets/img/img-06.jpg",this.id_league=0,this.success_message="",this.error_message="",this.message_errors=[],this.message_errors_category=[],this.name_category="",this.description_category="",this.categories_list=[],this.error_message_category="",this.success_message_category="",this.can_edit=!1,this.points_per_win_2_0=0,this.points_per_win_2_1=0,this.points_per_lost_0_2=0,this.points_per_lost_1_2=0,this.translations=[],this.courts=[],this.hasPadelCourts=!1,this.hasTennisCourts=!1,this.hasPickleballCourts=!1,this.hasSquashCourts=!1,this.hasBadmintonCourts=!1,this.kind_sport=[],this.type_sport="0",this.price=0,this.match_types=[],this.match_type_id="0",this.matchs_finished=0,this.tab_selected=1,this.category_selected_name="",this.creating_journey=0,this.category_no_couple=!1,this.journey_generated=0,this.exist_category_not_configured=!1,this.league_created=!1,this.total_journeys=0,this.loaded=!1,this.messages=[],this.timeLeft=60,"es"==this.leagueSrv.authSrv.language&&(c.getFirstDayOfWeek=()=>1)}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.hasPermission(),this.activateRoute.params.subscribe(t=>{this.id_league=t.id,t.tab&&(this.tab_selected=t.tab),this.getLeagueSelected()}),this.leagueSrv.config().subscribe(t=>{this.courts=t.courts,this.typeOfCourtsClub(),this.typeMatch()})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","leagues","leagues.leagues_messages","club_translations"]).subscribe(t=>{this.translations=t})}hasPermission(t=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes(t))&&(this.can_edit=!0,!0)}getLeagueSelected(){this.leagueSrv.getLeague(this.id_league).subscribe(t=>{this.league_selected=t.league,this.matchs_finished=t.match_finiched,this.name=this.league_selected.name,this.type_sport=this.league_selected.sport_type,this.date_start=this.league_selected.start_date,this.image_preview=this.league_selected.avatar,this.categories_list=this.league_selected.category,this.points_per_win_2_0=this.league_selected.points_per_win_2_0,this.points_per_win_2_1=this.league_selected.points_per_win_2_1,this.points_per_lost_0_2=this.league_selected.points_per_lost_0_2,this.points_per_lost_1_2=this.league_selected.points_per_lost_1_2,this.price=this.league_selected.price,this.match_type_id=this.league_selected.type_match,this.total_journeys=t.total_journeys,this.timeLeft=this.categories_list.length,this.total_journeys>0&&(this.league_created=!0),this.existsNoCoupleCategory(),this.loaded=!0})}loadFile(t){if(t.target.files[0].type.indexOf("image")<0)return alert(this.translations.commun_translations.only_type_img),void(this.image_preview=this.image_preview?this.image_preview:"assets/img/img-06.jpg");if(t.target.files[0].size>2e6)return alert(this.translations.commun_translations.max_size_img),void(this.fileAvatar="");this.fileAvatar=t.target.files[0];let i=new FileReader;i.readAsDataURL(this.fileAvatar),i.onloadend=()=>this.image_preview=i.result}cleanMessage(){this.error_message="",this.success_message="",this.message_errors=[],this.existsNoCoupleCategory(),this.error_message_category="",this.success_message_category=""}save(){if(this.cleanMessage(),""==this.name)return void(this.error_message=this.translations["leagues.leagues_messages"].error_1);if(this.name&&this.name.length>191)return void(this.error_message=this.translations["leagues.leagues_messages"].error_2);if("0"==this.type_sport)return void(this.error_message=this.translations["tournaments.tournaments_messages"].error_13);if("2"==this.type_sport&&"0"==this.match_type_id)return void(this.error_message=this.translations["leagues.leagues_messages"].error_11);if(""==this.date_start)return void(this.error_message=this.translations["leagues.leagues_messages"].error_3);if("number"!=typeof+this.points_per_win_2_0)return void(this.error_message=this.translations["leagues.leagues_messages"].error_4);if("number"!=typeof+this.points_per_win_2_1)return void(this.error_message=this.translations["leagues.leagues_messages"].error_8);if("number"!=typeof+this.points_per_lost_0_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_9);if("number"!=typeof+this.points_per_lost_1_2)return void(this.error_message=this.translations["leagues.leagues_messages"].error_10);let t=new FormData;t.append("name",this.name),t.append("sport_type",this.type_sport),t.append("start_date",this.date_start),t.append("points_per_win_2_0",this.points_per_win_2_0.toString()),t.append("points_per_win_2_1",this.points_per_win_2_1.toString()),t.append("points_per_lost_0_2",this.points_per_lost_0_2.toString()),t.append("points_per_lost_1_2",this.points_per_lost_1_2.toString()),t.append("price",this.price.toString()),"1"==this.match_type_id&&t.append("match_type","double"),"2"==this.match_type_id&&t.append("match_type","singles"),t.append("imagen",this.fileAvatar),this.leagueSrv.editLeague(this.id_league,t).subscribe(i=>{200==i.message?this.success_message=this.translations.commun_translations.data_save_correctly:422==i.message?(this.error_message=this.translations.commun_translations.data_save_error,this.message_errors=i.errors_text):this.error_message=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}addCategory(){if(this.cleanMessage(),!this.name_category)return void(this.error_message=this.translations["leagues.leagues_messages"].error_6);let t={id:null,name:this.name_category,description:this.description_category,league_id:this.id_league,total_couple:0};this.categorySrv.storeCategory(t).subscribe(i=>{200==i.message?(t.id=i.category_id,this.categories_list.push(t),this.name_category="",this.description_category="",this.category_no_couple=!0,this.success_message_category=this.translations.commun_translations.data_save_correctly):422==i.message?(this.error_message_category=this.translations.commun_translations.data_save_error,this.message_errors_category=i.errors_text):this.error_message_category=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}deleteCategory(){this.cleanMessage(),this.categorySrv.deleteCategory(this.category_selected_id).subscribe(t=>{200==t.message?(this.categories_list.splice(this.index,1),this.name_category="",this.description_category="",this.category_selected_name="",this.category_selected_id="",this.closebutton.nativeElement.click(),this.success_message_category=this.translations["leagues.leagues_messages"].success_delete,this.existsNoCoupleCategory()):this.success_message_category=this.translations.commun_translations.data_delete_error})}cancelCategory(){this.name_category="",this.description_category=""}typeMatch(){this.match_types.push({id:0,name:"..."},{id:1,name:this.translations.club_translations.match_type_double},{id:2,name:this.translations.club_translations.match_type_single})}typeOfCourtsClub(){this.kind_sport.push({id:0,name:"..."}),this.courts.some(t=>{1==t.sport_type&&(this.hasPadelCourts=!0),2==t.sport_type&&(this.hasTennisCourts=!0),3==t.sport_type&&(this.hasPickleballCourts=!0),4==t.sport_type&&(this.hasSquashCourts=!0),5==t.sport_type&&(this.hasBadmintonCourts=!0)}),this.hasPadelCourts&&this.kind_sport.push({id:1,name:this.translations.club_translations.sport_1}),this.hasTennisCourts&&this.kind_sport.push({id:2,name:this.translations.club_translations.sport_2}),this.hasPickleballCourts&&this.kind_sport.push({id:3,name:this.translations.club_translations.sport_3}),this.hasSquashCourts&&this.kind_sport.push({id:4,name:this.translations.club_translations.sport_4}),this.hasBadmintonCourts&&this.kind_sport.push({id:5,name:this.translations.club_translations.sport_5})}tabSeleted(t){this.tab_selected=t}selectCategory(t,i){this.category_selected_id=t.id,this.category_selected_name=t.name,this.index=i}existsNoCoupleCategory(){this.category_no_couple=!1;for(let t=0;t<this.categories_list.length;t++)if(0==this.categories_list[t].total_couple&&0==this.category_no_couple)return void(this.category_no_couple=!0)}existsCategoryNotDonfigure(){for(let t=0;t<this.categories_list.length;t++)if((0==this.categories_list[t].type||null==this.categories_list[t].type)&&0==this.exist_category_not_configured)return void(this.exist_category_not_configured=!0)}configureJourneys(){this.existsCategoryNotDonfigure(),this.existsNoCoupleCategory(),1!=this.category_no_couple&&1!=this.exist_category_not_configured?0==this.category_no_couple&&0==this.exist_category_not_configured&&(this.league_created=!0,this.creating_journey=1,this.journeySrv.createLeagueCalendar(this.id_league).subscribe(t=>{200==t.message&&(this.startTimer(),this.league_created=!0)})):we().fire({title:this.translations.leagues.operation_not_permitted,text:this.translations.leagues.cannot_configure_league,icon:"warning"})}startTimer(){let t=0;this.messages.push(this.translations.leagues.start_setting_up),this.interval=setInterval(()=>{this.timeLeft>=0?(this.messages.push(t<this.categories_list.length?this.translations.leagues.setting_up+this.categories_list[t].name:this.translations.leagues.success_draw_created),this.timeLeft--,t++):(this.messages=[],this.creating_journey=0)},2500)}resetLeague(){this.leagueSrv.resetLeague(this.id_league).subscribe(t=>{200==t.message?(this.league_created=!1,this.closebutton_delete_draw.nativeElement.click()):this.league_created=!0})}};let a=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(y),e.Y36(d.gz),e.Y36(J.H),e.Y36(m.sK),e.Y36(Z._A),e.Y36(Me.W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-league"]],viewQuery:function(i,n){if(1&i&&(e.Gf(Je,5),e.Gf(Ue,5)),2&i){let o;e.iGM(o=e.CRH())&&(n.closebutton=o.first),e.iGM(o=e.CRH())&&(n.closebutton_delete_draw=o.first)}},decls:60,vars:38,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item",3,"ngClass"],["href","#","onclick","return false;",1,"nav-link",3,"click"],["href","#","onclick","return false;","class","nav-link",3,"click",4,"ngIf"],["class","nav-link",4,"ngIf"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","row",4,"ngIf"],["id","delete_category","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],["id","delete_journeys","role","dialog",1,"modal","fade","delete-modal"],["closebutton_delete_draws",""],[1,"nav-link"],[1,"nav-link",3,"routerLink"],[1,"card"],[1,"card-body"],[1,"col-12"],[1,"form-heading"],[1,"col-12","col-md-4","col-xl-4"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","date_start","type","text","placeholder","","matInput","",1,"form-control","datetimepicker",3,"ngModel","matDatepicker","ngModelChange"],["picker",""],["matIconSuffix","",3,"for"],[1,"col-12","col-md-3","col-xl-3"],["name","price","type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 col-md-4 col-xl-4",4,"ngIf"],["name","points_per_win_2_0","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_0_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_win_2_1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","points_per_lost_1_2","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-top-form"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],["type","file","accept","image/*","name","image","id","file",1,"hide-input",3,"change"],["for","file",1,"upload"],["class","",4,"ngIf"],[1,"doctor-submit","text-end"],["type","submit",1,"btn","btn-primary","cancel-form",3,"routerLink"],["type","button","class","btn btn-primary submit-form me-2",3,"click",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[3,"value"],[1,""],["alt","","width","150px","height","150px",3,"src"],["type","button",1,"btn","btn-primary","submit-form","me-2",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"row","my-4"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"col-12","col-md-8","col-xl-8","settings-form"],[1,"table-responsive"],[1,"table","mb-0"],[1,"row","settings-form"],[1,"col-9"],["name","name_category","type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"doctor-submit"],[1,"align-items-center","table-success"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#delete_category","href","#","onclick","return false;",1,"btn","trash","trash-style",3,"click"],[1,"feather","icon-trash-2","service"],["href","#",1,"btn","trash","trash-style",3,"routerLink"],["src","assets/img/icons/menu-icon-16.svg","alt",""],[1,"col-md-12"],[1,"activity"],[1,"activity-box","comman-activitys"],[1,"activity-content","timeline-group-blk"],[1,"flex-grow-1"],[1,"activity-list","text-center"],["class"," flex-grow-1 comman-activitys",4,"ngIf"],["class","comman-activitys flex-grow-1",4,"ngIf"],["class","col-12 d-flex align-items-center",4,"ngIf"],[1,"flex-grow-1","comman-activitys"],[1,"comman-activitys","flex-grow-1"],[1,"col-12","d-flex","align-items-center"],[1,"follow-btn-group"],["type","submit",1,"btn","btn-info","message-btns",3,"click"],["onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_journeys",1,"btn","btn-warning","message-btns"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"li",6),e._UZ(11,"i",8),e.qZA(),e.TgZ(12,"li",9),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()(),e.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"a",13),e.NdJ("click",function(){return n.tabSeleted(1)}),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"li",12),e.YNc(22,Ne,3,3,"a",14),e.YNc(23,Qe,3,3,"a",15),e.qZA(),e.TgZ(24,"li",12),e.YNc(25,Se,3,6,"a",16),e.YNc(26,Oe,3,3,"a",15),e.qZA()()(),e.YNc(27,ze,106,61,"div",17),e.YNc(28,pt,33,18,"div",17),e.qZA()(),e.TgZ(29,"div",18)(30,"div",19)(31,"div",20)(32,"div",21),e._UZ(33,"img",22),e.YNc(34,ht,3,4,"h3",23),e.TgZ(35,"div",24)(36,"a",25,26),e._uU(38,"Cerrar"),e.qZA(),e.TgZ(39,"button",27),e.NdJ("click",function(){return n.deleteCategory()}),e._uU(40,"Borrar"),e.qZA()()()()()(),e.TgZ(41,"div",28)(42,"div",19)(43,"div",20)(44,"div",21),e._UZ(45,"img",22),e.TgZ(46,"h3"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"p"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"div",24)(53,"a",25,29),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"button",27),e.NdJ("click",function(){return n.resetLeague()}),e._uU(58),e.ALo(59,"translate"),e.qZA()()()()()()),2&i&&(e.xp6(7),e.Q6J("routerLink",n.routes.leagueList),e.xp6(1),e.hij("",e.lcZ(9,18,"leagues.leagues")," "),e.xp6(5),e.Oqu(e.lcZ(14,20,"commun_translations.edit")),e.xp6(4),e.Q6J("ngClass",e.VKq(32,k,1==n.tab_selected)),e.xp6(2),e.Oqu(e.lcZ(20,22,"leagues.tabs.general_data")),e.xp6(2),e.Q6J("ngClass",e.VKq(34,k,2==n.tab_selected)),e.xp6(1),e.Q6J("ngIf",0!=n.id_league),e.xp6(1),e.Q6J("ngIf",0==n.id_league),e.xp6(1),e.Q6J("ngClass",e.VKq(36,k,3==n.tab_selected)),e.xp6(1),e.Q6J("ngIf",0!=n.id_league),e.xp6(1),e.Q6J("ngIf",0==n.id_league),e.xp6(1),e.Q6J("ngIf",1==n.tab_selected),e.xp6(1),e.Q6J("ngIf",2==n.tab_selected&&1==n.loaded),e.xp6(6),e.Q6J("ngIf",n.league_selected),e.xp6(13),e.Oqu(e.lcZ(48,24,"leagues.sure_delete_journeys")),e.xp6(3),e.Oqu(e.lcZ(51,26,"leagues.info_delete_journeys")),e.xp6(5),e.Oqu(e.lcZ(56,28,"commun_translations.close")),e.xp6(3),e.Oqu(e.lcZ(59,30,"commun_translations.remove")))},dependencies:[g.mk,g.sg,g.O5,d.rH,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.F,f.Mq,f.hl,f.nW,U.R9,C.gD,Z.ey,m.X$],styles:[".settings-form[_ngcontent-%COMP%]   .trash[_ngcontent-%COMP%]{display:inline!important}.incomplete_category[_ngcontent-%COMP%]{background-color:orange}.complete_category[_ngcontent-%COMP%]{background-color:green!important}"]}),a})();var mt=_(53296);function ft(a,r){if(1&a&&(e.TgZ(0,"mat-option",53),e._uU(1),e.qZA()),2&a){const s=r.$implicit;e.Q6J("value",s.id),e.xp6(1),e.hij(" ",s.name," ")}}function vt(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"td")(1,"div",55)(2,"a",56),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",57)(6,"a",58),e.NdJ("click",function(){e.CHM(s);const i=e.oxw().$implicit,n=e.oxw(2);return e.KtG(n.unpaidTournament(i.id))}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()}2&a&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"tournaments.payment_paid")," "),e.xp6(4),e.Oqu(e.lcZ(8,4,"commun_translations.cancel")))}function Zt(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"td")(1,"div",55)(2,"a",59),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",57)(6,"a",58),e.NdJ("click",function(){e.CHM(s);const i=e.oxw().$implicit,n=e.oxw(2);return e.KtG(n.paidTournament(i.id))}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()}2&a&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"members.pending")," "),e.xp6(4),e.Oqu(e.lcZ(8,4,"tournaments.payment_paid")))}function xt(a,r){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,vt,9,6,"td",54),e.YNc(6,Zt,9,6,"td",54),e.qZA()),2&a){const s=r.$implicit;e.xp6(2),e.AsE("",s.player_name," ",s.player_surname,""),e.xp6(2),e.hij(" ",s.name," "),e.xp6(1),e.Q6J("ngIf","PAID"==s.paid_status),e.xp6(1),e.Q6J("ngIf","PENDING"==s.paid_status)}}function yt(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"li",61),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(3);return e.KtG(i.moveToPage(i.currentPage-2))}),e.TgZ(1,"a",62),e._uU(2," ... "),e.qZA()()}if(2&a){const s=e.oxw(3);e.Q6J("hidden",1===s.currentPage)}}function At(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"li",61),e.NdJ("click",function(){e.CHM(s);const i=e.oxw(3);return e.KtG(i.moveToPage(i.currentPage+2))}),e.TgZ(1,"a",62),e._uU(2," ... "),e.qZA()()}if(2&a){const s=e.oxw(3);e.Q6J("hidden",s.currentPage>=s.pageNumberArray[s.pageNumberArray.length-2]||s.totalData<s.serialNumberArray[s.serialNumberArray.length-1])}}function bt(a,r){if(1&a){const s=e.EpF();e.ynx(0),e.TgZ(1,"li",50)(2,"a",52),e.NdJ("click",function(){const n=e.CHM(s).$implicit,o=e.oxw(2);return e.KtG(o.moveToPage(n))}),e._uU(3),e.qZA()(),e.YNc(4,yt,3,1,"li",60),e.YNc(5,At,3,1,"li",60),e.BQk()}if(2&a){const s=r.$implicit,t=r.index,i=e.oxw(2);e.xp6(1),e.ekj("active",s===i.currentPage),e.Q6J("ngClass",i.pageNumberArray[i.currentPage-2]>s&&1!==s&&i.pageNumberArray.length>6||i.pageNumberArray[i.currentPage]<s&&1!==s&&i.pageNumberArray.length>6&&i.pageNumberArray.length!==s?"hide-page-no":"show-page-no"),e.xp6(2),e.hij(" ",s," "),e.xp6(1),e.Q6J("ngIf",0===t&&i.pageNumberArray.length>6&&i.currentPage>2),e.xp6(1),e.Q6J("ngIf",t===i.pageNumberArray.length-2&&i.pageNumberArray.length>6)}}const E=function(){return{standalone:!0}},Y=function(a){return{disabled:a}};function Tt(a,r){if(1&a){const s=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",18)(3,"div",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"div",23)(8,"h3"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",24)(12,"div",25)(13,"a",26),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.refresh())}),e._UZ(14,"img",27),e.qZA()()()()(),e._UZ(15,"div",28),e.qZA()(),e.TgZ(16,"div",29)(17,"form")(18,"div",3)(19,"div",30)(20,"div",31)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"input",32),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.searchDataPlayer=i)}),e.qZA()()(),e.TgZ(25,"div",30)(26,"div",31)(27,"label"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"mat-select",33),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.payment_status=i)}),e.ALo(31,"translate"),e.TgZ(32,"mat-option",34),e._uU(33,"..."),e.qZA(),e.TgZ(34,"mat-option",35),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"mat-option",36),e._uU(38),e.ALo(39,"translate"),e.qZA()()()(),e.TgZ(40,"div",30)(41,"div",31)(42,"label"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"mat-select",33),e.NdJ("ngModelChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.category_id=i)}),e.ALo(46,"translate"),e.YNc(47,ft,2,2,"mat-option",37),e.qZA()()(),e.TgZ(48,"div",30)(49,"div",38)(50,"button",39),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.filter())}),e._uU(51),e.ALo(52,"translate"),e.qZA()()()()()(),e._UZ(53,"br"),e.TgZ(54,"div",40)(55,"table",41),e.NdJ("matSortChange",function(i){e.CHM(s);const n=e.oxw();return e.KtG(n.sortData(i))}),e.TgZ(56,"thead")(57,"tr")(58,"th",42),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"th",42),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"th",42),e._uU(65),e.ALo(66,"translate"),e.qZA()()(),e.TgZ(67,"tbody"),e.YNc(68,xt,7,5,"tr",43),e.qZA()(),e.TgZ(69,"div",44)(70,"div",45)(71,"div",46),e._uU(72),e.qZA()(),e.TgZ(73,"div",47)(74,"div",48)(75,"ul",49)(76,"li",50)(77,"a",51),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.getMoreData("previous"))}),e._uU(78,"Previous"),e.qZA()(),e.YNc(79,bt,6,6,"ng-container",43),e.TgZ(80,"li",50)(81,"a",52),e.NdJ("click",function(){e.CHM(s);const i=e.oxw();return e.KtG(i.getMoreData("next"))}),e._uU(82,"Next "),e.qZA()()()()()()()()()()()}if(2&a){const s=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,25,"tournaments.players")),e.xp6(13),e.hij("",e.lcZ(23,27,"tournaments.player_name")," "),e.xp6(2),e.Q6J("ngModel",s.searchDataPlayer),e.xp6(4),e.hij("",e.lcZ(29,29,"tournaments.payment_status")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(31,31,"tournaments.select_status")),e.Q6J("ngModel",s.payment_status)("ngModelOptions",e.DdM(49,E)),e.xp6(5),e.Oqu(e.lcZ(36,33,"tournaments.payment_pending")),e.xp6(3),e.Oqu(e.lcZ(39,35,"tournaments.payment_paid")),e.xp6(5),e.hij("",e.lcZ(44,37,"tournaments.category")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(46,39,"tournaments.select_category")),e.Q6J("ngModel",s.category_id)("ngModelOptions",e.DdM(50,E)),e.xp6(2),e.Q6J("ngForOf",s.categories_list),e.xp6(4),e.Oqu(e.lcZ(52,41,"tournaments.search")),e.xp6(8),e.Oqu(e.lcZ(60,43,"tournaments.name")),e.xp6(3),e.Oqu(e.lcZ(63,45,"tournaments.category")),e.xp6(3),e.Oqu(e.lcZ(66,47,"tournaments.status")),e.xp6(3),e.Q6J("ngForOf",s.playersList),e.xp6(4),e.lnq(" Showing ",s.serialNumberArray[0]," to ",s.serialNumberArray[s.serialNumberArray.length-1]," of ",s.totalData," entries "),e.xp6(4),e.Q6J("ngClass",e.VKq(51,Y,1===s.currentPage)),e.xp6(3),e.Q6J("ngForOf",s.pageNumberArray),e.xp6(1),e.Q6J("ngClass",e.VKq(53,Y,s.currentPage===s.pageNumberArray[s.pageNumberArray.length-1]||0===s.playersList.length))}}const Ct=function(a){return["/leagues/list-league/edit",a,1]},Lt=function(a){return["/leagues/list-league/edit",a,2]},qt=[{path:"",component:D,children:[{path:"add-league",component:he},{path:"list-league",component:qe},{path:"list-league/edit/:id",component:j},{path:"list-league/edit/:id/:tab",component:j},{path:"all-players/:id",component:(()=>{const r=class{constructor(t,i,n,o){this.tournamentSrv=t,this.activateRoute=i,this.translate=n,this.leagueSrv=o,this.routes=T._,this.tab_selected=1,this.id_league="",this.can_edit=!1,this.loaded=!1,this.translations=[],this.playersList=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=10,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.players_general=[],this.birthdayBeauty="",this.date="",this.searchDataPlayer="",this.payment_status="0",this.court_value="",this.courts_list=[],this.categories_list=[],this.date_start_tournament="",this.date_end_tournament="",this.category_id="",this.isLoaded=!1}ngOnInit(){this.initializeLanguage(),this.user=this.leagueSrv.authSrv.user,this.hasPermission(),this.activateRoute.params.subscribe(t=>{t.id?(this.id_league=t.id,this.getTableData()):this.loaded=!0,t.tab&&(this.tab_selected=t.tab)})}initializeLanguage(){this.translate.use(this.leagueSrv.authSrv.language),this.translate.setDefaultLang(this.leagueSrv.authSrv.language),this.translate.get(["commun_translations","tournaments","club_translations","tournaments.tournaments_messages","tournaments.type_category"]).subscribe(t=>{this.translations=t})}hasPermission(t=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes(t))&&(this.can_edit=!0,!0)}tabSeleted(t){this.tab_selected=t}getTableDataGeneral(){let t=new g.uU("en-US");this.playersList=[],this.serialNumberArray=[],this.playersList.map((i,n)=>{const o=n+1;n>=this.skip&&o<=this.limit&&(this.playersList.push(i),i.birthday=t.transform(i.birthday,"dd/MM/yyyy"),this.serialNumberArray.push(o))}),this.dataSource=new A.by(this.playersList),this.calculateTotalPages(this.totalData,this.pageSize)}searchData(t){this.dataSource.filter=t.trim().toLowerCase(),this.playersList=this.dataSource.filteredData,this.totalData=this.playersList.length}sortData(t){const i=this.playersList.slice();this.playersList=t.active&&""!==t.direction?i.sort((n,o)=>(n[t.active]<o[t.active]?-1:1)*("asc"===t.direction?1:-1)):i}getMoreData(t){"next"==t?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableDataGeneral()):"previous"==t&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableDataGeneral())}moveToPage(t){this.currentPage=t,this.skip=this.pageSelection[t-1].skip,this.limit=this.pageSelection[t-1].limit,t>this.currentPage?this.pageIndex=t-1:t<this.currentPage&&(this.pageIndex=t+1),this.getTableData(this.currentPage)}refresh(){this.pageSelection=[],this.searchDataValue="",this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.searchDataPlayer="",this.payment_status="0",this.court_value="",this.date="",this.category_id="",this.getTableData(),this.isLoaded=!1}calculateTotalPages(t,i){this.pageNumberArray=[],this.totalPages=t/i,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(var n=1;n<=this.totalPages;n++){const o=i*n,c=o-i;this.pageNumberArray.push(n),this.pageSelection.push({skip:c,limit:o})}}filter(){this.searchDataPlayer=this.searchDataPlayer.trim().toLowerCase(),this.currentPage=1,this.getTableData(this.currentPage,this.searchDataPlayer,this.date,this.category_id)}getTableData(t=1,i="",n="",o=""){this.playersList=[],this.serialNumberArray=[];let p,c=new g.uU("en-US");this.date&&(p=c.transform(this.date,"yyyy-MM-dd")),this.leagueSrv.getAllPlayersLeague(this.id_league,t,i,this.payment_status,this.court_value,p,this.category_id).subscribe(x=>{this.totalData=x.total,this.playersList=x.players.data,this.categories_list=x.categories,this.dataSource=new A.by(this.playersList),this.calculateTotalPages(this.totalData,this.pageSize),this.isLoaded=!0})}paidTournament(t){this.leagueSrv.paidPlayerLeague(t).subscribe(i=>{if("200"==i.message){let n=this.playersList.findIndex(o=>o.id==t);-1!=n&&(this.playersList[n].paid_status="PAID")}})}unpaidTournament(t){this.leagueSrv.unpaidPlayerLeague(t).subscribe(i=>{if("200"==i.message){let n=this.playersList.findIndex(o=>o.id==t);-1!=n&&(this.playersList[n].paid_status="PENDING")}})}};let a=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(mt.Z),e.Y36(d.gz),e.Y36(m.sK),e.Y36(y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-players"]],decls:30,vars:23,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link",3,"routerLink","click"],[1,"nav-item","active"],["href","#","onclick","return false;",1,"nav-link",3,"click"],["class","row",4,"ngIf"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"add-group"],[1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],[1,"staff-search-table"],[1,"col-12","col-md-6","col-xl-4"],[1,"form-group","local-forms"],["name","name_patient","id","name_patient","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["value","0"],["value","PENDING"],["value","PAID"],[3,"value",4,"ngFor","ngForOf"],[1,"doctor-submit"],["type","submit",1,"btn","btn-primary","submit-list-form","me-2",3,"click"],[1,"table-responsive","staff-search-table"],["matSort","",1,"table","mb-0","table-striped","my-4",3,"matSortChange"],[1,"color_2"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click"],["href","javascript:void(0);",1,"page-link",3,"click"],[3,"value"],[4,"ngIf"],[1,"dropdown","action-label"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-sm","btn-success","custom-badge","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-end","status-staff"],[1,"dropdown-item","cursor-pointer",3,"click"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"status-red","custom-badge","dropdown-toggle"],["class","page-item",3,"hidden","click",4,"ngIf"],[1,"page-item",3,"hidden","click"],["href","javascript:void(0);",1,"page-link"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"li",6),e._UZ(11,"i",8),e.qZA(),e.TgZ(12,"li",9),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()(),e.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"a",13),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"li",12)(22,"a",14),e.NdJ("click",function(){return n.tabSeleted(2)}),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"li",15)(26,"a",16),e.NdJ("click",function(){return n.tabSeleted(2)}),e._uU(27),e.ALo(28,"translate"),e.qZA()()()(),e.YNc(29,Tt,83,55,"div",17),e.qZA()()),2&i&&(e.xp6(7),e.Q6J("routerLink",n.routes.leagueList),e.xp6(1),e.hij("",e.lcZ(9,9,"leagues.leagues")," "),e.xp6(5),e.Oqu(e.lcZ(14,11,"commun_translations.edit")),e.xp6(5),e.Q6J("routerLink",e.VKq(19,Ct,n.id_league)),e.xp6(1),e.Oqu(e.lcZ(20,13,"leagues.tabs.general_data")),e.xp6(3),e.Q6J("routerLink",e.VKq(21,Lt,n.id_league)),e.xp6(1),e.Oqu(e.lcZ(24,15,"leagues.categories")),e.xp6(4),e.Oqu(e.lcZ(28,17,"tournaments.payments")),e.xp6(2),e.Q6J("ngIf",1==n.isLoaded))},dependencies:[g.mk,g.sg,g.O5,d.rH,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,C.gD,Z.ey,q.YE,m.X$]}),a})()}]}];let kt=(()=>{const r=class{};let a=r;return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.Bz.forChild(qt),d.Bz]}),a})();var wt=_(25108);let Mt=(()=>{const r=class{};let a=r;return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,kt,l.u5,l.UX,u.JF,d.Bz,wt.m]}),a})()}}]);